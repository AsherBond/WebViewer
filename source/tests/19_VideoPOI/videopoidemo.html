<!--
      Video Poi Demo
-->
<!DOCTYPE html>
<html lang="en">
         
      <!--  <script type="text/javascript" src="http://benvanik.github.com/WebGL-Inspector/core/embed.js"></script>  -->
      <script type="text/javascript" src="../../../external/closure-library/closure/goog/base.js"></script>
      <script type="text/javascript" src="../../../external/closure-library/closure/goog/debug/debug.js"></script>
      <script type="text/javascript" src="../../../external/closure-library/closure/goog/debug/logger.js"></script>
      <script type="text/javascript" src="../../../external/closure-library/closure/goog/json/json.js"></script>
      <script type="text/javascript" src="../../../compiled/deps.js"></script>
      <script type="text/javascript">goog.require('owg.engine3d');</script>
      <script type="text/javascript">goog.require('owg.i3dImageLayer');</script>
      <script type="text/javascript">goog.require('owg.vec4');</script>
      <script type="text/javascript">goog.require('owg.Poi');</script>
      <script type="text/javascript">goog.require('owg.VideoPoi');</script>
      <script type="text/javascript">
         
         //---------------------------------------------------------------------
         var engine = null;
         var poi = null;
         var poi2 = null;
         var videoPoi = null;

         
         //---------------------------------------------------------------------
         function OnTimer(delta)
         {
         }
         
         //---------------------------------------------------------------------
         
         function OnResize(w,h)
         {
            width = w;
            height = h;       
         }
         
         //---------------------------------------------------------------------
         function OnKey(key)
         {
            switch(key)
            {
               case (80): //'p' pressed.
                           videoPoi.TogglePlayPause();
                           break;
                                               
               default:    //console.log("Key with kexcode: "+key+" pressed.");
               
            }
         }
         
         //---------------------------------------------------------------------
         
         function OnRender()
         {          
            poi.Draw();
            videoPoi.Draw();
         }
         
         function OnMouseUp(button, x, y)
         {
            //videoPoi.Play();  Todo...
         }
         
         //---------------------------------------------------------------------
         
         function OnInit()
         { 
           
            poi = new Poi(engine);
            poi.SetContent("Press 'p' to play / pause video","WB");
            poi.SetPosition(46.9510827861504654,7.4386324175389165,1200); 
                       
            videoPoi = new VideoPoi(engine);
            videoPoi.SetVideoContent("http://www.w3schools.com/html5/movie.ogg");
            videoPoi.SetPosition(46.9510827861504654,7.2489334175389165,4000);
            videoPoi.SetSize(10);
            
         }
        
         //---------------------------------------------------------------------
        
         function main()
         {
         	engine = new engine3d();
           
            // Set Callbacks:
            engine.SetInitCallback(OnInit);
            engine.SetTimerCallback(OnTimer);
            engine.SetRenderCallback(OnRender);
            engine.SetResizeCallback(OnResize);
            engine.SetKeyDownCallback(OnKey);
            engine.SetMouseUpCallback(OnMouseUp);
            
            // Start engine...
            engine.InitEngine("canvas", true);  // (canvasid, fullscreen)
            engine.CreateScene();               // Create Globe Scene
            engine.SetClearColor(0.5,0.5,1,1);
         }
         
         //---------------------------------------------------------------------
         
      </script>
    </head>
    <body onload="main()">
        <div style="text-align: center">
            <canvas id="canvas" width="640" height="480"></canvas>          
        </div>
    </body>
</html>
