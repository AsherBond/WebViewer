function h(a){throw a;}var i=void 0,l=null;function o(){return function(){}}function aa(a){return function(b){this[a]=b}}function ba(a){return function(){return this[a]}}function p(a){return function(){return a}}var t,u=this;function ca(a){for(var a=a.split("."),b=u,c;c=a.shift();)if(b[c]!=l)b=b[c];else return l;return b}function da(){}
function ea(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function fa(a){var b=ea(a);return b=="array"||b=="object"&&typeof a.length=="number"}function ga(a){return typeof a=="string"}function ha(a){return a[ia]||(a[ia]=++ja)}var ia="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ja=0,ka=Date.now||function(){return+new Date};
function w(a,b){var c=a.split("."),d=u;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&b!==i?d[e]=b:d=d[e]?d[e]:d[e]={}}function la(a,b){function c(){}c.prototype=b.prototype;a.Ce=b.prototype;a.prototype=new c;a.prototype.constructor=a};var x=0,z=1,A=2,ma=3,na=4,oa=5,pa=6,qa=7,ra=8,sa=9,ta=10,ua=11,va=12,wa=13,xa=14,ya=15,za=16,Aa=17,Ba=18,Ca=19,B=20,Da=21,Ea=22,Fa=65533,Ga=65534,Ha=23,Ia=65535;w("OG_OBJECT_CONTEXT",x);w("OG_OBJECT_SCENE",z);w("OG_OBJECT_WORLD",A);w("OG_OBJECT_IMAGELAYER",ma);w("OG_OBJECT_ELEVATIONLAYER",na);w("OG_OBJECT_WAYPOINTLAYER",oa);w("OG_OBJECT_GEOMETRYLAYER",qa);w("OG_OBJECT_VOXELLAYER",ra);w("OG_OBJECT_IMAGE",sa);w("OG_OBJECT_TEXTURE",ta);w("OG_OBJECT_PIXELBUFFER",ua);w("OG_OBJECT_GEOMETRY",va);
w("OG_OBJECT_MESH",wa);w("OG_OBJECT_SURFACE",xa);w("OG_OBJECT_CAMERA",ya);w("OG_OBJECT_TEXT",za);w("OG_OBJECT_BINARYDATA",Aa);w("OG_OBJECT_LIGHT",Ba);w("OG_OBJECT_NAVIGATIONCONTROLLER",Ca);w("OG_OBJECT_POI",B);w("OG_OBJECT_BILLBOARD",Da);w("OG_OBJECT_BILLBOARDLAYER",Ea);w("OG_OBJECT_AOEIMAGELAYER",Fa);w("OG_OBJECT_AOEIMAGE",Ga);w("OG_OBJECT_INVALID",Ia);var C=1,Ja=2,Ka=3,La=4;w("OG_SCENE_3D_ELLIPSOID_WGS84",C);w("OG_SCENE_3D_FLAT_CARTESIAN",Ja);w("OG_SCENE_2D_SCREEN",Ka);w("OG_SCENE_CUSTOM",La);
var Ma=1,Na=2;w("OG_OBJECT_READY",Ma);w("OG_OBJECT_BUSY",Na);w("OG_OBJECT_FAILED",3);var D=[];function E(a){if(a==-1)return l;for(var b=0;b<D.length;b++)if(D[b].id==a)return D[b];return l}function F(){this.parent=l;this.name="ogObject";this.type=Ia;this.id=-1;this.status=Ma;this.C=this.D=l}F.prototype.Oa=o();function G(a){for(var a=a.id,b=0;b<D.length;b++)if(D[b].id==a){D[b].Oa();D.splice(b,1);break}}F.prototype.wa=o();function Oa(a){var b=Pa,c;for(c in b)a.call(i,b[c],c,b)}var Qa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function Ra(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<Qa.length;e++)b=Qa[e],Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])}};function Sa(a){this.stack=Error().stack||"";if(a)this.message=String(a)}la(Sa,Error);Sa.prototype.name="CustomError";function Ta(a){for(var b=1;b<arguments.length;b++)var c=String(arguments[b]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,c);return a}function Ua(a){if(!Va.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Wa,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Xa,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ya,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Za,"&quot;"));return a}var Wa=/&/g,Xa=/</g,Ya=/>/g,Za=/\"/g,Va=/[&<>\"]/;
function $a(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var j=d[g]||"",k=e[g]||"",m=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var r=m.exec(j)||["","",""],n=q.exec(k)||["","",""];if(r[0].length==0&&n[0].length==0)break;c=ab(r[1].length==0?0:parseInt(r[1],10),n[1].length==0?0:parseInt(n[1],10))||ab(r[2].length==0,n[2].length==0)||ab(r[2],n[2])}while(c==
0)}return c}function ab(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};function bb(a,b){b.unshift(a);Sa.call(this,Ta.apply(l,b));b.shift();this.ln=a}la(bb,Sa);bb.prototype.name="AssertionError";function cb(a){h(new bb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var db=Array.prototype,eb=db.indexOf?function(a,b,c){return db.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(ga(a)){if(!ga(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},fb=db.forEach?function(a,b,c){db.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ga(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};var gb="StopIteration"in u?u.StopIteration:Error("StopIteration");function hb(){}hb.prototype.next=function(){h(gb)};hb.prototype.Bh=function(){return this};function ib(a){if(a instanceof hb)return a;if(typeof a.Bh=="function")return a.Bh(!1);if(fa(a)){var b=0,c=new hb;c.next=function(){for(;;)if(b>=a.length&&h(gb),b in a)return a[b++];else b++};return c}h(Error("Not implemented"))}
function jb(a,b){if(fa(a))try{fb(a,b,i)}catch(c){c!==gb&&h(c)}else{a=ib(a);try{for(;;)b.call(i,a.next(),i,a)}catch(d){d!==gb&&h(d)}}};function kb(a){this.Wc={};this.Ja=[];var b=arguments.length;if(b>1){b%2&&h(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.set(arguments[c],arguments[c+1])}else if(a){var d;if(a instanceof kb){c=lb(a);mb(a);d=[];for(b=0;b<a.Ja.length;b++)d.push(a.Wc[a.Ja[b]])}else{var b=[],e=0;for(c in a)b[e++]=c;c=b;b=[];e=0;for(d in a)b[e++]=a[d];d=b}for(b=0;b<c.length;b++)this.set(c[b],d[b])}}t=kb.prototype;t.oa=0;t.ah=0;function lb(a){mb(a);return a.Ja.concat()}
t.clear=function(){this.Wc={};this.ah=this.oa=this.Ja.length=0};function mb(a){if(a.oa!=a.Ja.length){for(var b=0,c=0;b<a.Ja.length;){var d=a.Ja[b];Object.prototype.hasOwnProperty.call(a.Wc,d)&&(a.Ja[c++]=d);b++}a.Ja.length=c}if(a.oa!=a.Ja.length){for(var e={},c=b=0;b<a.Ja.length;)d=a.Ja[b],Object.prototype.hasOwnProperty.call(e,d)||(a.Ja[c++]=d,e[d]=1),b++;a.Ja.length=c}}t.get=function(a,b){if(Object.prototype.hasOwnProperty.call(this.Wc,a))return this.Wc[a];return b};
t.set=function(a,b){Object.prototype.hasOwnProperty.call(this.Wc,a)||(this.oa++,this.Ja.push(a),this.ah++);this.Wc[a]=b};t.Bh=function(a){mb(this);var b=0,c=this.Ja,d=this.Wc,e=this.ah,f=this,g=new hb;g.next=function(){for(;;){e!=f.ah&&h(Error("The map has changed since the iterator was created"));b>=c.length&&h(gb);var g=c[b++];return a?g:d[g]}};return g};function nb(a){return ob(a||arguments.callee.caller,[])}
function ob(a,b){var c=[];if(eb(b,a)>=0)c.push("[...circular reference...]");else if(a&&b.length<50){c.push(pb(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=pb(f))?f:"[fn]";break;default:f=typeof f}f.length>40&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(ob(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function pb(a){a=String(a);if(!qb[a]){var b=/function ([^\(]+)/.exec(a);qb[a]=b?b[1]:"[Anonymous]"}return qb[a]}var qb={};function rb(a,b,c,d,e){this.reset(a,b,c,d,e)}rb.prototype.qm=0;rb.prototype.ak=l;rb.prototype.$j=l;var sb=0;rb.prototype.reset=function(a,b,c,d,e){this.qm=typeof e=="number"?e:sb++;this.wn=d||ka();this.pf=a;this.cm=b;this.hn=c;delete this.ak;delete this.$j};rb.prototype.Mk=aa("pf");function tb(a){this.gm=a}tb.prototype.Tg=l;tb.prototype.pf=l;tb.prototype.Wh=l;tb.prototype.ck=l;function ub(a,b){this.name=a;this.value=b}ub.prototype.toString=ba("name");var vb=new ub("WARNING",900),wb=new ub("INFO",800),xb=new ub("CONFIG",700);t=tb.prototype;t.getParent=ba("Tg");t.Mk=aa("pf");function yb(a){if(a.pf)return a.pf;if(a.Tg)return yb(a.Tg);cb("Root logger has no level set.");return l}
t.log=function(a,b,c){if(a.value>=yb(this).value){a=this.Zl(a,b,c);this.jk("log:"+a.cm);for(b=this;b;){var c=b,d=a;if(c.ck)for(var e=0,f=i;f=c.ck[e];e++)f(d);b=b.getParent()}}};
t.Zl=function(a,b,c){var d=new rb(a,String(b),this.gm);if(c){d.ak=c;var e;var f=arguments.callee.caller;try{var g;var j=ca("window.location.href");if(ga(c))g={message:c,name:"Unknown error",lineNumber:"Not available",fileName:j,stack:"Not available"};else{var k,m,q=!1;try{k=c.lineNumber||c.gn||"Not available"}catch(r){k="Not available",q=!0}try{m=c.fileName||c.filename||c.sourceURL||j}catch(n){m="Not available",q=!0}g=q||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:k,
fileName:m,stack:c.stack||"Not available"}:c}e="Message: "+Ua(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+Ua(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ua(nb(f)+"-> ")}catch(s){e="Exception trying to expose exception! You win, we lose. "+s}d.$j=e}return d};function I(a,b){a.log(vb,b,i)}t.info=function(a,b){this.log(wb,a,b)};t.jk=function(a){u.console&&u.console.markTimeline&&u.console.markTimeline(a)};
var zb={},Ab=l;function J(a){Ab||(Ab=new tb(""),zb[""]=Ab,Ab.Mk(xb));var b;if(!(b=zb[a])){b=new tb(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=J(a.substr(0,c));if(!c.Wh)c.Wh={};c.Wh[d]=b;b.Tg=c;zb[a]=b}return b};function Bb(){this.name="ogTexture";this.type=ta;this.e=l;this.Sk="";this.status=Na}Bb.prototype=new F;
Bb.prototype.wa=function(a){if(a==l)I(J("owg.ogTexture"),"** ERROR: no options for texture creation!");else if(this.parent==l)I(J("owg.ogTexture"),"** ERROR: no parent!");else if(this.parent.type!=z)I(J("owg.ogTexture"),"** ERROR: parent is not scene!");else if(a.url){var b=this;this.e=this.parent.parent.c.Oi.fj(a.url,function(){b.status=Ma;b.D&&b.D(b.id)},function(){b.status=3;b.C&&b.C(b.id)},!1);this.Sk=a.url}};
Bb.prototype.Oa=function(){if(this.e)this.parent.parent.c.Oi.hj(this.Sk),this.e=l,this.status=3};Bb.prototype.v=function(a,b,c){this.status==Ma&&this.e&&(c!=l?this.e.v(a,b,c.z,c.angle,c.scalex,c.scaley,c.blend,c.invtexcoord,c.alpha):this.e.v(a,b))};var Cb=6378137,Db=0.006694379990197,Eb=0.006739496742,K=1.1920930376163766E-7;function L(a){return a*0.017453292519943295}function Fb(a){return a*57.29577951308232}function Gb(a){for(var b=1;a>b;)b*=2;return b};function Hb(){this.name="ogCamera";this.type=ya;this.Fb=this.pitch=this.ua=this.$b=this.bc=this.cc=0}Hb.prototype=new F;t=Hb.prototype;t.Oa=function(){this.Fb=this.pitch=this.ua=this.$b=this.bc=this.cc=0};t.da=function(a,b,c){this.cc=a;this.bc=b;this.$b=c;this.parent.ee==this&&Ib(this).da(a,b,c)};t.fd=function(){var a={};a.longitude=this.cc;a.latitude=this.bc;a.elevation=this.$b;return a};t.Ue=function(a,b,c){this.ua=a;this.pitch=b;this.Fb=c;this==this.parent.ee&&Ib(this).Ue(L(a),L(b),L(c))};
t.Le=function(){var a={};a.yaw=this.ua;a.pitch=this.pitch;a.roll=this.Fb;return a};function Ib(a){a=a.parent.parent.c;if(a.f&&a.f.Cc)var b=a.f.Cc;return b}function Jb(a){var b=Ib(a),c=b.fd(),b=b.Le();a.cc=c.longitude;a.bc=c.latitude;a.$b=c.elevation;a.ua=Fb(b.ua);a.pitch=Fb(b.pitch);a.Fb=Fb(b.Fb)};function M(a,b,c){this.a=new Float32Array([a||0,b||0,c||0])}t=M.prototype;t.n=function(a,b,c){this.a[0]=a;this.a[1]=b;this.a[2]=c};t.Ke=ba("a");t.Td=function(){var a=new M;a.n(this.a[0],this.a[1],this.a[2]);return a};t.gl=function(a){this.a[0]+=a.a[0];this.a[1]+=a.a[1];this.a[2]+=a.a[2];return this};t.mg=function(a){this.a[0]-=a.a[0];this.a[1]-=a.a[1];this.a[2]-=a.a[2];return this};t.ul=function(a,b){this.a[0]=a.a[0]-b.a[0];this.a[1]=a.a[1]-b.a[1];this.a[2]=a.a[2]-b.a[2]};
t.il=function(a){var b=this.a[0],c=this.a[1],d=this.a[2],e=a.a[0],f=a.a[1],a=a.a[2];this.a[0]=c*a-f*d;this.a[1]=d*e-a*b;this.a[2]=b*f-e*c;return this};function Kb(a,b,c){var d=b.a[0],e=b.a[1],b=b.a[2],f=c.a[0],g=c.a[1],c=c.a[2];a.a[0]=e*c-g*b;a.a[1]=b*f-c*d;a.a[2]=d*g-f*e}t.jl=function(a){return this.a[0]*a.a[0]+this.a[1]*a.a[1]+this.a[2]*a.a[2]};t.ph=function(){var a=this.a[0];a*=a;var b=this.a[1];b*=b;var c=this.a[2];c*=c;return Math.sqrt(a+b+c)};
t.tl=function(){var a=this.a[0];a*=a;var b=this.a[1];b*=b;var c=this.a[2];c*=c;return a+b+c};t.tb=function(){var a=this.ph();a!=0&&(this.a[0]/=a,this.a[1]/=a,this.a[2]/=a);return this};t.rl=function(){this.a[0]=-this.a[0];this.a[1]=-this.a[1];this.a[2]=-this.a[2];return this};t.Xd=function(){return"["+this.a[0]+","+this.a[1]+","+this.a[2]+"]"};w("Cross",Kb);w("vec3",M);M.prototype.Add=M.prototype.gl;M.prototype.Cross=M.prototype.il;M.prototype.Dot=M.prototype.jl;M.prototype.Get=M.prototype.Ke;
M.prototype.Length=M.prototype.ph;M.prototype.Neg=M.prototype.rl;M.prototype.Normalize=M.prototype.tb;M.prototype.Set=M.prototype.n;M.prototype.SquaredLength=M.prototype.tl;M.prototype.Subtract=M.prototype.ul;M.prototype.Sub=M.prototype.mg;M.prototype.ToString=M.prototype.Xd;function N(){this.a=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}t=N.prototype;t.n=function(a){if(a.length==16)for(var b=0;b<16;b++)this.a[b]=a[b]};t.Ke=ba("a");t.Td=function(){for(var a=new N,b=0;b<16;b++)a.a[b]=this.a[b];return a};t.R=function(a){for(var b=0;b<16;b++)this.a[b]=a.a[b]};
t.nh=function(){this.a[0]=1;this.a[4]=0;this.a[8]=0;this.a[12]=0;this.a[1]=0;this.a[5]=1;this.a[9]=0;this.a[13]=0;this.a[2]=0;this.a[6]=0;this.a[10]=1;this.a[14]=0;this.a[3]=0;this.a[7]=0;this.a[11]=0;this.a[15]=1};t.vl=function(){this.a[0]=0;this.a[4]=0;this.a[8]=0;this.a[12]=0;this.a[1]=0;this.a[5]=0;this.a[9]=0;this.a[13]=0;this.a[2]=0;this.a[6]=0;this.a[10]=0;this.a[14]=0;this.a[3]=0;this.a[7]=0;this.a[11]=0;this.a[15]=1};
t.Kb=function(a,b,c){this.a[0]=1;this.a[4]=0;this.a[8]=0;this.a[12]=a;this.a[1]=0;this.a[5]=1;this.a[9]=0;this.a[13]=b;this.a[2]=0;this.a[6]=0;this.a[10]=1;this.a[14]=c;this.a[3]=0;this.a[7]=0;this.a[11]=0;this.a[15]=1};t.oj=function(a,b,c,d){a.a[12]=b;a.a[13]=c;a.a[14]=d};t.Jc=function(a,b,c){this.a[0]=a;this.a[4]=0;this.a[8]=0;this.a[12]=0;this.a[1]=0;this.a[5]=b;this.a[9]=0;this.a[13]=0;this.a[2]=0;this.a[6]=0;this.a[10]=c;this.a[14]=0;this.a[3]=0;this.a[7]=0;this.a[11]=0;this.a[15]=1;return!0};
t.hg=function(a){var b=Math.sin(a),a=Math.cos(a);this.a[0]=1;this.a[1]=0;this.a[2]=0;this.a[3]=0;this.a[4]=0;this.a[5]=a;this.a[6]=b;this.a[7]=0;this.a[8]=0;this.a[9]=-b;this.a[10]=a;this.a[11]=0;this.a[12]=0;this.a[13]=0;this.a[14]=0;this.a[15]=1};t.rj=function(a){var b=Math.sin(a),a=Math.cos(a);this.a[0]=a;this.a[1]=0;this.a[2]=-b;this.a[3]=0;this.a[4]=0;this.a[5]=1;this.a[6]=0;this.a[7]=0;this.a[8]=b;this.a[9]=0;this.a[10]=a;this.a[11]=0;this.a[12]=0;this.a[13]=0;this.a[14]=0;this.a[15]=1};
t.sj=function(a){var b=Math.sin(a),a=Math.cos(a);this.a[0]=a;this.a[1]=b;this.a[2]=0;this.a[3]=0;this.a[4]=-b;this.a[5]=a;this.a[6]=0;this.a[7]=0;this.a[8]=0;this.a[9]=0;this.a[10]=1;this.a[11]=0;this.a[12]=0;this.a[13]=0;this.a[14]=0;this.a[15]=1};
t.ql=function(a,b,c,d,e,f,g,j,k){var m,q,r,n,d=a-d,e=b-e,f=c-f;n=1/Math.sqrt(d*d+e*e+f*f);d*=n;e*=n;f*=n;m=j*f-k*e;k=k*d-g*f;g=g*e-j*d;(n=Math.sqrt(m*m+k*k+g*g))?(n=1/n,m*=n,k*=n,g*=n):g=k=m=0;j=e*g-f*k;q=f*m-d*g;r=d*k-e*m;(n=Math.sqrt(j*j+q*q+r*r))?(n=1/n,j*=n,q*=n,r*=n):r=q=j=0;this.a[0]=m;this.a[4]=k;this.a[8]=g;this.a[12]=-(m*a+k*b+g*c);this.a[1]=j;this.a[5]=q;this.a[9]=r;this.a[13]=-(j*a+q*b+r*c);this.a[2]=d;this.a[6]=e;this.a[10]=f;this.a[14]=-(d*a+e*b+f*c);this.a[3]=0;this.a[7]=0;this.a[11]=
0;this.a[15]=1};
t.W=function(a,b){var c=a.a[0],d=a.a[1],e=a.a[2],f=a.a[3],g=a.a[4],j=a.a[5],k=a.a[6],m=a.a[7],q=a.a[8],r=a.a[9],n=a.a[10],s=a.a[11],v=a.a[12],y=a.a[13],H=a.a[14],Ob=a.a[15],Pb=b.a[0],Qb=b.a[1],Rb=b.a[2],Sb=b.a[3],Tb=b.a[4],Ub=b.a[5],Vb=b.a[6],Wb=b.a[7],Xb=b.a[8],Yb=b.a[9],Zb=b.a[10],$b=b.a[11],ac=b.a[12],bc=b.a[13],cc=b.a[14],dc=b.a[15];this.a[0]=Pb*c+Qb*g+Rb*q+Sb*v;this.a[1]=Pb*d+Qb*j+Rb*r+Sb*y;this.a[2]=Pb*e+Qb*k+Rb*n+Sb*H;this.a[3]=Pb*f+Qb*m+Rb*s+Sb*Ob;this.a[4]=Tb*c+Ub*g+Vb*q+Wb*v;this.a[5]=Tb*
d+Ub*j+Vb*r+Wb*y;this.a[6]=Tb*e+Ub*k+Vb*n+Wb*H;this.a[7]=Tb*f+Ub*m+Vb*s+Wb*Ob;this.a[8]=Xb*c+Yb*g+Zb*q+$b*v;this.a[9]=Xb*d+Yb*j+Zb*r+$b*y;this.a[10]=Xb*e+Yb*k+Zb*n+$b*H;this.a[11]=Xb*f+Yb*m+Zb*s+$b*Ob;this.a[12]=ac*c+bc*g+cc*q+dc*v;this.a[13]=ac*d+bc*j+cc*r+dc*y;this.a[14]=ac*e+bc*k+cc*n+dc*H;this.a[15]=ac*f+bc*m+cc*s+dc*Ob};t.og=function(){for(var a=this.Td(),b=0;b<4;b++)for(var c=0;c<4;c++)this.a[4*b+c]=a.a[4*c+b]};
t.va=function(a){var b=new M;b.a[0]=this.a[0]*a.a[0]+this.a[4]*a.a[1]+this.a[8]*a.a[2]+this.a[12];b.a[1]=this.a[1]*a.a[0]+this.a[5]*a.a[1]+this.a[9]*a.a[2]+this.a[13];b.a[2]=this.a[2]*a.a[0]+this.a[6]*a.a[1]+this.a[10]*a.a[2]+this.a[14];a=this.a[3]*a.a[0]+this.a[7]*a.a[1]+this.a[11]*a.a[2]+this.a[15];b.a[0]/=a;b.a[1]/=a;b.a[2]/=a;return b};
t.kl=function(a,b,c,d,e,f){var g=b-a,j=d-c,k=f-e;this.a[0]=e*2/g;this.a[4]=0;this.a[8]=(b+a)/g;this.a[12]=0;this.a[1]=0;this.a[5]=e*2/j;this.a[9]=(d+c)/j;this.a[13]=0;this.a[2]=0;this.a[6]=0;this.a[10]=-(f+e)/k;this.a[14]=-(f*e*2)/k;this.a[3]=0;this.a[7]=0;this.a[11]=-1;this.a[15]=0};
t.pj=function(a,b,c,d){a=1/Math.tan(a*Math.PI/360);this.a[0]=a/b;this.a[4]=0;this.a[8]=0;this.a[12]=0;this.a[1]=0;this.a[5]=a;this.a[9]=0;this.a[13]=0;this.a[2]=0;this.a[6]=0;this.a[10]=(d+c)/(c-d);this.a[14]=2*d*c/(c-d);this.a[3]=0;this.a[7]=0;this.a[11]=-1;this.a[15]=0};
t.mj=function(a,b,c,d,e,f){var g=b-a,j=d-c,k=f-e;this.a[0]=2/g;this.a[1]=0;this.a[2]=0;this.a[3]=0;this.a[4]=0;this.a[5]=2/j;this.a[6]=0;this.a[7]=0;this.a[8]=0;this.a[9]=0;this.a[10]=-2/k;this.a[11]=0;this.a[12]=-(a+b)/g;this.a[13]=-(d+c)/j;this.a[14]=-(f+e)/k;this.a[15]=1};t.nj=function(a,b,c,d){this.mj(a,b,c,d,-1,1)};
t.mc=function(a,b){var c=a*0.017453292519943295,d=b*0.017453292519943295,e=Math.sin(d),f=Math.sin(c),d=Math.cos(d),c=Math.cos(c);this.a[0]=-e*c;this.a[4]=-f;this.a[8]=-d*c;this.a[12]=0;this.a[1]=-e*f;this.a[5]=c;this.a[9]=-d*f;this.a[13]=0;this.a[2]=d;this.a[6]=0;this.a[10]=-e;this.a[14]=0;this.a[3]=0;this.a[7]=0;this.a[11]=0;this.a[15]=1};
t.gh=function(a,b,c){var d=Math.cos(b),e=Math.cos(c),f=Math.cos(a),b=Math.sin(b),c=Math.sin(c),a=Math.sin(a);this.a[0]=d*f;this.a[4]=-e*a+c*b*f;this.a[8]=c*a+e*b*f;this.a[12]=0;this.a[1]=d*a;this.a[5]=e*f+c*b*a;this.a[9]=-c*f+e*b*a;this.a[13]=0;this.a[2]=-b;this.a[6]=c*d;this.a[10]=e*d;this.a[14]=0;this.a[3]=0;this.a[7]=0;this.a[11]=0;this.a[15]=1};
t.hh=function(){this.a[0]=0;this.a[4]=0;this.a[8]=-1;this.a[12]=0;this.a[1]=1;this.a[5]=0;this.a[9]=0;this.a[13]=0;this.a[2]=0;this.a[6]=-1;this.a[10]=0;this.a[14]=0;this.a[3]=0;this.a[7]=0;this.a[11]=0;this.a[15]=1};
t.Ud=function(a){var b=a.a[0],c=a.a[1],d=a.a[2],e=a.a[3],f=a.a[4],g=a.a[5],j=a.a[6],k=a.a[7],m=a.a[8],q=a.a[9],r=a.a[10],n=a.a[11],s=a.a[12],v=a.a[13],y=a.a[14],a=a.a[15],H=1/(b*g*r*a+b*j*n*v+b*k*q*y+c*f*n*y+c*j*m*a+c*k*r*s+d*f*q*a+d*g*n*s+d*k*m*v+e*f*r*v+e*g*m*y+e*j*q*s-b*g*n*y-b*j*q*a-b*k*r*v-c*f*r*a-c*j*n*s-c*k*m*y-d*f*n*v-d*g*m*a-d*k*q*s-e*f*q*y-e*g*r*s-e*j*m*v);this.a[0]=(g*r*a+j*n*v+k*q*y-g*n*y-j*q*a-k*r*v)*H;this.a[4]=(f*n*y+j*m*a+k*r*s-f*r*a-j*n*s-k*m*y)*H;this.a[8]=(f*q*a+g*n*s+k*m*v-f*n*
v-g*m*a-k*q*s)*H;this.a[12]=(f*r*v+g*m*y+j*q*s-f*q*y-g*r*s-j*m*v)*H;this.a[1]=(c*n*y+d*q*a+e*r*v-c*r*a-d*n*v-e*q*y)*H;this.a[5]=(b*r*a+d*n*s+e*m*y-b*n*y-d*m*a-e*r*s)*H;this.a[9]=(b*n*v+c*m*a+e*q*s-b*q*a-c*n*s-e*m*v)*H;this.a[13]=(b*q*y+c*r*s+d*m*v-b*r*v-c*m*y-d*q*s)*H;this.a[2]=(c*j*a+d*k*v+e*g*y-c*k*y-d*g*a-e*j*v)*H;this.a[6]=(b*k*y+d*f*a+e*j*s-b*j*a-d*k*s-e*f*y)*H;this.a[10]=(b*g*a+c*k*s+e*f*v-b*k*v-c*f*a-e*g*s)*H;this.a[14]=(b*j*v+c*f*y+d*g*s-b*g*y-c*j*s-d*f*v)*H;this.a[3]=(c*k*r+d*g*n+e*j*q-c*
j*n-d*k*q-e*g*r)*H;this.a[7]=(b*j*n+d*k*m+e*f*r-b*k*r-d*f*n-e*j*m)*H;this.a[11]=(b*k*q+c*f*n+e*g*m-b*g*n-c*k*m-e*f*q)*H;this.a[15]=(b*g*r+c*j*m+d*f*q-b*j*q-c*f*r-d*g*m)*H};t.Xd=function(){return"[ "+this.a[0]+" "+this.a[4]+" "+this.a[8]+" "+this.a[12]+"\n  "+this.a[1]+" "+this.a[5]+" "+this.a[9]+" "+this.a[13]+"\n  "+this.a[2]+" "+this.a[6]+" "+this.a[10]+" "+this.a[14]+"\n  "+this.a[3]+" "+this.a[7]+" "+this.a[11]+" "+this.a[15]+" ]"};w("mat4",N);N.prototype.CalcBodyFrame=N.prototype.gh;
N.prototype.CalcNavigationFrame=N.prototype.mc;N.prototype.Cami3d=N.prototype.hh;N.prototype.CopyFrom=N.prototype.R;N.prototype.Copy=N.prototype.Td;N.prototype.Frustum=N.prototype.kl;N.prototype.Get=N.prototype.Ke;N.prototype.Identity=N.prototype.nh;N.prototype.Inverse=N.prototype.Ud;N.prototype.LookAt=N.prototype.ql;N.prototype.Multiply=N.prototype.W;N.prototype.MultiplyVec3=N.prototype.va;N.prototype.Ortho2D=N.prototype.nj;N.prototype.Ortho=N.prototype.mj;N.prototype.OverwriteTranslation=N.prototype.oj;
N.prototype.Perspective=N.prototype.pj;N.prototype.RotationX=N.prototype.hg;N.prototype.RotationY=N.prototype.rj;N.prototype.RotationZ=N.prototype.sj;N.prototype.Scale=N.prototype.Jc;N.prototype.Set=N.prototype.n;N.prototype.ToString=N.prototype.Xd;N.prototype.Translation=N.prototype.Kb;N.prototype.Transpose=N.prototype.og;N.prototype.Zero=N.prototype.vl;function Lb(){this.ag=[];this.$f=[];this.Vd=[];this.eb={};this.eb.x=0;this.eb.y=0;this.eb.d=0;this.zb={};this.zb.longitude=0;this.zb.latitude=0;this.zb.elevation=0;this.zd=!1;this.yb=[0,0];this.ec=-1;this.Bk=0;this.Ga=Mb;this.sa=0}var Mb=0,Nb=1,ec=2,fc=3,gc=4,hc=5;Lb.prototype.da=function(a,b,c){this.eb.x=a;this.eb.y=b;this.eb.d=c};Lb.prototype.fd=ba("eb");function ic(){this.result={};this.result.r=0;this.result.Jb=0;this.result.lc=0;this.Sa={};this.Sa.x=0;this.Sa.y=0;this.Sa.d=0;this.Ta={};this.Ta.x=0;this.Ta.y=0;this.Ta.d=0;this.Aa={};this.Aa.x=0;this.Aa.y=0;this.Aa.d=0;this.Za={};this.Za.x=0;this.Za.y=0;this.Za.d=0;this.$a={};this.$a.x=0;this.$a.y=0;this.Lg=this.Oc=this.$a.d=0;this.ij=2.220446049250313E-16}
ic.prototype.oh=function(a,b,c,d,e,f,g,j,k,m,q,r,n,s,v){this.Sa.x=m-g;this.Sa.y=q-j;this.Sa.d=r-k;this.Ta.x=n-g;this.Ta.y=s-j;this.Ta.d=v-k;this.Za.x=e*this.Ta.d-f*this.Ta.y;this.Za.y=f*this.Ta.x-d*this.Ta.d;this.Za.d=d*this.Ta.y-e*this.Ta.x;this.Oc=this.Sa.x*this.Za.x+this.Sa.y*this.Za.y+this.Sa.d*this.Za.d;this.Aa.x=a-g;this.Aa.y=b-j;this.Aa.d=c-k;this.Lg=1/this.Oc;this.$a.x=this.Aa.y*this.Sa.d-this.Aa.d*this.Sa.y;this.$a.y=this.Aa.d*this.Sa.x-this.Aa.x*this.Sa.d;this.$a.d=this.Aa.x*this.Sa.y-this.Aa.y*
this.Sa.x;if(this.Oc>this.ij){this.result.Jb=this.Aa.x*this.Za.x+this.Aa.y*this.Za.y+this.Aa.d*this.Za.d;if(this.result.Jb<0||this.result.Jb>this.Oc)return l;this.result.lc=d*this.$a.x+e*this.$a.y+f*this.$a.d;if(this.result.lc<0||this.result.Jb+this.result.lc>this.Oc)return l}else if(this.Oc<-this.ij){this.result.Jb=this.Aa.x*this.Za.x+this.Aa.y*this.Za.y+this.Aa.d*this.Za.d;if(this.result.Jb>0||this.result.Jb<this.Oc)return l;this.result.lc=d*this.$a.x+e*this.$a.y+f*this.$a.d;if(this.result.lc>0||
this.result.Jb+this.result.lc<this.Oc)return l}else return l;this.result.r=this.Ta.x*this.$a.x+this.Ta.y*this.$a.y+this.Ta.d*this.$a.d;this.result.Jb*=this.Lg;this.result.lc*=this.Lg;this.result.r*=this.Lg;return this.result};w("TriangleIntersector",ic);ic.prototype.IntersectTriangle=ic.prototype.oh;function jc(){this.Nf=this.Of=this.Lf=this.Mf=0;this.Hg=1;this.result={ad:0,$c:0}}
jc.prototype.Zf=function(a,b,c,d,e,f,g,j,k,m,q,r){this.Hg=1;d>=0?(this.result.ad=(g-a)/d,this.result.$c=(m-a)/d):(this.result.ad=(m-a)/d,this.result.$c=(g-a)/d);e>=0?(this.Mf=(j-b)/e,this.Lf=(q-b)/e):(this.Mf=(q-b)/e,this.Lf=(j-b)/e);if(this.result.ad>this.Lf||this.Mf>this.result.$c)this.Hg=-1;if(this.Mf>this.result.ad)this.result.ad=this.Mf;if(this.Lf<this.result.$c)this.result.$c=this.Lf;f>=0?(this.Of=(k-c)/f,this.Nf=(r-c)/f):(this.Of=(r-c)/f,this.Nf=(k-c)/f);if(this.result.ad>this.Nf||this.Of>
this.result.$c)this.Hg=-1;if(this.Of>this.result.ad)this.result.ad=this.Of;if(this.Nf<this.result.$c)this.result.$c=this.Nf;return this.Hg>0?this.result:l};w("AABB",jc);jc.prototype.HitBox=jc.prototype.Zf;function O(a,b,c,d){this.a=new Float32Array([a||0,b||0,c||0,d||0])}O.prototype.n=function(a,b,c,d){this.a[0]=a;this.a[1]=b;this.a[2]=c;this.a[3]=d};O.prototype.Ke=ba("a");O.prototype.Xd=function(){return"["+this.a[0]+","+this.a[1]+","+this.a[2]+","+this.a[3]+"]"};w("vec4",O);O.prototype.Get=O.prototype.Ke;O.prototype.Set=O.prototype.n;function kc(a){var a=String(a),b;b=/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));if(b)try{return eval("("+a+")")}catch(c){}h(Error("Invalid JSON string: "+a))};function P(a){this.c=a;this.b=a.b;this.l=this.e=this.Qc=this.qa=l;this.mode="";this.fc=this.xe=0;this.Sc=this.A=l;this.ia=!1;this.Pj=this.je=this.O=l;this.Vj=new O;this.Vj.n(1,1,1,1);this.Wj=new O;this.Wj.n(1,1,1,1);this.ek=new ic;this.Pl=this.ba=this.T=this.J=l;this.Nh=new jc;this.aa=l;this.wf=this.t=0;this.m={};this.vc=Array(3);this.uc=Array(3);this.re=new N;this.Og=!1}function lc(a,b){if(b.length%3==0)a.l=new Float32Array(b),a.mode="p",a.t=3}
function mc(a,b){if(b.length%8==0)a.l=new Float32Array(b),a.mode="pnt",a.t=8}function nc(a,b){if(b.length%7==0)a.l=new Float32Array(b),a.mode="pc",a.t=7}function oc(a,b){if(b.length%5==0)a.l=new Float32Array(b),a.mode="pt",a.t=5}function pc(a,b){if(b.length%12==0)a.l=new Float32Array(b),a.mode="pnct",a.t=12}function qc(a,b){if(b.length%5==0)a.l=new Float32Array(b),a.mode="poi",a.t=5}
function rc(a,b,c){a.A=new Uint16Array(b);a.Sc=c;a.fc=b.length;a.ia=!0;switch(c){case "TRIANGLES":a.wf=b.length/3;break;case "TRIANGLESTRIP":a.wf=b.length-3+1}}t=P.prototype;t.vb=aa("e");t.rg=function(){this.qa=this.b.createBuffer();this.b.bindBuffer(this.b.ARRAY_BUFFER,this.qa);this.b.bufferData(this.b.ARRAY_BUFFER,this.l,this.b.STATIC_DRAW);this.Qc=this.b.createBuffer();this.b.bindBuffer(this.b.ELEMENT_ARRAY_BUFFER,this.Qc);this.b.bufferData(this.b.ELEMENT_ARRAY_BUFFER,this.A,this.b.STATIC_DRAW)};
t.H=function(){if(this.qa)this.b.deleteBuffer(this.qa),this.qa=l;if(this.Qc)this.b.deleteBuffer(this.Qc),this.Qc=l;this.Og?this.e.H():this.e=l;this.l=l;this.mode="";this.fc=this.xe=0;this.Sc=this.A=l};
t.ha=function(a,b,c,d,e){if(this.ia){b=b||0;c=c||0;this.qa==l&&this.rg();this.b.bindBuffer(this.b.ARRAY_BUFFER,this.qa);this.b.bindBuffer(this.b.ELEMENT_ARRAY_BUFFER,this.Qc);this.aa&&(this.c.qc(),this.re.W(this.aa,this.c.Nb),this.c.sc(this.re));switch(this.mode){case "p":this.b.enableVertexAttribArray(0);this.b.vertexAttribPointer(0,3,this.b.FLOAT,!1,32,0);break;case "pnt":this.b.enableVertexAttribArray(0);this.b.enableVertexAttribArray(1);this.b.enableVertexAttribArray(2);this.b.vertexAttribPointer(0,
3,this.b.FLOAT,!1,32,0);this.b.vertexAttribPointer(1,3,this.b.FLOAT,!1,32,12);this.b.vertexAttribPointer(2,2,this.b.FLOAT,!1,32,24);var d=this.c.Dc,e=this.c.ni,f=this.c.Pg,g=this.c.dc;d.Ya&&(d.b.useProgram(d.Ya),d.b.uniformMatrix4fv(d.b.getUniformLocation(d.Ya,"matModelView"),!1,f.a),d.b.uniformMatrix4fv(d.b.getUniformLocation(d.Ya,"matProjection"),!1,g.a),d.b.uniformMatrix4fv(d.b.getUniformLocation(d.Ya,"matNormal"),!1,e.a),d.b.uniform1i(d.b.getUniformLocation(d.Ya,"uTexture"),0));break;case "pc":this.b.enableVertexAttribArray(0);
this.b.enableVertexAttribArray(1);this.b.vertexAttribPointer(0,3,this.b.FLOAT,!1,28,0);this.b.vertexAttribPointer(1,4,this.b.FLOAT,!1,28,12);d=this.c.Dc;e=this.c.Da;d.Pb&&(d.b.useProgram(d.Pb),d.b.uniformMatrix4fv(d.b.getUniformLocation(d.Pb,"matMVP"),!1,e.a));break;case "pt":this.b.enableVertexAttribArray(0);this.b.enableVertexAttribArray(1);this.b.vertexAttribPointer(0,3,this.b.FLOAT,!1,20,0);this.b.vertexAttribPointer(1,2,this.b.FLOAT,!1,20,12);d=this.c.Dc;e=this.c.Da;d.Eb&&(d.b.useProgram(d.Eb),
d.b.uniformMatrix4fv(d.b.getUniformLocation(d.Eb,"matMVP"),!1,e.a),d.b.uniform1i(d.b.getUniformLocation(d.Eb,"uTexture"),0));break;case "pnct":this.b.enableVertexAttribArray(0);this.b.enableVertexAttribArray(1);this.b.enableVertexAttribArray(2);this.b.enableVertexAttribArray(3);this.b.vertexAttribPointer(0,3,this.b.FLOAT,!1,48,0);this.b.vertexAttribPointer(1,3,this.b.FLOAT,!1,48,12);this.b.vertexAttribPointer(2,4,this.b.FLOAT,!1,48,24);this.b.vertexAttribPointer(3,2,this.b.FLOAT,!1,48,40);d=this.c.Dc;
e=this.c.Da;d.pb&&(d.b.useProgram(d.pb),d.b.uniformMatrix4fv(d.b.getUniformLocation(d.pb,"matMVP"),!1,e.a));break;case "font":this.b.enableVertexAttribArray(0);this.b.enableVertexAttribArray(1);this.b.vertexAttribPointer(0,3,this.b.FLOAT,!1,20,0);this.b.vertexAttribPointer(1,2,this.b.FLOAT,!1,20,12);if(d==l)d=this.Vj;e=this.c.Dc;f=this.c.Da;e.Bb&&(e.b.useProgram(e.Bb),e.b.uniformMatrix4fv(e.b.getUniformLocation(e.Bb,"matMVP"),!1,f.a),e.b.uniform4fv(e.b.getUniformLocation(e.Bb,"uColor"),d.a));break;
case "poi":this.b.enableVertexAttribArray(0);this.b.enableVertexAttribArray(1);this.b.vertexAttribPointer(0,3,this.b.FLOAT,!1,20,0);this.b.vertexAttribPointer(1,2,this.b.FLOAT,!1,20,12);if(e==l)e=this.Wj;d=this.c.Dc;f=this.c.Da;d.Cb&&(d.b.useProgram(d.Cb),d.b.uniformMatrix4fv(d.b.getUniformLocation(d.Cb,"matMVP"),!1,f.a),d.b.uniform4fv(d.b.getUniformLocation(d.Cb,"uColor"),e.a));break;default:alert("unknown surface mode!!")}if(this.e)d=this.e,d.ab&&(d.b.activeTexture(d.b.TEXTURE0),d.b.bindTexture(d.b.TEXTURE_2D,
d.e));switch(this.Sc){case "TRIANGLES":a?this.b.drawElements(this.b.TRIANGLES,b,this.b.UNSIGNED_SHORT,c):this.b.drawElements(this.b.TRIANGLES,this.fc,this.b.UNSIGNED_SHORT,0);break;case "TRIANGLESTRIP":a?this.b.drawElements(this.b.TRIANGLE_STRIP,b,this.b.UNSIGNED_SHORT,c):this.b.drawElements(this.b.TRIANGLE_STRIP,this.fc,this.b.UNSIGNED_SHORT,0);break;case "LINES":this.b.drawElements(this.b.LINES,this.fc,this.b.UNSIGNED_SHORT,0);break;case "POINTS":this.b.drawElements(this.b.POINTS,this.fc,this.b.UNSIGNED_SHORT,
0);break;case "TRIANGLEFAN":a?this.b.drawElements(this.b.TRIANGLE_FAN,b,this.b.UNSIGNED_SHORT,c):this.b.drawElements(this.b.TRIANGLE_FAN,this.fc,this.b.UNSIGNED_SHORT,0);break;default:alert("unknown indexsemantic")}this.aa&&this.c.pc();if(this.e)a=this.e,a.ab&&a.b.bindTexture(a.b.TEXTURE_2D,l);this.b.disableVertexAttribArray(0);this.b.disableVertexAttribArray(1);this.b.disableVertexAttribArray(2);this.b.disableVertexAttribArray(3)}};
t.dd=function(a,b,c,d){d||(d=this);if(c)this.Lc=c;if(b)this.Nc=b;if(a.BoundingBox)d.J=a.BoundingBox[0],d.T=a.BoundingBox[1];if(a.Offset)d.ba=a.Offset;if(a.CurtainIndex)d.Pl=a.CurtainIndex;switch(a.VertexSemantic){case "p":d.xe=a.Vertices.length/3;lc(d,a.Vertices);d.mode="p";break;case "pnt":d.xe=a.Vertices.length/8;mc(d,a.Vertices);d.mode="pnt";break;case "pc":d.xe=a.Vertices.length/7;d.mode="pc";nc(d,a.Vertices);break;case "pt":d.xe=a.Vertices.length/5;d.mode="pt";oc(d,a.Vertices);break;case "pnct":d.xe=
a.Vertices.length/12;d.mode="p";pc(d,a.Vertices);break;default:alert("unknown surface mode!!")}rc(d,a.Indices,a.IndexSemantic);if(a.DiffuseMap)d.e=new Q(d.c),R(d.e,a.DiffuseMap,function(){var a=d;a.ab=!0;a.Nc&&a.Nc(a)},function(){var a=d;I(J("owg.Mesh"),"Downloading Error: Texture not found...");a.Lc&&a.Lc(a)},!0),d.Og=!0;a.Center&&d.ig(a.Center[0],a.Center[1],a.Center[2]);d.fc=a.Indices.length;if(!d.Og)d.ab=!0;d.Pj&&d.Pj();d.Nc&&!d.Og&&d.Nc(d)};
function sc(a,b,c,d){b==l?alert("invalid json-url"):(a.je=b,a.O=new window.XMLHttpRequest,a.O.open("GET",a.je,!0),a.Nc=c,a.Lc=d,a.O.onreadystatechange=function(){if(a.O.readyState==4)if(a.O.status==404)a.Lc&&a.Lc(a);else{var b=kc(a.O.responseText);a.dd(b,l,l,a)}},a.O.send())}
t.md=function(a,b,c,d,e,f){var g=!1,j,k,m,q;k=j=0;m=1.0E20;for(var r=0;r<this.wf;r++){var n;n=r;switch(this.Sc){case "TRIANGLES":this.m.Pf=this.l[this.A[n*3]*this.t];this.m.Qf=this.l[this.A[n*3]*this.t+1];this.m.Rf=this.l[this.A[n*3]*this.t+2];this.m.Sf=this.l[this.A[n*3+1]*this.t];this.m.Tf=this.l[this.A[n*3+1]*this.t+1];this.m.Uf=this.l[this.A[n*3+1]*this.t+2];this.m.Yg=this.l[this.A[n*3+2]*this.t];this.m.Zg=this.l[this.A[n*3+2]*this.t+1];this.m.$g=this.l[this.A[n*3+2]*this.t+2];break;case "TRIANGLESTRIP":n%
2==0?(this.m.Pf=this.l[this.A[n]*this.t],this.m.Qf=this.l[this.A[n]*this.t+1],this.m.Rf=this.l[this.A[n]*this.t+2],this.m.Sf=this.l[this.A[n+1]*this.t],this.m.Tf=this.l[this.A[n+1]*this.t+1],this.m.Uf=this.l[this.A[n+1]*this.t+2]):(this.m.Pf=this.l[this.A[n+1]*this.t],this.m.Qf=this.l[this.A[n+1]*this.t+1],this.m.Rf=this.l[this.A[n+1]*this.t+2],this.m.Sf=this.l[this.A[n]*this.t],this.m.Tf=this.l[this.A[n]*this.t+1],this.m.Uf=this.l[this.A[n]*this.t+2]);this.m.Yg=this.l[this.A[n+2]*this.t];this.m.Zg=
this.l[this.A[n+2]*this.t+1];this.m.$g=this.l[this.A[n+2]*this.t+2];break;default:I(J("owg.Surface"),"This indexsemantic is not supported for function: Surface.ReadTriangleFromBuffer() ")}this.ba&&(this.m.Pf+=this.ba[0],this.m.Qf+=this.ba[1],this.m.Rf+=this.ba[2],this.m.Sf+=this.ba[0],this.m.Tf+=this.ba[1],this.m.Uf+=this.ba[2],this.m.Yg+=this.ba[0],this.m.Zg+=this.ba[1],this.m.$g+=this.ba[2]);n=this.A[n]==this.A[n+1]||this.A[n]==this.A[n+2]||this.A[n+1]==this.A[n+2]?!1:!0;if(n){if(this.aa){n=new N;
n.R(this.re);var s=new M;s.n(this.m.Pf,this.m.Qf,this.m.Rf);var v=new M;v.n(this.m.Sf,this.m.Tf,this.m.Uf);var y=new M;y.n(this.m.Yg,this.m.Zg,this.m.$g);s=n.va(s);v=n.va(v);n=n.va(y);n=this.ek.oh(a,b,c,d,e,f,s.a[0],s.a[1],s.a[2],v.a[0],v.a[1],v.a[2],n.a[0],n.a[1],n.a[2])}else n=this.ek.oh(a,b,c,d,e,f,this.m.Pf,this.m.Qf,this.m.Rf,this.m.Sf,this.m.Tf,this.m.Uf,this.m.Yg,this.m.Zg,this.m.$g);if(n&&(g=!0,n.r<m&&n.r>0))m=n.r,j=n.Jb,k=n.lc,q=r}}if(g)return a={},a.r=m,a.Jb=j,a.lc=k,a.Zk=q,a;return l};
function tc(a){for(var b=1.0E20,c=1.0E20,d=1.0E20,e=-1.0E20,f=-1.0E20,g=-1.0E20,j,k,m,q=0;q<a.l.length;q++)j=a.l[q*a.t],k=a.l[q*a.t+1],m=a.l[q*a.t+2],j>e&&(e=j),k>f&&(f=k),m>g&&(g=m),j<b&&(b=j),k<c&&(c=k),m<d&&(d=m);a.aa&&(q=new M(b,c,d),m=new M(e,c,d),j=new M(e,f,d),d=new M(b,f,d),k=new M(b,c,g),c=new M(b,f,g),e=new M(e,f,g),g=new M(b,f,g),b=a.aa.va(q),f=a.aa.va(m),j=a.aa.va(j),d=a.aa.va(d),k=a.aa.va(k),c=a.aa.va(c),m=a.aa.va(e),q=a.aa.va(g),e=[b.a[0],f.a[0],j.a[0],d.a[0],k.a[0],c.a[0],m.a[0],q.a[0]],
g=[b.a[1],f.a[1],j.a[1],d.a[1],k.a[1],c.a[1],m.a[1],q.a[1]],j=[b.a[2],f.a[2],j.a[2],d.a[2],k.a[2],c.a[2],m.a[2],q.a[2]],e.sort(),g.sort(),j.sort(),b=e[0],e=e[e.length-1],c=g[0],f=g[g.length-1],d=j[0],g=j[j.length-1]);a.ba&&(b+=a.ba[0],c+=a.ba[1],d+=a.ba[2],e+=a.ba[0],f+=a.ba[1],g+=a.ba[2]);if(a.J===l)a.J=Array(3);if(a.T===l)a.T=Array(3);a.J[0]=b;a.J[1]=c;a.J[2]=d;a.T[0]=e;a.T[1]=f;a.T[2]=g}t.Fj=function(a,b,c,d,e,f){return this.Nh.Zf(a,b,c,d,e,f,this.J[0],this.J[1],this.J[2],this.T[0],this.T[1],this.T[2])};
t.Te=function(a,b,c,d,e,f){var g=this.c.Ka.a,j=new N;this.vc[0]=a;this.vc[1]=b;this.vc[2]=c;this.uc[0]=d||0;this.uc[1]=e||0;this.uc[2]=f||0;j.n([g[0],g[4],g[8],0,g[1],g[5],g[9],0,g[2],g[6],g[10],0,this.vc[0],this.vc[1],this.vc[2],1]);a=new N;a.Kb(this.uc[0],this.uc[1],this.uc[2]);b=new N;b.W(j,a);this.aa=b};function uc(a){a.Te(a.vc[0],a.vc[1],a.vc[2],a.uc[0],a.uc[1],a.uc[2])}
t.ig=function(a,b,c,d,e,f){var g=new S(a,b,c),c=Array(3);g.ma(c);(new N).Kb(c[0],c[1],c[2]);g=new N;g.mc(a,b);a=new Float32Array(16);b=g.a;a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;b=new N;b.n(a);a=new N;a.Jc(K,K,K);c=new N;c.W(b,a);b=new N;g=new N;a=new N;d?b.hg(e*Math.PI/180):b.hg(-1.57079633);e&&g.rj(d*Math.PI/180+1.57079633);f&&a.sj(f*Math.PI/180);d=new N;d.W(b,g);e=new N;
e.W(d,a);d=new N;d.W(c,e);this.aa=d;tc(this)};t.R=function(a){this.vb(a.e);this.l=a.l;this.mode=a.mode;this.t=a.t;this.A=a.A;this.Sc=a.Sc;this.fc=a.fc;this.ia=a.ia;this.wf=a.wf;this.qa=a.qa;this.Qc=a.Qc;this.aa=a.aa;this.Sc=a.Sc};w("Surface",P);P.prototype.Draw=P.prototype.ha;P.prototype.CopyFrom=P.prototype.R;P.prototype.SetAsBillboard=P.prototype.Te;P.prototype.SetTexture=P.prototype.vb;P.prototype.TestBoundingBoxIntersection=P.prototype.Fj;P.prototype.TestRayIntersection=P.prototype.md;var T="art/";
function Q(a,b,c,d){this.c=a;this.b=a.b;this.e=l;this.Gg=this.ab=!1;this.cb=l;this.height=this.width=0;this.rn=l;this.$k=!1;if(b){this.Sb=this.b.createFramebuffer();this.b.bindFramebuffer(this.b.FRAMEBUFFER,this.Sb);this.Sb.width=c||0;this.Sb.height=d||0;this.e=this.b.createTexture();this.b.bindTexture(this.b.TEXTURE_2D,this.e);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.LINEAR);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.LINEAR);this.b.texParameteri(this.b.TEXTURE_2D,
this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGBA,this.Sb.width,this.Sb.height,0,this.b.RGBA,this.b.UNSIGNED_BYTE,l);this.b.bindRenderbuffer(this.b.RENDERBUFFER,this.b.createRenderbuffer());this.b.framebufferTexture2D(this.b.FRAMEBUFFER,this.b.COLOR_ATTACHMENT0,this.b.TEXTURE_2D,this.e,0);this.b.bindTexture(this.b.TEXTURE_2D,l);this.b.bindRenderbuffer(this.b.RENDERBUFFER,
l);this.b.bindFramebuffer(this.b.FRAMEBUFFER,l);this.$k=this.ab=!0;if(c)this.width=c;if(d)this.height=d}}
function R(a,b,c,d,e){a.e=a.b.createTexture();a.Xl=e;var f=a.e,g=a.b;a.e.Rc=new Image;a.e.Rc.onload=function(){g.bindTexture(g.TEXTURE_2D,f);a.Xl&&g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,!0);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,f.Rc);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.bindTexture(g.TEXTURE_2D,
l);a.width=f.Rc.width;a.height=f.Rc.height;c!=l&&c(a);a.ab=!0};a.e.Rc.an="";a.e.Rc.src=b;a.e.Rc.onerror=function(){I(J("owg.Texture"),"***FAILED DOWNLOADING: "+b);this.Gg=!0;d&&d(a)}}t=Q.prototype;
t.v=function(a,b,c,d,e,f,g,j,k,m){c=c||0;d=d||0;e=e||1;f=f||1;g=g||!1;j=j||!1;k=k||1;if(this.ab){var q=this.width,r=this.height,n=this.width/2,s=this.height/2;this.c.qc();this.c.yh();var d=L(d),v=new N;d>0?v.n(new Float32Array([Math.cos(d)*e,Math.sin(d)*f,0,0,-Math.sin(d)*e,Math.cos(d)*f,0,0,0,0,1,0,-Math.cos(d)*e*n+Math.sin(d)*e*s+e*n+a,-Math.cos(d)*f*s-Math.sin(d)*f*n+f*s+b,c,1])):(v.Kb(a,b,c),a=new N,a.Jc(e,f,1),v.W(v,a));this.c.sc(v);if(this.cb===l)this.cb=new P(this.c),j?qc(this.cb,[0,0,0,0,
0,q,0,0,1,0,q,r,0,1,1,0,r,0,0,1]):qc(this.cb,[0,0,0,0,1,q,0,0,1,1,q,r,0,1,0,0,r,0,0,0]),rc(this.cb,[0,1,2,0,2,3],"TRIANGLES"),this.cb.vb(this);g?(this.c.b.enable(this.c.b.BLEND),this.c.b.disable(this.c.b.DEPTH_TEST),this.c.b.depthFunc(this.c.b.LEQUAL),this.c.b.blendFunc(this.c.b.SRC_ALPHA,this.c.b.ONE_MINUS_SRC_ALPHA)):this.c.b.disable(this.c.b.BLEND);k<1&&(this.c.b.blendColor(0,0,0,k),this.c.b.blendFunc(this.c.b.CONSTANT_ALPHA,this.c.b.ONE_MINUS_CONSTANT_ALPHA));this.cb.ha(l,l,l,l,m);g&&(this.c.b.disable(this.c.b.BLEND),
this.c.b.enable(this.c.b.DEPTH_TEST));this.c.pc()}};t.H=function(){this.e.Rc=l;this.c.b.deleteTexture(this.e);this.e=l;this.Gg=this.ab=!1;if(this.cb)this.cb.H(),this.cb=l;if(this.Sb)this.c.b.deleteFramebuffer(this.Sb),this.Sb=l};t.jh=function(){this.$k&&(this.b.bindFramebuffer(this.b.FRAMEBUFFER,this.Sb),this.b.viewport(0,0,this.Sb.width,this.Sb.height),this.b.clearColor(0,0,0,1),this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT))};
t.ih=function(){this.b.bindTexture(this.b.TEXTURE_2D,l);this.b.bindFramebuffer(this.b.FRAMEBUFFER,l);this.b.viewport(0,0,this.c.width,this.c.height)};t.R=function(a){this.e=a.e;this.ab=a.ab;this.Gg=a.Gg;this.height=this.width=this.cb=a.cb};w("Texture",Q);Q.prototype.CopyFrom=Q.prototype.R;Q.prototype.Blit=Q.prototype.v;Q.prototype.EnableRenderToTexture=Q.prototype.jh;Q.prototype.DisableRenderToTexture=Q.prototype.ih;function S(a,b,c){this.B=new Float32Array([a,b,c])}S.prototype.n=function(a,b,c){this.B[0]=a;this.B[1]=b;this.B[2]=c};S.prototype.ma=function(a){var b=Math.sin(L(this.B[1])),c=Math.cos(L(this.B[1])),d=Math.sin(L(this.B[0])),e=Cb/Math.sqrt(1-Db*b*b);a[0]=(e+this.B[2])*c*Math.cos(L(this.B[0]));a[1]=(e+this.B[2])*c*d;a[2]=(0.993305620011365*e+this.B[2])*b;a[0]*=K;a[1]*=K;a[2]*=K};
S.prototype.nc=function(a,b,c){var d=Math.atan2(b,a),e=Math.atan2(c,Math.sqrt(a*a+b*b)),f=0,g=0,j=0,g=0;a*=8388607;b*=8388607;c*=8388607;for(var k=0;k<10;k++)g=Math.sin(e),g*=g,j=Math.cos(e),g=Cb/Math.sqrt(1-Db*g),f=Math.sqrt(a*a+b*b)/j-g,e=Math.atan2(c/Math.sqrt(a*a+b*b),1-g*Db/(g+f));this.B[0]=Fb(d);this.B[1]=Fb(e);this.B[2]=f};S.prototype.Xd=function(){return" Longitude: "+this.B[0].toPrecision(17)+" Latitude: "+this.B[1].toPrecision(17)+" Elevation: "+this.B[2].toPrecision(17)};w("GeoCoord",S);
S.prototype.FromCartesian=S.prototype.nc;S.prototype.ToCartesian=S.prototype.ma;S.prototype.ToString=S.prototype.Xd;function vc(a){this.c=a;this.b=a.b;this.aa=this.qa=this.Yc=l;this.re=new N;this.pn=[];this.Xg=this.vi=this.ba=0}function wc(a,b){a.vi+=b.length/7;if(a.Xg==0)a.Xg=a.vi*70;a.Yc=l;a.Yc=new Float32Array(b);a.rg()}vc.prototype.H=function(){if(this.qa)this.b.deleteBuffer(this.qa),this.qa=l;this.qa=this.Yc=l};
vc.prototype.ig=function(a,b,c){var d=new S(a,b,c),c=Array(3);d.ma(c);(new N).Kb(c[0],c[1],c[2]);d=new N;d.mc(a,b);a=new Float32Array(16);b=d.a;a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;b=new N;b.n(a);a=new N;a.Jc(K,K,K);c=new N;c.W(b,a);a=new N;a.hg(-1.57079633);b=new N;b.W(c,a);this.aa=b};
vc.prototype.ha=function(){if(this.Yc!=l){this.qa||this.rg();this.aa&&(this.c.qc(),this.re.W(this.aa,this.c.Nb),this.c.sc(this.re));this.b.bindBuffer(this.b.ARRAY_BUFFER,this.qa);this.b.enableVertexAttribArray(0);this.b.enableVertexAttribArray(1);this.b.vertexAttribPointer(0,3,this.b.FLOAT,!1,28,0);this.b.vertexAttribPointer(1,4,this.b.FLOAT,!1,28,12);var a=new N;a.Ud(this.c.Da);var b=this.c.Dc,c=this.c.Da;b.Db&&(b.b.useProgram(b.Db),b.b.uniformMatrix4fv(b.b.getUniformLocation(b.Db,"matMVP"),!1,c.a),
b.b.uniformMatrix4fv(b.b.getUniformLocation(b.Db,"matInvMVP"),!1,a.a));this.b.drawArrays(this.b.POINTS,0,this.vi);this.b.disableVertexAttribArray(0);this.b.disableVertexAttribArray(1);this.aa&&this.c.pc()}};
vc.prototype.rg=function(){this.qa===l?(this.qa=this.b.createBuffer(),this.b.bindBuffer(this.b.ARRAY_BUFFER,this.qa),this.b.bufferData(this.b.ARRAY_BUFFER,this.Xg,this.b.STATIC_DRAW),this.b.bufferSubData(this.b.ARRAY_BUFFER,0,this.Yc)):(this.b.bindBuffer(this.b.ARRAY_BUFFER,this.qa),this.b.bufferSubData(this.b.ARRAY_BUFFER,this.ba,this.Yc));this.ba+=this.Yc.length*4};var xc,yc,zc,Ac,Bc;function Cc(){return u.navigator?u.navigator.userAgent:l}Ac=zc=yc=xc=!1;var Dc;if(Dc=Cc()){var Ec=u.navigator;xc=Dc.indexOf("Opera")==0;yc=!xc&&Dc.indexOf("MSIE")!=-1;zc=!xc&&Dc.indexOf("WebKit")!=-1;Ac=!xc&&!zc&&Ec.product=="Gecko"}var Fc=xc,Gc=yc,Hc=Ac,Ic=zc,Jc,Kc=u.navigator;Jc=Kc&&Kc.platform||"";Bc=Jc.indexOf("Mac")!=-1;var Lc=Jc.indexOf("Win")!=-1,Mc;
a:{var Nc="",Oc;if(Fc&&u.opera)var Pc=u.opera.version,Nc=typeof Pc=="function"?Pc():Pc;else if(Hc?Oc=/rv\:([^\);]+)(\)|;)/:Gc?Oc=/MSIE\s+([^\);]+)(\)|;)/:Ic&&(Oc=/WebKit\/(\S+)/),Oc)var Qc=Oc.exec(Cc()),Nc=Qc?Qc[1]:"";if(Gc){var Rc,Sc=u.document;Rc=Sc?Sc.documentMode:i;if(Rc>parseFloat(Nc)){Mc=String(Rc);break a}}Mc=Nc}var Tc={};function Uc(a){return Tc[a]||(Tc[a]=$a(Mc,a)>=0)};var Vc;var Wc="dblclick",Xc="mousedown",Yc="mouseup",Zc="mousemove",$c="keydown",ad="keyup";var bd=!Gc||Uc("9"),cd=Gc&&!Uc("8");function dd(){ed&&(fd[ha(this)]=this)}var ed=!1,fd={};dd.prototype.Yj=!1;dd.prototype.jf=function(){if(!this.Yj&&(this.Yj=!0,this.Zb(),ed)){var a=ha(this);fd.hasOwnProperty(a)||h(Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"));delete fd[a]}};dd.prototype.Zb=o();function gd(a,b){dd.call(this);this.type=a;this.currentTarget=this.target=b}la(gd,dd);t=gd.prototype;t.Zb=function(){delete this.type;delete this.target;delete this.currentTarget};t.Od=!1;t.Ef=!0;t.stopPropagation=function(){this.Od=!0};t.preventDefault=function(){this.Ef=!1};var hd=new Function("a","return a");function id(a,b){a&&this.Tc(a,b)}la(id,gd);var jd=0,kd=1,ld=2,md=[1,4,2];t=id.prototype;t.target=l;t.relatedTarget=l;t.offsetX=0;t.offsetY=0;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.button=0;t.keyCode=0;t.charCode=0;t.ctrlKey=!1;t.altKey=!1;t.shiftKey=!1;t.metaKey=!1;t.mm=!1;t.Ac=l;
t.Tc=function(a,b){var c=this.type=a.type;gd.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Hc)try{hd(d.nodeName)}catch(e){d=l}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||
0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.mm=Bc?a.metaKey:a.ctrlKey;this.state=a.state;this.Ac=a;delete this.Ef;delete this.Od};function nd(a,b){return bd?a.Ac.button==b:a.type=="click"?b==jd:!!(a.Ac.button&md[b])}
t.stopPropagation=function(){id.Ce.stopPropagation.call(this);this.Ac.stopPropagation?this.Ac.stopPropagation():this.Ac.cancelBubble=!0};t.preventDefault=function(){id.Ce.preventDefault.call(this);var a=this.Ac;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,cd)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};t.Zb=function(){id.Ce.Zb.call(this);this.relatedTarget=this.currentTarget=this.target=this.Ac=l};function od(){}var pd=0;t=od.prototype;t.key=0;t.ze=!1;t.Oj=!1;t.Tc=function(a,b,c,d,e,f){ea(a)=="function"?this.fk=!0:a&&a.handleEvent&&ea(a.handleEvent)=="function"?this.fk=!1:h(Error("Invalid listener argument"));this.qf=a;this.Ik=b;this.src=c;this.type=d;this.capture=!!e;this.ji=f;this.Oj=!1;this.key=++pd;this.ze=!1};t.handleEvent=function(a){if(this.fk)return this.qf.call(this.ji||this.src,a);return this.qf.handleEvent.call(this.qf,a)};var qd,rd=(qd="ScriptEngine"in u&&u.ScriptEngine()=="JScript")?u.ScriptEngineMajorVersion()+"."+u.ScriptEngineMinorVersion()+"."+u.ScriptEngineBuildVersion():"0";function sd(a,b){dd.call(this);this.kk=b;this.Ad=[];a>this.kk&&h(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.Ad.push(this.ef())}la(sd,dd);t=sd.prototype;t.yd=l;t.Xj=l;t.getObject=function(){if(this.Ad.length)return this.Ad.pop();return this.ef()};function td(a,b){a.Ad.length<a.kk?a.Ad.push(b):a.Zh(b)}t.ef=function(){return this.yd?this.yd():{}};
t.Zh=function(a){if(this.Xj)this.Xj(a);else{var b=ea(a);if(b=="object"||b=="array"||b=="function")if(ea(a.jf)=="function")a.jf();else for(var c in a)delete a[c]}};t.Zb=function(){sd.Ce.Zb.call(this);for(var a=this.Ad;a.length;)this.Zh(a.pop());delete this.Ad};var ud,vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed;
(function(){function a(){return{oa:0,Rb:0}}function b(){return[]}function c(){function a(b){return g.call(a.src,a.key,b)}return a}function d(){return new od}function e(){return new id}var f=qd&&!($a(rd,"5.7")>=0),g;zd=function(a){g=a};if(f){ud=function(){return j.getObject()};vd=function(a){td(j,a)};wd=function(){return k.getObject()};xd=function(a){td(k,a)};yd=function(){return m.getObject()};Ad=function(){td(m,c())};Bd=function(){return q.getObject()};Cd=function(a){td(q,a)};Dd=function(){return r.getObject()};
Ed=function(a){td(r,a)};var j=new sd(0,600);j.yd=a;var k=new sd(0,600);k.yd=b;var m=new sd(0,600);m.yd=c;var q=new sd(0,600);q.yd=d;var r=new sd(0,600);r.yd=e}else ud=a,vd=da,wd=b,xd=da,yd=c,Ad=da,Bd=d,Cd=da,Dd=e,Ed=da})();var Fd={},U={},Pa={},Gd={};
function V(a,b,c,d,e){if(b)if(ea(b)=="array"){for(var f=0;f<b.length;f++)V(a,b[f],c,d,e);return l}else{var d=!!d,g=U;b in g||(g[b]=ud());g=g[b];d in g||(g[d]=ud(),g.oa++);var g=g[d],j=ha(a),k;g.Rb++;if(g[j]){k=g[j];for(f=0;f<k.length;f++)if(g=k[f],g.qf==c&&g.ji==e){if(g.ze)break;return k[f].key}}else k=g[j]=wd(),g.oa++;f=yd();f.src=a;g=Bd();g.Tc(c,f,a,b,d,e);c=g.key;f.key=c;k.push(g);Fd[c]=g;Pa[j]||(Pa[j]=wd());Pa[j].push(g);a.addEventListener?(a==u||!a.Uj)&&a.addEventListener(b,f,d):a.attachEvent(Hd(b),
f);return c}else h(Error("Invalid event type"))}function Id(a,b,c,d,e){if(ea(b)=="array")for(var f=0;f<b.length;f++)Id(a,b[f],c,d,e);else{d=!!d;a:{f=U;if(b in f&&(f=f[b],d in f&&(f=f[d],a=ha(a),f[a]))){a=f[a];break a}a=l}if(a)for(f=0;f<a.length;f++)if(a[f].qf==c&&a[f].capture==d&&a[f].ji==e){Jd(a[f].key);break}}}
function Jd(a){if(Fd[a]){var b=Fd[a];if(!b.ze){var c=b.src,d=b.type,e=b.Ik,f=b.capture;c.removeEventListener?(c==u||!c.Uj)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(Hd(d),e);c=ha(c);e=U[d][f][c];if(Pa[c]){var g=Pa[c],j=eb(g,b);j>=0&&db.splice.call(g,j,1);g.length==0&&delete Pa[c]}b.ze=!0;e.Ck=!0;Kd(d,f,c,e);delete Fd[a]}}}
function Kd(a,b,c,d){if(!d.Ng&&d.Ck){for(var e=0,f=0;e<d.length;e++)if(d[e].ze){var g=d[e].Ik;g.src=l;Ad(g);Cd(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.Ck=!1;f==0&&(xd(d),delete U[a][b][c],U[a][b].oa--,U[a][b].oa==0&&(vd(U[a][b]),delete U[a][b],U[a].oa--),U[a].oa==0&&(vd(U[a]),delete U[a]))}}
function Ld(a){var b,c=0,d=b==l;b=!!b;if(a==l)Oa(function(a){for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)Jd(f.key),c++}});else if(a=ha(a),Pa[a])for(var a=Pa[a],e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)Jd(f.key),c++}}function Hd(a){if(a in Gd)return Gd[a];return Gd[a]="on"+a}
function Md(a,b,c,d,e){var f=1,b=ha(b);if(a[b]){a.Rb--;a=a[b];a.Ng?a.Ng++:a.Ng=1;try{for(var g=a.length,j=0;j<g;j++){var k=a[j];k&&!k.ze&&(f&=Nd(k,e)!==!1)}}finally{a.Ng--,Kd(c,d,b,a)}}return Boolean(f)}function Nd(a,b){var c=a.handleEvent(b);a.Oj&&Jd(a.key);return c}
zd(function(a,b){if(!Fd[a])return!0;var c=Fd[a],d=c.type,e=U;if(!(d in e))return!0;var e=e[d],f,g;Vc===i&&(Vc=Gc&&!u.addEventListener);if(Vc){f=b||ca("window.event");var j=!0 in e,k=!1 in e;if(j){if(f.keyCode<0||f.returnValue!=i)return!0;a:{var m=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(q){m=!0}if(m||f.returnValue==i)f.returnValue=!0}}m=Dd();m.Tc(f,this);f=!0;try{if(j){for(var r=wd(),n=m.currentTarget;n;n=n.parentNode)r.push(n);g=e[!0];g.Rb=g.oa;for(var s=r.length-1;!m.Od&&s>=0&&g.Rb;s--)m.currentTarget=
r[s],f&=Md(g,r[s],d,!0,m);if(k){g=e[!1];g.Rb=g.oa;for(s=0;!m.Od&&s<r.length&&g.Rb;s++)m.currentTarget=r[s],f&=Md(g,r[s],d,!1,m)}}else f=Nd(c,m)}finally{if(r)r.length=0,xd(r);m.jf();Ed(m)}return f}d=new id(b,this);try{f=Nd(c,d)}finally{d.jf()}return f});function Od(){this.kf=[];this.wi=new kb;this.Vk=this.Wk=this.Xk=this.Nk=0;this.kc=new kb;this.Qj=this.Uk=0;this.hm=1;this.$h=new sd(0,4E3);this.$h.ef=function(){return new Pd};this.Ok=new sd(0,50);this.Ok.ef=function(){return new Qd};var a=this;this.li=new sd(0,2E3);this.li.ef=function(){return String(a.hm++)};this.li.Zh=o();this.Ul=3}function Qd(){this.Pi=this.Tk=this.count=0}
Qd.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(this.Tk*10)/10," ms)");this.Pi&&a.push(" [VarAlloc = ",this.Pi,"]");return a.join("")};function Pd(){}function Rd(a,b,c,d){var e=[];c==-1?e.push("    "):e.push(Sd(a.Zj-c));e.push(" ",Td(a.Zj-b));a.ai==0?e.push(" Start        "):a.ai==1?(e.push(" Done "),e.push(Sd(a.un-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);a.tm>0&&e.push("[VarAlloc ",a.tm,"] ");return e.join("")}
Pd.prototype.toString=function(){return this.type==l?this.Ol:"["+this.type+"] "+this.Ol};Od.prototype.reset=function(a){this.Ul=a;for(a=0;a<this.kf.length;a++){var b=this.$h.id;b&&td(this.li,b);td(this.$h,this.kf[a])}this.kf.length=0;this.wi.clear();this.Nk=ka();this.Qj=this.Uk=this.Vk=this.Wk=this.Xk=0;b=lb(this.kc);for(a=0;a<b.length;a++){var c=this.kc.get(b[a]);c.count=0;c.Tk=0;c.Pi=0;td(this.Ok,c)}this.kc.clear()};
Od.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.kf.length;d++){var e=this.kf[d];e.ai==1&&c.pop();a.push(" ",Rd(e,this.Nk,b,c.join("")));b=e.Zj;a.push("\n");e.ai==0&&c.push("|  ")}if(this.wi.oa!=0){var f=ka();a.push(" Unstopped timers:\n");jb(this.wi,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",Td(b.startTime),")\n")})}b=lb(this.kc);for(d=0;d<b.length;d++)c=this.kc.get(b[d]),c.count>1&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.Uk,"\n","Total comments created ",
this.Qj,"\n","Overhead start: ",this.Xk," ms\n","Overhead end: ",this.Wk," ms\n","Overhead comment: ",this.Vk," ms\n");return a.join("")};Od.prototype.jk=function(a){u.console&&u.console.markTimeline&&u.console.markTimeline(a)};function Sd(a){var a=Math.round(a),b="";a<1E3&&(b=" ");a<100&&(b="  ");a<10&&(b="   ");return b+a}function Td(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new Od;new sd(0,100);var Ud=0;function Vd(){this.Cm=Ud;Ud++;this.ib=o();this.jb=o();this.hb=o();this.gd=o();this.Wd=o();this.hd=o();this.oc=o();this.Dm=this.c=l;this.xn=[]}function Wd(a){a.hd(a.c.N);a.gd()};function Xd(){dd.call(this)}la(Xd,dd);t=Xd.prototype;t.Uj=!0;t.xi=l;t.addEventListener=function(a,b,c,d){V(this,a,b,c,d)};t.removeEventListener=function(a,b,c,d){Id(this,a,b,c,d)};
t.dispatchEvent=function(a){var b=a.type||a,c=U;if(b in c){if(ga(a))a=new gd(a,this);else if(a instanceof gd)a.target=a.target||this;else{var d=a,a=new gd(b,this);Ra(a,d)}var d=1,e,c=c[b],b=!0 in c,f;if(b){e=[];for(f=this;f;f=f.xi)e.push(f);f=c[!0];f.Rb=f.oa;for(var g=e.length-1;!a.Od&&g>=0&&f.Rb;g--)a.currentTarget=e[g],d&=Md(f,e[g],a.type,!0,a)&&a.Ef!=!1}if(!1 in c)if(f=c[!1],f.Rb=f.oa,b)for(g=0;!a.Od&&g<e.length&&f.Rb;g++)a.currentTarget=e[g],d&=Md(f,e[g],a.type,!1,a)&&a.Ef!=!1;else for(e=this;!a.Od&&
e&&f.Rb;e=e.xi)a.currentTarget=e,d&=Md(f,e,a.type,!1,a)&&a.Ef!=!1;a=Boolean(d)}else a=!0;return a};t.Zb=function(){Xd.Ce.Zb.call(this);Ld(this);this.xi=l};function Yd(){this.Di=this.Ni=this.Li=this.Mi=this.Ki=this.Ii=this.Ji=this.Hi=this.Fi=this.Gi=this.Ei=this.Hf=this.If=this.De=this.Gf=this.Yh=this.Xh=this.jn=l;this.si=this.ri=0;this.kb=!1;this.elevation=this.latitude=this.longitude=this.ua=0;this.ec=-1;this.ra=this.za=0;this.G=Zd;this.he=0;this.Mb=48;this.Gb=this.Be=this.Fc=this.gb=this.cd=this.bb=this.mb=this.Ea=0;this.Mj=!1;this.Tj=this.Sj=0;this.dk=new O(0.7,0.9,1,1);this.hb=o();this.Ra=function(a){for(;a>360;)a-=360;for(;a<0;)a+=360;return a};
this.ib=function(){if(this.ec==0)this.kb&&(this.Yh.v(this.ri-64,this.si-64,0,this.ua,1,1,!0),this.Xh.v(this.ri-64,this.si-64,0,0,1,1,!0)),this.c.Hc("Current position: ("+this.longitude.toFixed(6)+", "+this.latitude.toFixed(6)+","+this.elevation.toFixed(2)+")",0,0,0.5);else if(this.ec==1){this.Mj&&this.Di.v(this.Sj-16,this.Tj-16,0,0,1,1,!0,!0,0.75);var a=this.c.width-1-64-this.he,b=this.c.height-1-this.Mb;this.G==$d?this.Hf.v(a-64,b-64,0,this.Ra(this.cd+this.Be),1,1,!0,!1,1,this.dk):this.G==ae?this.Hf.v(a-
64,b-64,0,this.Ra(this.cd+this.Be),1,1,!0,!1,1,this.dk):this.Hf.v(a-64,b-64,0,this.Ra(this.cd+this.Be),1,1,!0);this.G==be?(this.If.v(a-32,b-32,0,0,1,1,!0),this.De.v(a-32,b-32,0,this.bb,1,1,!0,!0,0.5)):this.G==ce?(this.If.v(a-32,b-32,0,0,1,1,!0),this.De.v(a-32,b-32,0,this.bb,1,1,!0,!0,0.5)):this.If.v(a-32,b-32,0,0,1,1,!0);b=this.c.height-1-82-this.Mb;this.G==de?(this.Gf.v(a-32,b-32,0,0,1,1,!0),this.De.v(a-32,b-32,0,this.Ea,1,1,!0,!0,0.5)):this.G==ee?(this.Gf.v(a-32,b-32,0,0,1,1,!0),this.De.v(a-32,
b-32,0,this.Ea,1,1,!0,!0,0.5)):this.Gf.v(a-32,b-32,0,0,1,1,!0);b=this.c.height-1-82-128-this.Mb;this.Ni.v(a-8,b-64,0,0,1,1,!0);b=this.c.height-1-82-64-this.Mb;this.G==fe?this.Ji.v(a-16,b-16,0,0,1,1,!0):this.G==ge?this.Ii.v(a-16,b-16,0,0,1,1,!0):this.Hi.v(a-16,b-16,0,0,1,1,!0);b=this.c.height-1-82-128-64-this.Mb;this.G==he?this.Gi.v(a-16,b-16,0,0,1,1,!0):this.G==ie?this.Fi.v(a-16,b-16,0,0,1,1,!0):this.Ei.v(a-16,b-16,0,0,1,1,!0);b=this.c.height-1-82-128-this.Gb-this.Mb;this.G==je?this.Mi.v(a-16,b-16,
0,0,1,1,!0):this.G==ke?this.Li.v(a-16,b-16,0,0,1,1,!0):this.Ki.v(a-16,b-16,0,0,1,1,!0)}};this.jb=function(a){this.ec=a.ec;this.ua=a.Rj*57.29577951308232;this.longitude=a.zb.longitude;this.latitude=a.zb.latitude;this.elevation=a.zb.elevation;this.Mj=a.zd;this.Sj=a.yb[0];this.Tj=this.c.height-a.yb[1]-1;if(this.G!=$d)this.Be=this.ua,this.cd=0;if(this.G==ge)a.Ga=Nb,a.sa=1;else if(this.G==ie)a.Ga=ec,a.sa=1;else if(this.G==ke)if(this.Gb>0)a.Ga=ec,a.sa=Math.sqrt(this.Gb)/4;else{if(this.Gb<0)a.sa=Math.sqrt(-this.Gb)/
4,a.Ga=Nb}else this.G==ee?(a.Ga=fc,a.sa=this.mb):this.G==$d?(a.Ga=gc,a.sa=this.Be+this.cd,a.sa=this.Ra(a.sa),a.sa*=Math.PI/180):this.G==be?(a.Ga=hc,a.sa=Math.PI*this.bb/180):a.Ga=Mb;a.Bk=this.G==Zd?0:1};this.gd=function(){this.Xh=new Q(this.c);R(this.Xh,T+"flightnavigation/cmpbg.png");this.Yh=new Q(this.c);R(this.Yh,T+"flightnavigation/cmpr.png");this.Gf=new Q(this.c);R(this.Gf,T+"globenavigation/MoveWheel.png");this.If=new Q(this.c);R(this.If,T+"globenavigation/YawPitchWheel.png");this.Hf=new Q(this.c);
R(this.Hf,T+"globenavigation/yaw_pitch_adjust.png");this.De=new Q(this.c);R(this.De,T+"globenavigation/movewheel_marker.png");this.Ei=new Q(this.c);R(this.Ei,T+"globenavigation/minus.png");this.Gi=new Q(this.c);R(this.Gi,T+"globenavigation/minus_over.png");this.Fi=new Q(this.c);R(this.Fi,T+"globenavigation/minus_clicked.png");this.Hi=new Q(this.c);R(this.Hi,T+"globenavigation/plus.png");this.Ji=new Q(this.c);R(this.Ji,T+"globenavigation/plus_over.png");this.Ii=new Q(this.c);R(this.Ii,T+"globenavigation/plus_clicked.png");
this.Ki=new Q(this.c);R(this.Ki,T+"globenavigation/slider.png");this.Mi=new Q(this.c);R(this.Mi,T+"globenavigation/slider_over.png");this.Li=new Q(this.c);R(this.Li,T+"globenavigation/slider_clicked.png");this.Ni=new Q(this.c);R(this.Ni,T+"globenavigation/slider_rail.png");this.Di=new Q(this.c);R(this.Di,T+"globenavigation/crosshair.png")};this.Wd=o();this.hd=function(a){V(a,Xc,this.Me,!1,this);V(a,Yc,this.Oe,!1,this);V(a,Zc,this.Ne,!1,this);V(a,Wc,this.th,!1,this)};this.Me=function(a){if(nd(a,jd)){var b=
a.offsetX-this.c.N.offsetLeft,a=a.offsetY-this.c.N.offsetTop;this.ri=b;this.si=this.c.height-a-1;this.za=b;this.ra=this.c.height-a-1;this.kb=!0;this.ec==1&&this.mh(0)}};this.Oe=function(a){if(nd(a,jd)){var b=a.offsetY-this.c.N.offsetTop;this.za=a.offsetX-this.c.N.offsetLeft;this.ra=this.c.height-b-1;this.kb=!1;this.ec==1&&this.mh(0);this.Gb=0}};this.Ne=function(a){var b=a.offsetY-this.c.N.offsetTop,c=this.c.height-b-1-this.ra;this.za=a.offsetX-this.c.N.offsetLeft;this.ra=this.c.height-b-1;this.ec==
1&&this.mh(c)};this.th=function(){this.G==ae&&le(this.c.Ia,this.longitude,this.latitude,this.elevation,0,-90,0)};this.mh=function(a){var b=this.c.width-1-64-this.he-8,c=this.c.height-1-82-64-this.Mb+8,d=this.c.width-1-64-this.he-8,e=this.c.height-1-82-128-64-this.Mb+8,f=this.c.width-1-64-this.he-8,g=this.c.height-1-82-128-this.Gb-this.Mb+8,j=this.c.width-1-64-this.he,k=this.c.height-1-82-this.Mb,m=Math.abs(this.za-j);m*=m;var q=Math.abs(this.ra-k);q*=q;var r=this.c.width-1-64-this.he,n=this.c.height-
1-this.Mb,s=Math.abs(this.za-r);s*=s;var v=Math.abs(this.ra-n);v*=v;if(this.kb&&this.G==ke)if(this.Gb-=a,this.Gb<-40)this.Gb=-40;else{if(this.Gb>40)this.Gb=40}else if(this.kb&&this.G==ee)a=this.za-j,k=this.ra-k,this.mb=this.Ea=180*Math.atan2(Math.abs(k),a)/Math.PI,k<0?this.Ea=360-this.Ea:this.mb=360-this.mb,this.Ea+=90,this.mb+=90,this.Ea=this.Ra(this.Ea),this.mb=this.Ra(this.mb);else if(this.kb&&this.G==$d){a=this.za-r;k=this.ra-n;this.gb=180*Math.atan2(Math.abs(k),a)/Math.PI;if(k<0)this.gb=360-
this.gb;this.gb-=90;this.gb=this.Ra(this.gb);this.cd=this.Ra(this.gb-this.Fc)}else if(this.kb&&this.G==be){a=this.za-r;k=this.ra-n;this.bb=180*Math.atan2(Math.abs(k),a)/Math.PI;if(k<0)this.bb=360-this.bb;this.bb+=90;this.bb=this.Ra(this.bb)}else{this.G=0;if(this.za>b&&this.ra>c-16&&this.za<b+16&&this.ra<c)this.G=this.kb?ge:fe;if(this.za>d&&this.ra>e-16&&this.za<d+16&&this.ra<e)this.G=this.kb?ie:he;if(this.za>f&&this.ra>g-16&&this.za<f+16&&this.ra<g)this.G=this.kb?ke:je;m+q<=729?this.kb?this.G=ee:
(this.G=de,a=this.za-j,k=this.ra-k,this.mb=this.Ea=180*Math.atan2(Math.abs(k),a)/Math.PI,k<0?this.Ea=360-this.Ea:this.mb=360-this.mb,this.Ea+=90,this.mb+=90,this.Ea=this.Ra(this.Ea),this.mb=this.Ra(this.mb)):this.Ea=0;if(s+v<=625){this.G=this.kb?be:ce;a=this.za-r;k=this.ra-n;this.bb=180*Math.atan2(Math.abs(k),a)/Math.PI;if(k<0)this.bb=360-this.bb;this.bb+=90;this.bb=this.Ra(this.bb)}else if(s+v<=1600)if(this.kb){this.G=$d;a=this.za-r;k=this.ra-n;this.gb=180*Math.atan2(Math.abs(k),a)/Math.PI;if(k<
0)this.gb=360-this.gb;this.gb-=90;this.gb=this.Ra(this.gb);this.cd=this.Ra(this.gb-this.Fc);this.Be=this.ua}else{this.G=ae;a=this.za-r;k=this.ra-n;this.Fc=180*Math.atan2(Math.abs(k),a)/Math.PI;if(k<0)this.Fc=360-this.Fc;this.Fc-=90;this.Fc-=this.cd;this.Fc=this.Ra(this.Fc)}}}}var Zd=0,fe=1,ge=2,he=3,ie=4,je=5,ke=6,de=7,ee=8,ae=9,$d=10,ce=11,be=12;Yd.prototype=new Vd;function me(){this.name="ogAoeImage";this.type=Ga;this.ac=-1;this.F=!1;this.options=l;this.nf=-1;this.Fd=-180;this.Dd=-90;this.le=180;this.ke=90;this.fn="";this.ab=!1;this.e=this.bm=l;this.me=[];this.ge=[]}me.prototype=new F;t=me.prototype;t.wa=function(a){this.options=a;this.Fd=a.longitude0;this.Dd=a.latitude0;this.le=a.longitude1;this.ke=a.latitude1;this.$l=a.url;a=this.parent.parent.c;this.bm=new Q(a,!0,256,256);this.e=new Q(a);this.e.parent=this;R(this.e,this.$l,ne,oe,!0);this.ac=pe(this).bh(this)};
t.Oa=function(){pe(this).vh(this.ac)};function pe(a){var b=l,a=a.parent.parent.c;if(a.f&&a.f.P)b=a.f.P.Oh;return b}t.V=o();t.X=o();
t.Ma=function(){var a=this.parent.parent.c;if(this.ab!=!1){var b=a.f.P.Ab.u.length,c,d,e,f,g=l;this.ge=l;this.ge=[];for(var j=0;j<b;j++)if(g=a.f.P.Ab.u[j],!(g.h.length<1)&&!g.en&&(c=g.Fd,d=g.Dd,e=g.le,f=g.ke,!(this.Fd>e|this.le<c|this.Dd>f|this.ke<d)&&(this.ge[g.h]=this.me[g.h],!this.me[g.h]))){var k=new P(g.c);k.R(g.p);var m=g.e,q=new Q(g.c,!0,256,256);q.jh();m.v(0,0,0,0,1,1,!0,!0,1);this.e.v((this.Fd-c)*256/(e-c),(this.Dd-d)*256/(f-d),0,0,(this.le-this.Fd)/this.e.width/((e-c)/256),(this.ke-this.Dd)/
this.e.height/((f-d)/256),!0,!0,1);q.ih();k.vb(q);k.vm=g.la[0];k.wm=g.la[1];k.xm=g.la[2];this.me[g.h]=k;this.ge[g.h]=k}}for(var r in this.ge)a=this.ge[r],b=new N,b.R(a.c.Nb),b.a[12]+=a.vm,b.a[13]+=a.wm,b.a[14]+=a.xm,a.c.qc(),a.c.sc(b),a.ha(),a.c.pc()};function ne(a){a.parent.ab=!0;a.D&&a.D(a.h,a,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l}function oe(a){a.C&&a.C(a.h,a.caller,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l};function qe(a){this.c=a;this.$e=[]}qe.prototype.Ma=function(){for(var a=0;a<this.$e.length;a++)this.$e[a].Ma()};qe.prototype.bh=function(a){this.$e.push(a);return this.$e.length-1};qe.prototype.vh=function(a){this.$e.splice(a,1)};function re(a){this.c=a;this.ja=[];this.Pc=new se}re.prototype.Ma=function(a,b){var c=a.a[0],d=a.a[1],e=a.a[2],f=0,g=0,j=0;this.Pc.pg(b);for(var k=0;k<this.ja.length;k++){var m=this.ja[k];m.F||(this.Pc.ng(m.Kd,m.Ld,m.Md,m.Kd+0.0010,m.Ld+0.0010,m.Md+0.0010),f=m.Kd-c,g=m.Ld-d,j=m.Md-e,f=f*f+g*g+j*j,g=m.Si*m.Si,m.Ri*m.Ri>f&&g<f&&m.ha())}};re.prototype.Re=function(a,b){for(var c=0;c<this.ja.length;c++)if(this.ja[c].Pe(a,b))return this.ja[c];return l};function te(a){this.c=a;this.na=[]}te.prototype.Ma=function(){for(var a=0;a<this.na.length;a++){var b=this.na[a];b.F||b.ha()}};te.prototype.dh=function(a){this.na.push(a)};te.prototype.wh=function(a){for(var b=0;b<this.na.length;b++)if(this.na[b]==a){this.na.splice(b,1);break}};te.prototype.Qe=function(a,b){for(var c=0;c<this.na.length;c++){var d=this.na[c].Pe(a,b);if(d)return d}return l};function ue(){this.d=this.y=this.x=0}function se(){this.q=Array(6);this.q[0]=new ve;this.q[1]=new ve;this.q[2]=new ve;this.q[3]=new ve;this.q[4]=new ve;this.q[5]=new ve;this.w=Array(8);this.w[0]=new ue;this.w[1]=new ue;this.w[2]=new ue;this.w[3]=new ue;this.w[4]=new ue;this.w[5]=new ue;this.w[6]=new ue;this.w[7]=new ue}function ve(){this.ic=this.hc=this.gc=this.Gc=0}
ve.prototype.tb=function(){var a=Math.sqrt(this.gc*this.gc+this.hc*this.hc+this.ic*this.ic);this.gc/=a;this.hc/=a;this.ic/=a;this.Gc/=a};
se.prototype.ng=function(a,b,c,d,e,f){this.w[0].x=a;this.w[0].y=b;this.w[0].d=c;this.w[1].x=d;this.w[1].y=b;this.w[1].d=c;this.w[2].x=d;this.w[2].y=e;this.w[2].d=c;this.w[3].x=a;this.w[3].y=e;this.w[3].d=c;this.w[4].x=a;this.w[4].y=b;this.w[4].d=f;this.w[5].x=a;this.w[5].y=e;this.w[5].d=f;this.w[6].x=d;this.w[6].y=e;this.w[6].d=f;this.w[7].x=d;this.w[7].y=b;this.w[7].d=f;for(a=0;a<6;a++){b=8;for(c=0;c<8;c++)this.q[a].gc*this.w[c].x+this.q[a].hc*this.w[c].y+this.q[a].ic*this.w[c].d+this.q[a].Gc<0&&
--b;if(b==0)return!1}return!0};
se.prototype.pg=function(a){this.nn=a;this.La=a.a;this.ok=this.La[0];this.sk=this.La[1];this.wk=this.La[2];this.ne=this.La[3];this.pk=this.La[4];this.tk=this.La[5];this.xk=this.La[6];this.oe=this.La[7];this.qk=this.La[8];this.uk=this.La[9];this.yk=this.La[10];this.pe=this.La[11];this.rk=this.La[12];this.vk=this.La[13];this.zk=this.La[14];this.qe=this.La[15];this.q[0].gc=this.ne+this.ok;this.q[0].hc=this.oe+this.pk;this.q[0].ic=this.pe+this.qk;this.q[0].Gc=this.qe+this.rk;this.q[0].tb();this.q[1].gc=
this.ne-this.ok;this.q[1].hc=this.oe-this.pk;this.q[1].ic=this.pe-this.qk;this.q[1].Gc=this.qe-this.rk;this.q[1].tb();this.q[2].gc=this.ne-this.sk;this.q[2].hc=this.oe-this.tk;this.q[2].ic=this.pe-this.uk;this.q[2].Gc=this.qe-this.vk;this.q[2].tb();this.q[3].gc=this.ne+this.sk;this.q[3].hc=this.oe+this.tk;this.q[3].ic=this.pe+this.uk;this.q[3].Gc=this.qe+this.vk;this.q[3].tb();this.q[4].gc=this.ne+this.wk;this.q[4].hc=this.oe+this.xk;this.q[4].ic=this.pe+this.yk;this.q[4].Gc=this.qe+this.zk;this.q[4].tb();
this.q[5].gc=this.ne-this.wk;this.q[5].hc=this.oe-this.xk;this.q[5].ic=this.pe-this.yk;this.q[5].Gc=this.qe-this.zk;this.q[5].tb()};w("ViewFrustum",se);se.prototype.TestBox=se.prototype.ng;se.prototype.Update=se.prototype.pg;function we(){this.af=this.bf=!1;this.version=this.Zc=this.um=this.al=this.Pd=this.ym=this.Ak=this.dm=this.em=this.Fa=this.Ba=this.fm=this.om=this.pm=l}
we.prototype.Je=function(a){this.O=new XMLHttpRequest;this.O.open("GET",a,!0);var b=this;this.O.onreadystatechange=function(){a:if(b.O.readyState==4)if(b.O.status==200){var a=b.O.responseText,d;try{d=kc(a)}catch(e){alert(e);break a}if(d.extent)if(b.version=1,b.sn=d.name,b.Fa=d.maxlod,b.Ak=256,a=d.extent,b.Ba=a,b.al=[b.Fa,a[0],a[1],a[2],a[3]],d.type=="image")d.format=="png"?(b.Pd="image/png",b.Zc=".png"):d.format=="jpg"?(b.Pd="image/jpg",b.Zc=".jpg"):b.Pd="image/png";else{if(d.type=="elevation")b.Zc=
".json"}else if(b.version=0,b.pm=d.layer,b.om=d.copyright,b.fm=d.srs,b.Ba=d.boundingbox,b.Fa=d.levelofdetail,b.em=d.imagewidth,b.dm=d.imageheight,b.Ak=d.tilesize,b.ym=d.tilelayout,b.Pd=d.tileformat,b.al=d.bounds,b.um=d.center,b.Pd=="image/png")b.Zc=".png";else if(b.Pd=="image/jpg")b.Zc=".jpg";else if(b.Pd=="elevation/json")b.Zc=".json";b.bf=!0}else I(J("owg.Datasetinfo"),"DATASET DOWNLOAD FAILED"),b.af=!0};this.O.send()};w("DatasetInfo",we);we.prototype.Download=we.prototype.Je;function W(){}W.prototype.Se=function(a,b){this.qj(a,b);b[0]=2*b[0]-1;b[1]=2*b[1]-1;b[2]=2*b[2]-1;b[3]=2*b[3]-1};W.prototype.qj=function(a,b){for(var c=a.length,d=0,e=0,f=1,g=0;g<c;g++)switch(f/=2,a[g]){case "0":e+=f;break;case "1":d+=f,e+=f;case "2":break;case "3":d+=f;break;default:alert("Wrong quadKey: "+a)}b[0]=d;b[1]=e+f;b[2]=d+f;b[3]=e};
W.prototype.Vb=function(a,b){b.x=0;b.y=0;b.Vc=a.length;for(var c,d=b.Vc;d>0;d--)switch(c=1<<d-1,a[b.Vc-d]){case "1":b.x|=c;break;case "2":b.y|=c;break;case "3":b.x|=c,b.y|=c}};w("MercatorQuadtree",W);W.prototype.QuadKeyToMercatorCoord=W.prototype.Se;W.prototype.QuadKeyToNormalizedCoord=W.prototype.qj;W.prototype.QuadKeyToTileCoord=W.prototype.Vb;var xe={qh:function(a){for(var b="",c=0;c<a.length;c++)c%2==0&&c>0&&c<a.length-4&&(b=b.concat("/")),b=b.concat(a[c]);return b}};w("GlobeUtils",xe);w("GlobeUtils.MakeHierarchicalFilename",xe.qh);function ye(){this.ia=p(!1);this.Ub=p(!1);this.ub=o();this.Ic=p(0);this.sb=p(0);this.Tb=p(!1)};function ze(){this.o=new we;this.i=this.Ae=l;this.Y=new W;this.coords=Array(4);this.Ec=1;this.ia=function(){return this.o.bf};this.Ub=function(){return this.o.af};this.ub=function(a,b,c,d,e,f){if(this.ia()){var g=this.Ae+"/"+this.i+"/"+xe.qh(b+this.o.Zc),a=new Q(a);a.h=b;a.i=c;a.D=d;a.C=e;a.caller=f;a.Ec=this.Ec;R(a,g,Ae,Be,!0)}};this.Ic=p(0);this.sb=function(){return this.o.Fa?this.o.Fa:0};this.Tb=function(a){if(a.length>this.o.Fa)return!1;this.Y.Se(a,this.coords);var a=this.coords[0],b=this.coords[1],
c=this.coords[2],d=this.coords[3],e=this.o.Ba[0],f=this.o.Ba[1],g=this.o.Ba[2],j=this.o.Ba[3];if(d>f||d>f||b<j||b<j||a>g||a>g||c<e||c<e)return!1;return!0};this.Na=function(a,b,c){this.Ec=c==l?1:c;this.Ae=a;this.i=b;this.o.Je(a+"/"+b+".json")}}ze.prototype=new ye;function Ae(a){a.D(a.h,a,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l}function Be(a){a.C(a.h,a.caller,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l}w("i3dImageLayer",ze);ze.prototype.Failed=ze.prototype.Ub;ze.prototype.Ready=ze.prototype.ia;
ze.prototype.RequestTile=ze.prototype.ub;ze.prototype.Setup=ze.prototype.Na;function Ce(){this.i=this.Ha=l;this.Y=new W;this.$=0;this.ia=p(!0);this.Ub=p(!1);this.ub=function(a,b,c,d,e,f){var g={};this.Y.Vb(b,g);g=this.Ha[this.$]+"/"+g.Vc+"/"+g.x+"/"+g.y+".png";a=new Q(a);a.h=b;a.i=c;a.D=d;a.C=e;a.caller=f;R(a,g,De,Ee,!0);this.$++;if(this.$>=this.Ha.length)this.$=0};this.Ic=p(0);this.sb=p(16);this.Tb=function(a){if(a.length<17)return!0;return!1};this.Na=aa("Ha")}Ce.prototype=new ye;function De(a){a.D(a.h,a,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l}
function Ee(a){a.C(a.h,a.caller,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l};function Fe(){this.ia=p(!1);this.Ub=p(!1);this.ub=o();this.Ic=p(0);this.sb=p(0);this.Tb=p(!1)};function Ge(){this.o=new we;this.i=this.Ae=l;this.Y=new W;this.coords=Array(4);this.ia=function(){return this.o.bf};this.Ub=function(){return this.o.af};this.ub=function(a,b,c,d,e,f){if(this.ia()){var g=this.Ae+"/"+this.i+"_JSON/"+(xe.qh(b+".jso")+"n"),a=new P(a);a.h=b;a.i=c;a.D=d;a.C=e;a.caller=f;sc(a,g,He,Ie)}};this.Ic=p(0);this.sb=function(){return this.o.Fa?this.o.Fa:0};this.Tb=function(a){if(a.length>this.o.Fa)return!1;this.Y.Se(a,this.coords);var a=this.coords[0],b=this.coords[1],c=this.coords[2],
d=this.coords[3],e=this.o.Ba[0],f=this.o.Ba[1],g=this.o.Ba[2],j=this.o.Ba[3];if(d>f||d>f||b<j||b<j||a>g||a>g||c<e||c<e)return!1;return!0};this.Na=function(a,b){this.Ae=a;this.i=b;this.o.Je(a+"/"+b+".json")}}Ge.prototype=new Fe;function He(a){a.D(a.h,a,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l}function Ie(a){a.C(a.h,a.caller,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l};function Je(){this.o=new we;this.i=this.Ae=l;this.Y=new W;this.coords=Array(4);this.$=0;this.ia=function(){return this.o.bf};this.Ub=function(){return this.o.af};this.ub=function(a,b,c,d,e,f){if(this.ia()){var g={};this.Y.Vb(b,g);g=this.Ha[this.$]+"/"+this.i+"/tiles/"+g.Vc+"/"+g.x+"/"+g.y+".json";a=new P(a);a.h=b;a.i=c;a.D=d;a.C=e;a.caller=f;sc(a,g,Ke,Le);this.$++;if(this.$>=this.Ha.length)this.$=0}};this.Ic=p(0);this.sb=function(){return this.o.Fa?this.o.Fa:0};this.Tb=function(a){if(a.length>this.o.Fa)return!1;
for(var b=a,c=a,d=0;d<this.o.Fa-a.length;d++)b+="0",c+="3";d={};this.Y.Vb(b,d);b=d.x;a=d.y;this.Y.Vb(c,d);var c=d.x,d=d.y,e=this.o.Ba[0],f=this.o.Ba[1],g=this.o.Ba[3];return!(b>this.o.Ba[2]||c<e||a>g||d<f)};this.Na=function(a,b){this.Ha=a;this.i=b;this.o.Je(a[0]+"/"+b+"/layersettings.json")}}Je.prototype=new Fe;function Ke(a){a.D(a.h,a,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l}function Le(a){a.C(a.h,a.caller,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l};function Me(){this.i=this.Ha=l;this.Y=new W;this.sub=this.$=0;this.sm=["Galile","Galil","Gali","Gal","Ga","G"];this.ia=p(!0);this.Ub=p(!1);this.ub=function(a,b,c,d,e,f){var g={};this.Y.Vb(b,g);g=this.Ha[this.$]+"/kh/v=89&x="+g.x+"&y="+g.y+"&z="+g.Vc+"&s="+this.sm[this.sub];this.sub++;if(this.sub==5)this.sub=0;a=new Q(a);a.h=b;a.i=c;a.D=d;a.C=e;a.caller=f;R(a,g,De,Ee,!0);this.$++;if(this.$>=this.Ha.length)this.$=0};this.Ic=p(0);this.sb=p(19);this.Tb=function(a){if(a.length<20)return!0;return!1};this.Na=
aa("Ha")}Me.prototype=new Ce;function Ne(){this.i=this.Ha=l;this.Y=new W;this.$=0;this.ia=p(!0);this.Ub=p(!1);this.ub=function(a,b,c,d,e,f){var g={};this.Y.Vb(b,g);var j=Math.pow(2,g.Vc),g=this.Ha[this.$]+"/oym?f=m&ft=jpeg_sat_256&x="+(g.x-j/2)+"&y="+(j-g.y-j/2-1)+"&z="+(18-g.Vc)+"&key=[KEY]",a=new Q(a);a.h=b;a.i=c;a.D=d;a.C=e;a.caller=f;R(a,g,Oe,Pe,!0);this.$++;if(this.$>=this.Ha.length)this.$=0};this.Ic=p(0);this.sb=p(16);this.Tb=function(a){if(a.length<17)return!0;return!1};this.Na=aa("Ha")}Ce.prototype=new ye;
function Oe(a){a.D(a.h,a,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l}function Pe(a){a.C(a.h,a.caller,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l};function Qe(a,b){this.pi=a||-1;this.Rl=b||!1;this.Uc={};this.oa=0;this.Jk=Math.round(this.pi*0.75);this.kc={};this.kc.hits=0;this.kc.misses=0;Re(this,"Initialized cache with size "+a)}Qe.prototype.getItem=function(a){var b=this.Uc[a];if(b!=l)Se(b)?(Te(this,a),b=l):b.Mg=(new Date).getTime();(b=b?b.value:l)?(this.kc.hits++,Re(this,"Cache HIT for key "+a)):(this.kc.misses++,Re(this,"Cache MISS for key "+a));return b};
Qe.prototype.setItem=function(a,b,c){this.Uc[a]!=l&&Te(this,a);Ue(this,new function(a,b,c){(a==l||a=="")&&h(Error("key cannot be null or empty"));this.key=a;this.value=b;c==l&&(c={});if(c.Fg!=l)c.Fg=c.Fg.getTime();if(c.Cf==l)c.Cf=2;this.options=c;this.Mg=(new Date).getTime()}(a,b,c));Re(this,"Setting key "+a);if(this.pi>0&&this.oa>this.pi){var d=this;setTimeout(function(){d.nm.call(d)},0)}};Qe.prototype.clear=function(){for(var a in this.Uc)Te(this,a);Re(this,"Cache cleared")};
Qe.prototype.nm=function(){var a=[],b;for(b in this.Uc){var c=this.Uc[b];Se(c)?Te(this,b):a.push(c)}if(a.length>this.Jk)for(a=a.sort(function(a,b){return a.options.Cf!=b.options.Cf?b.options.Cf-a.options.Cf:b.Mg-a.Mg});a.length>this.Jk;)Te(this,a.pop().key);Re(this,"Purged cached")};function Ue(a,b){a.Uc[b.key]=b;a.oa++}
function Te(a,b){var c=a.Uc[b];delete a.Uc[b];a.oa--;Re(a,"removed key "+b);c.options.Kl!=l&&setTimeout(function(){c.options.Kl.call(l,c.key,c.value)},0);c.H!=l&&setTimeout(function(){c.H()},0)}function Se(a){var b=(new Date).getTime(),c=!1;a.options.Fg&&a.options.Fg<b&&(c=!0);!c&&a.options.Wl&&a.Mg+a.options.Wl*1E3<b&&(c=!0);return c}function Re(a,b){a.Rl&&J("owg.Cache").info(b)};function Ve(a,b,c){a=L(a)-0;b=Math.log(Math.tan(Math.PI/4+L(b)/2));a/=Math.PI;b/=Math.PI;c[0]=a;c[1]=b}function We(a,b,c){a*=Math.PI;b*=Math.PI;b=Math.PI/2-2*Math.atan(Math.exp(-b));b=Fb(b);for(a=Fb(a/1+0);a>180;)a-=180;for(;a<-180;)a+=180;for(;b>90;)b-=180;for(;b<-90;)b+=180;c[0]=a;c[1]=b};function Xe(a,b,c){this.c=a;this.h=b;this.Y=c;this.e=l;this.wb=!1;this.p=l;this.la=[];this.ta=Array(5);this.ta[0]=new M;this.ta[1]=new M;this.ta[2]=new M;this.ta[3]=new M;this.ta[4]=new M;this.lf=0;this.images=l;this.Ph=!1;this.Eg=0;this.wg=new M;this.Kf=new N;this.Fd=-180;this.Dd=-90;this.le=180;this.ke=90;var d=Array(4),e=Array(2);this.Y.Se(this.h,d);var a=Array(3),b=Array(3),c=Array(3),f,g,j=new S;f=d[0];g=d[1];We(f,g,e);f=e[0];g=e[1];this.Fd=f;this.ke=g;j.n(f,g,0);j.ma(a);f=d[2];g=d[1];We(f,g,
e);f=e[0];g=e[1];j.n(f,g,0);j.ma(b);f=d[2];g=d[3];We(f,g,e);f=e[0];g=e[1];this.le=f;this.Dd=g;j.n(f,g,0);j.ma(c);d=new M;e=new M;d.n(b[0]-a[0],b[1]-a[1],b[2]-a[2]);e.n(c[0]-a[0],c[1]-a[1],c[2]-a[2]);Kb(this.wg,d,e);this.wg.tb()}
function Ye(a){if(a.lf==0&&a.Eg==0){var b=0,c=0;if(a.images!==l)for(var d=0;d<a.images.length;d++)a.images[d]!=l&&(b++,c=d);b==0?(a.e=a.c.ui,a.p===l&&Ze(a),a.p.vb(a.e),a.wb=!0,a.images=l):b==1?(a.e=a.images[c],a.p===l&&Ze(a),a.p.vb(a.e),a.wb=!0,a.images=l):(a.Ph=!0,a.p===l&&Ze(a),a.wb=!0)}}function $e(a,b,c){a=b.caller;a.images[c]=b;a.lf-=1;Ye(a)}function af(a,b,c){b.images[c]=l;b.lf-=1;Ye(b)}
function bf(a,b){var c=b.caller;c.p=b;c.la=b.ba;c.ta[0].n(b.J[0],b.J[1],b.J[2]);c.ta[1].n(b.T[0],b.J[1],b.J[2]);c.ta[2].n(b.T[0],b.T[1],b.J[2]);c.ta[3].n(b.J[0],b.T[1],b.J[2]);c.ta[4].n(0.5*(b.T[0]-b.J[0]),0.5*(b.T[1]-b.J[1]),0.5*(b.T[2]-b.J[2]));c.Eg-=1;Ye(c)}function cf(a,b){b.p=l;b.Eg-=1;Ye(b)}Xe.prototype.H=function(){this.e&&this.e.H();this.p&&this.p.H()};
function Ze(a){a.p=new P(a.c);for(var b=Array(81),c=0;c<81;c++)b[c]=0;for(var d=Array(162),c=0;c<9;c++)for(var e=0;e<9;e++)d[2*(c*9+e)+0]=e*0.125,d[2*(c*9+e)+1]=1-c*0.125;var f=Array(243),g,j,c=Array(4),k=Array(2),m=Array(3);a.Y.Se(a.h,c);g=c[0];j=c[1];for(var q=(c[3]-j)/8,r=(c[2]-g)/8,n,s,v,y=new S,c=0;c<9;c++)for(e=0;e<9;e++){n=g+e*r;s=j+c*q;We(n,s,k);y.n(k[0],k[1],b[c*9+e]);y.ma(m);n=m[0];s=m[1];v=m[2];if(e==0&&c==0)a.la=[n,s,v];e==0&&c==0?a.ta[0].n(n,s,v):e==8&&c==0?a.ta[1].n(n,s,v):e==8&&c==
8?a.ta[2].n(n,s,v):e==0&&c==8?a.ta[3].n(n,s,v):e==4&&c==4&&a.ta[4].n(n,s,v);f[c*27+3*e+0]=n-a.la[0];f[c*27+3*e+1]=s-a.la[1];f[c*27+3*e+2]=v-a.la[2]}b=Array(405);for(c=0;c<81;c++)b[5*c+0]=f[3*c+0],b[5*c+1]=f[3*c+1],b[5*c+2]=f[3*c+2],b[5*c+3]=d[2*c+0],b[5*c+4]=d[2*c+1];for(var d=[],H,e=g=f=0;e<=7;e+=1){for(c=0;c<=8;c+=1)j=e,H=e+1,m=g%2==0?k=8-c:k=c,H+=m*9,d[f++]=j+k*9,d[f++]=H;d[f++]=H;g+=1}oc(a.p,b);rc(a.p,d,"TRIANGLESTRIP");a.p.vb(a.e);a.p.ba=a.la;tc(a.p)}
Xe.prototype.Ma=function(){if(this.Ph){this.Ph=!1;this.e=new Q(this.c,!0,256,256);this.e.jh();for(var a=0;a<this.images.length;a++)this.images[a]!=l&&(this.images[a].Ec<1?this.images[a].v(0,0,0,0,1,1,!0,!0,this.images[a].Ec):this.images[a].v(0,0,0,0,1,1,!0,!0,1));this.e.ih();for(a=0;a<this.images.length;a++)this.images[a]!=l&&this.images[a].H();this.images=l;this.p.vb(this.e)}this.Kf.R(this.c.Nb);this.Kf.a[12]+=this.la[0];this.Kf.a[13]+=this.la[1];this.Kf.a[14]+=this.la[2];this.c.qc();this.c.sc(this.Kf);
this.p.ha();this.c.pc()};function df(a,b,c,d,e){this.c=a;this.ga=b;this.Ua=c;this.Y=d;this.yg=new Qe(e,!1)}df.prototype.H=function(){this.Y=this.Ua=this.ga=this.c=l;this.yg.clear();this.yg=l};df.prototype.lj=function(){if(!this.ga)return!1;if(this.ga.length==0)return!1;for(var a=0;a<this.ga.length;a++)if(!this.ga[a].ia())return!1;if(this.Ua)for(a=0;a<this.Ua.length;a++)if(!this.Ua[a].ia())return!1;return!0};
df.prototype.rc=function(a){var b=this.yg.getItem(a);if(b==l){var c=b=new Xe(this.c,a,this.Y),d=this.ga,e=this.Ua;if(d.length>0){c.lf=d.length;c.images=Array(c.lf);for(var f=0;f<d.length;f++)c.images[f]=l,d[f].Tb(c.h)?d[f].ub(c.c,c.h,f,$e,af,c):af(0,c,f)}if(e&&e.length>0&&c.h.length>8&&e[0].Tb(c.h))c.Eg=1,e[0].ub(c.c,c.h,0,bf,cf,c);this.yg.setItem(a,b)}return b};
df.prototype.sb=function(){var a=0,b=0;if(this.Ua.length>0)for(var c=0;c<this.Ua.length;c++)b=Math.max(b,this.Ua[c].sb());for(c=0;c<this.ga.length;c++)a=Math.max(a,this.ga[c].sb());if(b>0)return Math.min(b,a);return a};w("GlobeCache",df);df.prototype.IsReady=df.prototype.lj;df.prototype.RequestBlock=df.prototype.rc;function ef(){this.o=new we;this.i=l;this.Y=new W;this.coords=Array(4);this.Ec=1;this.$=0;this.ia=function(){return this.o.bf};this.Ub=function(){return this.o.af};this.ub=function(a,b,c,d,e,f){if(this.ia()){var g={};this.Y.Vb(b,g);g=this.Ha[this.$]+"/"+this.i+"/tiles/"+g.Vc+"/"+g.x+"/"+g.y+this.o.Zc;a=new Q(a);a.h=b;a.i=c;a.D=d;a.C=e;a.caller=f;a.Ec=this.Ec;R(a,g,ff,gf,!0);this.$++;if(this.$>=this.Ha.length)this.$=0}};this.Ic=p(0);this.sb=function(){return this.o.Fa?this.o.Fa:0};this.Tb=function(a){if(a.length>
this.o.Fa)return!1;for(var b=a,c=a,d=0;d<this.o.Fa-a.length;d++)b+="0",c+="3";d={};this.Y.Vb(b,d);b=d.x;a=d.y;this.Y.Vb(c,d);var c=d.x,d=d.y,e=this.o.Ba[0],f=this.o.Ba[1],g=this.o.Ba[3];return!(b>this.o.Ba[2]||c<e||a>g||d<f)};this.Na=function(a,b,c){this.Ec=c==l?1:c;this.Ha=a;this.i=b;this.o.Je(a[0]+"/"+b+"/layersettings.json")}}ef.prototype=new ye;function ff(a){a.D(a.h,a,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l}function gf(a){a.C(a.h,a.caller,a.i);a.D=l;a.C=l;a.h=l;a.caller=l;a.i=l}
w("owgImageLayer",ef);ef.prototype.Failed=ef.prototype.Ub;ef.prototype.Ready=ef.prototype.ia;ef.prototype.RequestTile=ef.prototype.ub;ef.prototype.Setup=ef.prototype.Na;function hf(a){this.c=a;this.ga=[];this.Ua=[];this.Y=new W;this.Jl=1E3;this.Va=l;this.u=[];this.hk=0;this.mf={};this.mf.Ag=0;this.cf=l;this.qi=0;this.Kk=1;this.Pc=new se;this.S=Array(3);this.oi=new N;this.Rg=new P(this.c);this.Vg=new P(this.c);this.Hd=[8/255,24/255,58/255];this.Qd=[1,1,1]}t=hf.prototype;
t.fh=function(a){var b=-1;if(a.service=="i3d"){if(a.url&&a.layer&&a.url.length>0){var b=a.layer,c=new ze;c.Na(a.url[0],b,a.transparency);b=this.ga.length;this.ga.push(c);jf(this)}}else if(a.service=="osm"){if(a.url&&a.url.length>0)c=new Ce,c.Na(a.url),b=this.ga.length,this.ga.push(c),jf(this)}else if(a.service=="owg"){if(a.url&&a.url.length>0)b=a.layer,c=new ef,c.Na(a.url,b,a.transparency),b=this.ga.length,this.ga.push(c),jf(this)}else if(a.service=="goo"){if(a.url&&a.url.length>0)c=new Me,c.Na(a.url),
b=this.ga.length,this.ga.push(c),jf(this)}else if(a.service=="oym"&&a.url&&a.url.length>0)c=new Ne,c.Na(a.url),b=this.ga.length,this.ga.push(c),jf(this);return b};t.eh=function(a){var b=-1;if(a.service=="i3d"){if(a.url&&a.layer&&a.url.length>0){var b=a.layer,c=new Ge;c.Na(a.url[0],b);b=this.Ua.length;this.Ua.push(c);jf(this)}}else if(a.service=="owg"&&a.url&&a.layer&&a.url.length>0){var d=a.url,b=a.layer,c=new Je;c.Na(d,b);b=this.Ua.length;this.Ua.push(c);jf(this)}return b};
t.gg=function(a){a<0||a>=this.ga.length||(this.ga.splice(a,1),jf(this))};function jf(a){if(a.Va)a.Va.H(),a.Va=l;a.Va=new df(a.c,a.ga,a.Ua,a.Y,a.Jl)}
t.Ma=function(a,b){this.oi.R(b);this.Pc.pg(b);this.cf=a;if(this.Va&&this.Va.lj()){this.qi=this.Va.sb();var c=this.Va.rc("0"),d=this.Va.rc("1"),e=this.Va.rc("2"),f=this.Va.rc("3");if(c.wb&&d.wb&&e.wb&&f.wb){this.u=[];this.u.push(c);this.u.push(d);this.u.push(e);this.u.push(f);for(this.mf.Ag=0;this.mf.Ag!=this.u.length;)a:{c=this.mf.Ag;if(this.u[c].h.length!=this.qi&&this.u[c].wb&&kf(this,c)){var g=this.u[c].h,d=this.Va.rc(g+"0"),e=this.Va.rc(g+"1"),f=this.Va.rc(g+"2"),g=this.Va.rc(g+"3");if(d.wb&&
e.wb&&f.wb&&g.wb){this.u.splice(c,1);this.u.push(d);this.u.push(e);this.u.push(f);this.u.push(g);break a}}this.mf.Ag++}for(c=0;c<this.u.length;)e=this.u[c],d=e.ta[4].a,e=e.wg.a,f=this.cf.a,this.S[0]=f[0]-d[0],this.S[1]=f[1]-d[1],this.S[2]=f[2]-d[2],(this.S[0]*e[0]+this.S[1]*e[1]+this.S[2]*e[2])/Math.sqrt(this.S[0]*this.S[0]+this.S[1]*this.S[1]+this.S[2]*this.S[2])>=0.4?this.u.splice(c,1):c++;for(c=0;c<this.u.length;c++)this.u[c].Ma();d=[];e=[];for(c=0;c<this.u.length;c++){var f=this.u[c].h,g=0,j=
f.charAt(0);if(j=="0"||j=="1")g=1;if(j=="2"||j=="3")g=2;for(var k=1;k<f.length;k++){j=f.charAt(k);if((j=="0"||j=="1")&&g=="2"){g=0;break}if((j=="2"||j=="3")&&g=="1"){g=0;break}}g==1&&d.push(this.u[c]);g==2&&e.push(this.u[c])}d.length>3&&lf(this,d);e.length>3&&mf(this,e)}}};
function kf(a,b){var c=!0,d=a.u[b],e=d.h.length;if(e>a.qi)return!1;if(e<3)return!0;c=a.Pc.ng(d.p.J[0],d.p.J[1],d.p.J[2],d.p.T[0],d.p.T[1],d.p.T[2]);if(!c)return!1;var f=d.ta[4].a,g=d.wg.a,e=a.cf.a;a.S[0]=e[0]-f[0];a.S[1]=e[1]-f[1];a.S[2]=e[2]-f[2];f=Math.sqrt(a.S[0]*a.S[0]+a.S[1]*a.S[1]+a.S[2]*a.S[2]);f>0&&(a.S[0]/=f,a.S[1]/=f,a.S[2]/=f);a.S[0]*g[0]+a.S[1]*g[1]+a.S[2]*g[2]>0.4&&(c=!1);if(!c)return!1;for(var c=[0,0,0],g=0,f=1.0E20,j=d.p.l.length/d.p.t,k=0;k<j;k++)c[0]=e[0]-(d.p.l[5*k]+d.la[0]),c[1]=
e[1]-(d.p.l[5*k+1]+d.la[1]),c[2]=e[2]-(d.p.l[5*k+2]+d.la[2]),g=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],g<f&&(f=g);e=Math.sqrt(f);c=a.Kk;g=d.ta[0].Td();g.mg(d.ta[1]);return c*g.ph()/e>1}
t.jd=function(a,b,c){for(var a=this.c.ed(a,b,this.oi),b=[],d=0;d<this.u.length;d++){var e=this.u[d].p.J,f=this.u[d].p.T;this.u[d].p.Nh.Zf(a.x,a.y,a.d,a.xc,a.yc,a.zc,e[0],e[1],e[2],f[0],f[1],f[2])&&b.push(this.u[d])}e=1.0E20;c.hit=!1;for(d=0;d<b.length;d++)if(f=b[d].p.md(a.x,a.y,a.d,a.xc,a.yc,a.zc))if(c.hit=!0,f.r<e)e=f.r;if(c.hit)c.x=a.x+e*a.xc,c.y=a.y+e*a.yc,c.z=a.d+e*a.zc,a=new S(0,0,0),a.nc(c.x,c.y,c.z),c.lng=a.B[0],c.lat=a.B[1],c.elv=a.B[2]};
t.fg=function(a,b,c){var d=this.c.ed(a,b,this.oi);c.hit=!1;var e=d.x,b=d.y,a=d.d,f=d.xc,g=d.yc,d=d.zc,j=f*f+g*g*d*d,k=e*f+b*g+a*d,m=k*k-j*(e*e+b*b+a*a-0.5742366172789609);if(!(m<=0))j=(0-k-Math.sqrt(m))/j,e+=f*j,b+=g*j,a+=d*j,g=1/Math.sqrt(e*e+b*b+a*a),c.hit=!0,c.x=e*g,c.y=b*g,c.z=a*g,a=new S(0,0,0),a.nc(c.x,c.y,c.z),c.lng=a.B[0],c.lat=a.B[1],c.elv=a.B[2]};
function lf(a,b){for(var c=0,d=0;d<b.length;d++)if(b[d].h.length>c)c=b[d].h.length;for(d=0;d<b.length;d++)for(b[d].nb=b[d].h;b[d].nb.length<c;)b[d].nb+="0";b.sort(function(a,b){return parseInt(a.nb,2)-parseInt(b.nb,2)});for(var d=[0,0,0.7577840175609609],c=[d[0],d[1],d[2],a.Hd[0],a.Hd[1],a.Hd[2],1],e=[],d=0;d<b.length;d++)for(var f=2;b[d].p.l[f]==0;)c.push(b[d].la[0]+b[d].p.l[f-2]),c.push(b[d].la[1]+b[d].p.l[f-1]),c.push(b[d].la[2]+b[d].p.l[f]),c.push(a.Hd[0]),c.push(a.Hd[1]),c.push(a.Hd[2]),c.push(1),
f+=5;for(d=0;d<c.length/7-2;d++)e.push(d);e.push(1);e.push(2);e.push(3);a.Rg.H();a.Rg=new P(a.c);a.Rg.dd({VertexSemantic:"pc",Vertices:c,IndexSemantic:"TRIANGLEFAN",Indices:e},l,l);a.Rg.ha()}
function mf(a,b){for(var c=0,d=0;d<b.length;d++)if(b[d].h.length>c)c=b[d].h.length;for(d=0;d<b.length;d++){b[d].nb=b[d].h;b[d].nb=b[d].nb.replace(/2/g,"0");for(b[d].nb=b[d].nb.replace(/3/g,"1");b[d].nb.length<c;)b[d].nb+="0"}b.sort(function(a,b){return parseInt(b.nb,2)-parseInt(a.nb,2)});for(var d=[0,0,-0.7577840175609609],c=[d[0],d[1],d[2],a.Qd[0],a.Qd[1],a.Qd[2],1],e=[],d=0;d<b.length;d++){var f=b[d].p.l.length;for(f-=1;b[d].p.l[f]==0;)c.push(b[d].la[0]+b[d].p.l[f-4]),c.push(b[d].la[1]+b[d].p.l[f-
3]),c.push(b[d].la[2]+b[d].p.l[f-2]),c.push(a.Qd[0]),c.push(a.Qd[1]),c.push(a.Qd[2]),c.push(1),f-=5}for(d=0;d<c.length/7-2;d++)e.push(d);e.push(1);a.Vg.H();a.Vg=new P(a.c);a.Vg.dd({VertexSemantic:"pc",Vertices:c,IndexSemantic:"TRIANGLEFAN",Indices:e},l,l);a.Vg.ha()}
t.Xf=function(){if(!this.cf)return NaN;var a=[],b=this.cf.a,c=new M;if(this.Ua.length==0)return c=new S,c.nc(b[0],b[1],b[2]),c.B[2];c.n(-b[0],-b[1],-b[2]);for(var c=c.a,d=0;d<this.u.length;d++){var e=this.u[d].p.J,f=this.u[d].p.T;this.u[d].p.Nh.Zf(b[0],b[1],b[2],c[0],c[1],c[2],e[0],e[1],e[2],f[0],f[1],f[2])&&a.push(this.u[d])}e=1.0E20;f=!1;for(d=0;d<a.length;d++){var g=a[d].p.md(b[0],b[1],b[2],c[0],c[1],c[2]);if(g&&(f=!0,g.r<e))e=g.r}if(f)return b=e*c[0],a=e*c[1],c=e*c[2],b=Math.sqrt(b*b+a*a+c*c)*
8388607,e<0&&(b=-b),this.hk=b;return this.hk};function nf(){this.name="ogGeometry";this.type=va;this.lb=[];this.me=[];this.ac=-1;this.F=!1;this.je="";this.options=this.Lc=this.Nc=l;this.nf=-1;this.ye=l}nf.prototype=new F;t=nf.prototype;t.wa=function(a){this.options=a;a.url&&of(this,a.url);a.jsonobject&&this.dd(a.jsonobject)};t.Oa=function(){pf(this).xh(this.ac);for(var a=0;a<this.lb.length;a++)G(this.lb[a]);this.U=l};function pf(a){var b=l,a=a.parent.parent.c;if(a.f&&a.f.P)b=a.f.P.Jg;return b}
t.ld=function(a,b,c,d,e,f){for(var g=0;g<this.lb.length;g++)this.lb[g].ld(a,b,c,d,e,f)};t.Ve=function(a,b,c,d){for(var e=0;e<this.lb.length;e++)this.lb[e].Ve(a,b,c,d)};t.V=function(){if(this.ye!=l)this.ye.V();else for(var a=0;a<this.lb.length;a++)this.lb[a].V()};t.X=function(){if(this.ye!=l)this.ye.X();else for(var a=0;a<this.lb.length;a++)this.lb[a].X()};
t.dd=function(a){if(a.Type=="pointcloud")this.options=a,this.ye=X(Ha,this,this.options),a=pf(this),this.ac=a.Fe(this.ye.Ob);else{for(var b=0;b<a.length;b++){this.options.jsonobject=a[b];var c=X(wa,this,this.options);this.lb.push(c);this.me.push(c.Ci)}this.Nc&&this.Nc(this.id);a=pf(this);this.ac=a.Fe(this.me)}};
function of(a,b){b==l?alert("invalid json-url"):(a.je=b,a.O=new window.XMLHttpRequest,a.O.open("GET",a.je,!0),a.O.onreadystatechange=function(){a.O.readyState==4&&(a.O.status==404?a.Lc&&a.Lc(a.id):a.dd(kc(a.O.responseText)))},a.O.send())};function qf(a){this.c=a;this.U=[];this.Pc=new se;this.yn=1E5*K*1E5*K}
qf.prototype.Ma=function(a,b){this.Pc.pg(b);for(var c=a.a[0],d=a.a[1],e=a.a[2],f=0;f<this.U.length;f++)if(this.U[f]instanceof vc){var g=this.U[f];g.F||g.ha()}else for(var g=this.U[f],j=0;j<g.length;j++)for(var k=g[j],m=0;m<k.length;m++){var q=k[m];if(!q.F){var r=q.J[0]-c,n=q.J[1]-d,s=q.J[2]-e,r=r*r+n*n+s*s,n=q.bl*q.bl;this.Pc.ng(q.J[0],q.J[1],q.J[2],q.T[0],q.T[1],q.T[2])&&!(r>n)&&(this.c.b.enable(this.c.b.BLEND),this.c.b.depthFunc(this.c.b.LEQUAL),this.c.b.blendFunc(this.c.b.SRC_ALPHA,this.c.b.ONE_MINUS_SRC_ALPHA),
q.ha(),this.c.b.disable(this.c.b.BLEND))}}};qf.prototype.Fe=function(a){this.U.push(a);return this.U.length-1};qf.prototype.xh=function(a){this.U.splice(a,1)};qf.prototype.kd=function(a,b){for(var c=this.c.ed(a,b,this.c.Da),d=1E4,e=l,f=0;f<this.U.length;f++)for(var g=this.U[f],j=0;j<g.length;j++)for(var k=g[j],m=0;m<k.length;m++){var q=k[m];if(!q.F){q.Fj(c.x,c.y,c.d,c.xc,c.yc,c.zc);var r=q.md(c.x,c.y,c.d,c.xc,c.yc,c.zc);if(r&&r.r<d)d=r.r,e=q}}if(e)return e.km;return-1};function rf(){this.Ab=l;this.eb=new M;this.Oh=this.xg=this.Jg=this.Ug=l;this.hb=o();this.ib=function(){this.Ab.Ma(this.eb,this.c.Da);this.Ug.Ma(this.eb,this.c.Da);this.Jg.Ma(this.eb,this.c.Da);this.xg.Ma(this.eb,this.c.Da);this.Oh.Ma(this.eb,this.c.Da)};this.jb=function(a){a=a.fd();this.eb.n(a.x,a.y,a.d)};this.gd=function(){this.Ab=new hf(this.c);this.Ug=new re(this.c);this.Jg=new qf(this.c);this.xg=new te(this.c);this.Oh=new qe(this.c)};this.Wd=o();this.hd=o()}rf.prototype=new Vd;function sf(a){dd.call(this);this.Vl=a;this.ik=V(this.Vl,Hc?"DOMMouseScroll":"mousewheel",this)}la(sf,Xd);var tf="mousewheel";
sf.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.Ac;if(a.type=="mousewheel"){c=1;if(Gc||Ic&&(Lc||Uc("532.0")))c=40;d=Ic&&Bc&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;a.wheelDeltaX!==i?(b=Ic&&Bc&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=Ic&&Bc&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),a.axis!==i&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;typeof this.lk=="number"&&(b=Math.min(Math.max(b,-this.lk),this.lk));typeof this.mk==
"number"&&(c=Math.min(Math.max(c,-this.mk),this.mk));b=new uf(d,a,b,c);try{this.dispatchEvent(b)}finally{b.jf()}};sf.prototype.Zb=function(){sf.Ce.Zb.call(this);Jd(this.ik);delete this.ik};function uf(a,b,c,d){b&&this.Tc(b,i);this.type=tf;this.detail=a;this.bn=c;this.Cg=d}la(uf,id);function vf(){this.Ql=this.mi=0;this.Ka=new N;this.Ze=new M;this.Ze.n(1,0,0);this.Z=0;this.ea=-0.03;this.pd=0;this.M=7.616;this.I=45.9088;this.K=17E3;this.ce=this.be=this.Dl=this.ug=this.vg=0;this.Jm=!1;this.Cl=this.El=0;this.Fh=this.zl=this.Ye=this.Jj=this.Ij=this.tc=1;this.Fl=this.Gl=this.Wb=this.Xb=0;this.xl=!1;this.Fm=0.0010;this.Km=-0.4;this.od=!1;this.ya=this.xa=this.yl=0;this.Hj=!1;this.de=new M;this.Mh=this.Lh=0;this.nd=!1;this.Q=Array(3);this.Jd=new S(0,0,0);this.rf=new N;this.vf=new N;this.tf=
new N;this.sf=new N;this.Ka=new N;this.Bc=new N;this.uf=new N;this.sf.hh();this.Xc=100;this.Xa=l;this.hb=function(){this.c.zh(this.Ka)};this.ib=o();this.jb=function(a){a.ec=0;this.Jd.n(this.M,this.I,this.K);this.Jd.ma(this.Q);this.Ze.n(this.Q[0],this.Q[1],this.Q[2]);this.vf.Kb(this.Q[0],this.Q[1],this.Q[2]);this.tf.mc(this.M,this.I);this.rf.gh(this.Z,this.ea,this.pd);this.Bc.W(this.vf,this.tf);this.uf.W(this.Bc,this.rf);this.Bc.W(this.uf,this.sf);this.Ka.Ud(this.Bc);a.Rj=this.Z;a.da(this.Q[0],this.Q[1],
this.Q[2]);var b=this.I,c=this.K;a.zb.longitude=this.M;a.zb.latitude=b;a.zb.elevation=c;if(this.Xa)this.Xa.cc=this.M,this.Xa.bc=this.I,this.Xa.$b=this.K,this.Xa.pitch=this.ea*57.29577951308232,this.Xa.ua=this.Z*57.29577951308232,this.Xa.Fb=this.pd*57.29577951308232};this.gd=o();this.Wd=o();this.hd=function(a){V(window,$c,this.rh,!1,this);V(window,ad,this.sh,!1,this);V(a,Xc,this.Me,!1,this);V(a,Yc,this.Oe,!1,this);V(a,Zc,this.Ne,!1,this);a=new sf(a);V(a,tf,this.uh,!1,this)};this.uh=function(a){a.Cg>
0?this.Wb>0?this.Xb=this.Wb=0:this.Xb+=0.05:this.Xb>0?this.Wb=this.Xb=0:this.Wb+=0.05};this.rh=function(a){if(a.keyCode==81)this.ce=this.tc*this.Fh;else if(a.keyCode==65)this.ce=-this.tc*this.Fh;else if(a.keyCode==83)this.be=0.5*this.Ye;else if(a.keyCode==88)this.be=-0.5*this.Ye;this.mi=a.keyCode};this.sh=function(a){if(a.keyCode==81)this.ce=0;else if(a.keyCode==65)this.ce=0;else if(a.keyCode==83)this.be=0;else if(a.keyCode==88)this.be=0;this.mi=0};this.Me=function(a){if(nd(a,jd))this.Gh=0,this.de.n(0,
0,0),this.Lh=a.offsetX,this.Mh=a.offsetY,this.Hj=this.nd=!0;this.xa=a.offsetX;this.ya=a.offsetY};this.Oe=function(a){if(nd(a,jd))this.nd=this.Hj=!1;this.xa=a.offsetX;this.ya=a.offsetY;this.vg=this.ug=this.Gh=0};this.Ne=function(a){this.xa=a.offsetX;this.ya=a.offsetY;if(this.nd){var b=(this.Lh-a.offsetX)/this.c.width,c=(this.Mh-a.offsetY)/this.c.height;b*=b;c*=c;this.Gh=Math.sqrt(b+c);this.de.n(a.offsetX-this.Lh,this.c.height-1-a.offsetY-(this.c.height-1-this.Mh),0);this.de.tb();var a=this.de.a[0],
d=this.de.a[1],e=0,f=0;a>0?e=1:a<0&&(e=-1);d>0?f=1:d<0&&(f=-1);this.ug=this.tc*this.Ij*c*f;this.vg=this.Jj*b*e}};this.oc=function(a){var b=this.be*a/500,c=this.vg*a/500,d=this.ce*a,e=0,e=0,f=this.K/5E5*(this.K/5E5);f>10?f=10:f<0.0010&&(f=0.0010);var g=f*this.ug*a/250;if(this.Xb>0){var j=0.5*this.Ye*a/1E3;this.ea+=j;this.Xb-=j;if(this.Xb<0)this.ea+=this.Xb,this.Xb=0;this.od=!0}if(this.Wb>0){j=0.5*this.Ye*a/1E3;this.ea-=j;this.Wb-=j;if(this.Wb<0)this.ea-=this.Wb,this.Wb=0;this.od=!0}if(b)this.ea+=b,
this.od=!0;if(c){this.Z+=c;this.Z>2*Math.PI&&(this.Z-=2*Math.PI);if(this.Z<0)this.Z=2*Math.PI-this.Z;this.od=!0}if(this.od&&(e=this.c.Xf(),isNaN(e)))e=this.Xc;if(d&&(a=1E3*d*f,this.K+=a,e+=a,this.K>7E6))this.K=7E6;if(g){a=this.I*0.017453292519943295;d=Math.sin(a);f=Math.cos(a);c=this.Z;b=this.M*0.017453292519943295;d=Cb/Math.sqrt(1-Db*d*d);f=Cb/(d/(1+Eb*f*f))*g*Math.cos(c);j=Cb/d*g*Math.sin(c)/Math.cos(a);g=Cb/d*g*Math.sin(c)*Math.tan(a)+c;this.M=57.29577951308232*(j+b);this.I=57.29577951308232*(f+
a);for(this.Z=g;this.M>180;)this.M-=360;for(;this.M<-180;)this.M+=360;for(;this.I>90;)this.I=180-this.I;for(;this.I<-90;)this.I=-180-this.I;this.od=!0}e<this.Xc&&this.od&&(this.K+=this.Xc-e);if(this.Xa)this.Xa.cc=this.M,this.Xa.bc=this.I,this.Xa.$b=this.K,this.Xa.pitch=this.ea*57.29577951308232,this.Xa.ua=this.Z*57.29577951308232,this.Xa.Fb=this.pd*57.29577951308232}}vf.prototype=new Vd;vf.prototype.da=function(a,b,c){this.M=a;this.I=b;this.K=c};
vf.prototype.fd=function(){return{longitude:this.M,latitude:this.I,elevation:this.K}};vf.prototype.Ue=function(a,b,c){this.Z=a;this.ea=b;this.pd=c};vf.prototype.Le=function(){return{ua:this.Z,pitch:this.ea,Fb:this.pd}};function wf(){this.Ql=this.mi=0;this.Ka=new N;this.ae=!1;this.Ze=new M;this.Ze.n(1,0,0);this.Z=0;this.ea=-1.5707963267948966;this.pd=0;this.M=7.77442050946391;this.I=47.472720418012834;this.K=75E5;this.Lb=xf;this.Ih=this.Hh=this.L=0;this.Eh=!0;this.Cl=this.El=this.ce=this.be=this.Dl=this.ug=this.vg=this.Jh=this.Kh=0;this.Fh=this.zl=this.Ye=this.Jj=this.Ij=this.tc=1;this.Fl=this.Gl=this.Wb=this.Xb=0;this.xl=!1;this.Em=150;this.yl=0;this.Nm=new N;this.Ah=this.Lj=this.Kj=this.Bl=this.Al=this.ya=this.xa=
0;this.Zd=[];this.wl=[];this.qg=[];this.Kc=0;this.de=new M;this.Dh=this.tg=this.nd=!1;this.Lm=this.Mm=this.Gh=0;this.Q=Array(3);this.Jd=new S(0,0,0);this.rf=new N;this.vf=new N;this.tf=new N;this.sf=new N;this.Ka=new N;this.Bc=new N;this.uf=new N;this.sf.hh();this.$d=!1;this.Gm=this.Hm=this.Im=0;this.Qa={};this.Pa={};this.Ch=new N;this.Gj=new N;this.sg=new N;this.Om=new N;this.Pm=new N;this.Xc=1E3;this.Qg=1E7;this.Ga=Mb;this.sa=0;this.zd=!1;this.yb=[0,0];this.wc=0;this.hb=function(){this.c.zh(this.Ka)};
this.ib=o();this.jb=function(a){this.Ga=a.Ga;this.sa=a.sa;a.zd=this.zd;a.yb[0]=this.yb[0];a.yb[1]=this.yb[1];a.ec=1;this.ae=a.Bk!=0?!0:!1;if(this.Lb==yf&&!this.ae&&!this.c.Ia.Cd){if(this.tg)this.tg=!1,this.Il(this.xa,this.ya);if(this.nd&&this.Dh)this.Dh=!1,this.Hl(this.xa,this.ya)}this.Jd.n(this.M,this.I,this.K);this.Jd.ma(this.Q);this.Ze.n(this.Q[0],this.Q[1],this.Q[2]);this.vf.Kb(this.Q[0],this.Q[1],this.Q[2]);this.tf.mc(this.M,this.I);this.rf.gh(this.Z,this.ea,this.pd);this.Bc.W(this.vf,this.tf);
this.uf.W(this.Bc,this.rf);this.Bc.W(this.uf,this.sf);this.Ka.Ud(this.Bc);a.Rj=this.Z;a.da(this.Q[0],this.Q[1],this.Q[2]);var b=this.I,c=this.K;a.zb.longitude=this.M;a.zb.latitude=b;a.zb.elevation=c};this.gd=o();this.Wd=o();this.hd=function(a){V(window,$c,this.rh,!1,this);V(window,ad,this.sh,!1,this);V(a,Xc,this.Me,!1,this);V(a,Zc,this.Ne,!1,this);V(a,Yc,this.Oe,!1,this);V(a,Wc,this.th,!1,this);a=new sf(a);V(a,tf,this.uh,!1,this)};this.Xe=function(){var a=xf;(this.L&zf)==Af&&((this.L&Bf)==0?a=yf:
(this.L&Bf)==Cf?a=Df:(this.L&Bf)==Ef&&(a=Ff));(this.L&zf)==Gf&&(a=Df);if(a!=this.Lb){if(this.Lb==Ff)this.Z=this.Kh+45*Math.PI*this.tc*(this.xa-this.Hh)/(180*this.c.height),this.ea=this.Jh+45*Math.PI*this.tc*(this.Ih-this.ya)/(180*this.c.height);else if(this.Lb==Df)this.wc=0,this.zd=!1;this.Lb=a;if(this.Lb==Ff)this.Hh=this.xa,this.Ih=this.ya,this.Kh=this.Z,this.Jh=this.ea;if(this.Lb==Df)if(this.Kj=this.xa,this.Lj=this.ya,a={},this.c.jd(this.xa,this.ya,a),a.hit){this.Eh=!1;Ve(a.lng,a.lat,this.Zd);this.wl=
[a.lng,a.lat,a.elv];this.qg=[a.x,a.y,a.z];this.Zd[2]=a.elv;var b=[0,0];Ve(this.M,this.I,b);a=b[0]-this.Zd[0];b=b[1]-this.Zd[1];this.Ah=Math.sqrt(a*a+b*b);for(this.Kc=Math.atan2(a,b);this.Kc<0;)this.Kc+=2*Math.PI;for(;this.Kc>=2*Math.PI;)this.Kc-=2*Math.PI}else this.Eh=!0}if(this.Lb==Ff)this.Z=this.Kh+45*Math.PI*this.tc*(this.xa-this.Hh)/(180*this.c.height),this.ea=this.Jh+45*Math.PI*this.tc*(this.Ih-this.ya)/(180*this.c.height)};this.uh=function(a){if(this.Lb==xf)if((this.L&Bf)==0){var b={},c,d;this.wc>
0?(c=this.yb[0],d=this.yb[1]):(c=this.xa,d=this.ya);this.c.jd(c,d,b);if(b.hit){this.yb=[c,d];this.wc=500;this.Jd.n(this.M,this.I,this.K);this.Jd.ma(this.Q);c=this.Q[0]-b.x;d=this.Q[1]-b.y;b=this.Q[2]-b.z;a.Cg>0?(c*=0.1,d*=0.1,b*=0.1):(c*=-1/0.9+1,d*=-1/0.9+1,b*=-1/0.9+1);var e=new S(0,0,0);e.nc(this.Q[0]+c,this.Q[1]+d,this.Q[2]+b);this.M=e.B[0];this.I=e.B[1];this.K=e.B[2];if(this.K<this.Xc)this.K=this.Xc;else if(this.K>this.Qg)this.K=this.Qg}}else(this.L&Bf)==Cf&&(this.ea+=5*a.Cg*Math.PI*this.tc/
180);return this.Ca(a)};this.rh=function(a){if(!this.ae&&!this.c.Ia.Cd){if(a.keyCode==16)return this.L|=Cf,this.Ca(a);else if(a.keyCode==17)return this.L|=Ef,this.Ca(a);else if(a.keyCode==37||a.keyCode==65)return this.L|=Hf,this.Ca(a);else if(a.keyCode==38||a.keyCode==87)return this.L|=If,this.Ca(a);else if(a.keyCode==39||a.keyCode==68)return this.L|=Jf,this.Ca(a);else if(a.keyCode==40||a.keyCode==83)return this.L|=Kf,this.Ca(a);this.Xe();return!0}};this.sh=function(a){if(a.keyCode==16)return this.L&=
~Cf,this.Ca(a);else if(a.keyCode==17)return this.L&=~Ef,this.Ca(a);else if(a.keyCode==37||a.keyCode==65)return this.L&=~Hf,this.Ca(a);else if(a.keyCode==38||a.keyCode==87)return this.L&=~If,this.Ca(a);else if(a.keyCode==39||a.keyCode==68)return this.L&=~Jf,this.Ca(a);else if(a.keyCode==40||a.keyCode==83)return this.L&=~Kf,this.Ca(a);this.Xe();return!0};this.th=function(a){if(!this.ae&&!this.c.Ia.Cd){var b={};this.c.jd(this.xa,this.ya,b);if(b.hit){this.c.jg(2E3);var c=this.K;c>1E6?le(this.c.Ia,b.lng,
b.lat,1E6,i,i,i):c>25E4?le(this.c.Ia,b.lng,b.lat,25E4,i,i,i):c>5E4?le(this.c.Ia,b.lng,b.lat,5E4,i,i,i):(c=b.elv+5E3,le(this.c.Ia,b.lng,b.lat,c,0,-90,0));this.yb=[this.xa,this.ya];this.wc=2500}return this.Ca(a)}};this.Me=function(a){if(!this.ae&&!this.c.Ia.Cd){this.xa=a.offsetX-this.c.N.offsetLeft;this.ya=a.offsetY-this.c.N.offsetTop;if(nd(a,jd))this.L|=Af,document.body.style.cursor="move",this.tg=!0;else if(nd(a,kd))this.L|=Gf;else if(nd(a,ld))return this.L|=Lf,!1;this.Xe();return this.Ca(a)}};this.Oe=
function(a){this.nd=!0;this.xa=a.offsetX-this.c.N.offsetLeft;this.ya=a.offsetY-this.c.N.offsetTop;nd(a,jd)?(this.L&=~Af,this.$d=!1,document.body.style.cursor="default",this.tg=!1):nd(a,kd)?this.L&=~Gf:nd(a,ld)&&(this.L&=~Lf);this.Xe();return this.Ca(a)};this.Ne=function(a){if(!this.ae&&!this.c.Ia.Cd)return this.nd=this.Lb==yf?!0:!1,this.Dh=!0,this.Al=a.offsetX-this.c.N.offsetLeft-this.xa,this.Bl=a.offsetY-this.c.N.offsetTop-this.ya,this.xa=a.offsetX-this.c.N.offsetLeft,this.ya=a.offsetY-this.c.N.offsetTop,
this.Xe(),this.Ca(a)};this.oc=function(a){if(this.Ga==Nb){var b=this.sa*this.K/5E3;this.K-=a*b;if(this.K<this.Xc)this.K=this.Xc}else if(this.Ga==ec){if(b=this.sa*this.K/5E3,this.K+=a*b,this.K>this.Qg)this.K=this.Qg}else if(this.Ga==gc)this.Z=this.sa;else if(this.Ga==hc)if(b=Math.sin(this.sa),this.ea+=a/5E3*-Math.cos(this.sa),this.Z+=a/5E3*b,this.ea<-Math.PI/2)this.ea=-Math.PI/2;else if(this.ea>0)this.ea=0;if(this.wc>0&&(this.zd=!0,this.wc-=a,this.wc<=0))this.wc=0,this.zd=!1;if(this.Lb==Df&&!this.Eh){this.yb=
[this.Kj,this.Lj];this.wc=500;b=[];We(this.Zd[0]+this.Ah*Math.cos(this.Kc),this.Zd[1]+this.Ah*Math.sin(this.Kc),b);this.M=b[0];this.I=b[1];var c=[];(new S(this.M,this.I,this.K)).ma(c);var d=new M(c[0],c[1],c[2]),b=(new M(this.qg[0],this.qg[1],this.qg[2])).Td();b.mg(d);d=new N;d.mc(this.M,this.I);var e=new N;e.Kb(c[0],c[1],c[2]);c=new N;c.W(e,d);c.og();b=c.va(b);b.tb();d=b.a;b=d[0];c=d[1];d=d[2];e=Math.acos(b/Math.sqrt(1-d*d));c<0&&b>0&&(e=2*Math.PI-e);c<0&&b<0&&(e=2*Math.PI-e);b=-(Math.PI/2-Math.acos(d));
d<-0.9&&(e=180+e,b=-b);this.Z=e;this.ea=b;this.Kc+=a/1E3}if((this.L&Mf||this.Ga==fc)&&(this.L&Bf)==0){b=0;this.L&If&&(b+=1);this.L&Kf&&(b-=1);c=0;this.L&Hf&&(c-=1);this.L&Jf&&(c+=1);d=this.Ga==fc?Math.PI*this.sa/180:Math.atan2(c,b);b=this.K/5E5;b>10?b=10:b<0.0010&&(b=0.0010);var a=b*a/5E4,b=Math.PI*this.I/180,f=Math.sin(b),c=Math.cos(b),e=this.Z+d,d=Math.PI*this.M/180,g=Cb/Math.sqrt(1-Db*f*f),f=Cb/g*a*Math.sin(e)/Math.cos(b),a=Cb/(g/(1+Eb*c*c))*a*Math.cos(e)+b;this.M=180*(f+d)/Math.PI;this.I=180*
a/Math.PI}for(;this.M>180;)this.M-=180;for(;this.M<-180;)this.M+=180;for(;this.I>90;)this.I-=180;for(;this.I<-90;)this.I+=180};this.Qm=function(a,b,c){a.a[0]=b.a[0]*c.a[0]+b.a[1]*c.a[4]+b.a[2]*c.a[8];a.a[1]=b.a[0]*c.a[1]+b.a[1]*c.a[5]+b.a[2]*c.a[9];a.a[2]=b.a[0]*c.a[2]+b.a[1]*c.a[6]+b.a[2]*c.a[10];a.a[4]=b.a[4]*c.a[0]+b.a[5]*c.a[4]+b.a[6]*c.a[8];a.a[5]=b.a[4]*c.a[1]+b.a[5]*c.a[5]+b.a[6]*c.a[9];a.a[6]=b.a[4]*c.a[2]+b.a[5]*c.a[6]+b.a[6]*c.a[10];a.a[8]=b.a[8]*c.a[0]+b.a[9]*c.a[4]+b.a[10]*c.a[8];a.a[9]=
b.a[8]*c.a[1]+b.a[9]*c.a[5]+b.a[10]*c.a[9];a.a[10]=b.a[8]*c.a[2]+b.a[9]*c.a[6]+b.a[10]*c.a[10]};this.Il=function(a,b){this.Ch.R(this.sg);var c={};this.c.fg(a,b,c);c.hit?(this.Qa.x=c.x,this.Qa.y=c.y,this.Qa.d=c.z,this.$d=!0):this.$d=!1};this.Hl=function(a,b){if(this.$d){var c={};this.c.fg(a,b,c);if(c.hit)if(this.Pa.x=c.x,this.Pa.y=c.y,this.Pa.d=c.z,this.$d=!0,this.Pa.x==this.Qa.x&&this.Pa.y==this.Qa.y&&this.Pa.d==this.Qa.d)this.sg.R(this.Ch);else{var c=this.Qa.x*this.Pa.x+this.Qa.y*this.Pa.y+this.Qa.d*
this.Pa.d,d=Math.sqrt((1-c)*0.5),c=Math.sqrt((1+c)*0.5),e={};e.x=this.Qa.y*this.Pa.d-this.Qa.d*this.Pa.y;e.y=this.Pa.x*this.Qa.d-this.Qa.x*this.Pa.d;e.d=this.Qa.x*this.Pa.y-this.Qa.y*this.Pa.x;d/=Math.sqrt(e.x*e.x+e.y*e.y+e.d*e.d);e.x*=d;e.y*=d;e.d*=d;var d=this.Gj,f=e.x,g=e.y,j=e.d,e=f*f,k=g*g,m=j*j,q=f*g,r=f*j,n=g*j;f*=c;g*=c;c*=j;d.a[0]=1-2*k-2*m;d.a[4]=2*q+2*c;d.a[8]=2*r-2*g;d.a[12]=0;d.a[1]=2*q-2*c;d.a[5]=1-2*e-2*m;d.a[9]=2*n+2*f;d.a[13]=0;d.a[2]=2*r+2*g;d.a[6]=2*n-2*f;d.a[10]=1-2*e-2*k;d.a[14]=
0;d.a[3]=0;d.a[7]=0;d.a[11]=0;d.a[15]=1;this.sg.W(this.Ch,this.Gj);c=[];(new S(this.M,this.I,0)).ma(c);c=this.sg.va(new M(c[0],c[1],c[2]));d=new S(0,0,0);d.nc(c.a[0],c.a[1],c.a[2]);this.M=d.B[0];this.I=d.B[1]}else this.$d=!1}};this.Ca=function(a){a=a?a:window.event;a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();a.cancelBubble=!0;a.cancel=!0;return a.returnValue=!1}}la(wf,vf);
var Af=1,Gf=2,Lf=4,zf=7,Hf=16,If=32,Jf=64,Kf=128,Mf=240,Cf=256,Ef=512,Bf=768,xf=0,yf=1,Ff=2,Df=3;function Nf(){this.dc=new N;this.hb=function(){this.c.Bj(this.dc)};this.ib=o();this.jb=function(a){this.dc.pj(45,this.c.width/this.c.height,1.0E-5,10);a.Vd[a.Vd.length-1].R(this.dc)};this.gd=o();this.Wd=o();this.hd=o()}Nf.prototype=new Vd;function Of(){this.hb=o();this.ib=o();this.jb=o();this.gd=o();this.Wd=o();this.hd=o()}Of.prototype=new Vd;function Pf(){}Pf.prototype=new Vd;function Qf(){}Qf.prototype=new Vd;function Rf(a){this.c=a;this.ti=new wf;this.ti.c=a;Wd(this.ti);this.Cc=this.ti;this.te=new Nf;this.se=new Of;this.P=new rf;this.we=new Qf;this.ue=new Pf;this.ve=new Yd;this.te.c=a;Wd(this.te);this.se.c=a;Wd(this.se);this.P.c=a;Wd(this.P);this.we.c=a;Wd(this.we);this.ue.c=a;Wd(this.ue);this.ve.c=a;Wd(this.ve);this.rb=new Lb;this.Nb=new N;this.Ka=new N;this.am=new N}
Rf.prototype.Ma=function(){this.Cc.hb();this.Cc.ib();this.te.hb();this.te.ib();this.se.hb();this.se.ib();this.P.hb();this.P.ib();this.we.hb();this.we.ib();this.ue.hb();this.ue.ib();this.ve.hb();this.ve.ib()};function Sf(a){this.b=a;this.Tc=!1;this.hi=this.Zi=this.Db=this.gi=this.Yi=this.Cb=this.bi=this.Ti=this.Bb=this.ei=this.Wi=this.pb=this.ii=this.$i=this.Eb=this.di=this.Vi=this.Pb=this.fi=this.Xi=this.Ya=this.ci=this.Ui=this.Nd=l}
function Y(a,b,c){var d=a.b.createShader(b);if(!d)return l;a.b.shaderSource(d,c);a.b.compileShader(d);if(!a.b.getShaderParameter(d,a.b.COMPILE_STATUS))return b==a.b.VERTEX_SHADER?alert("Vertex Shader "+a.b.getShaderInfoLog(d)):b==a.b.FRAGMENT_SHADER?alert("Fragment Shader "+a.b.getShaderInfoLog(d)):alert("Unknown Shader "+a.b.getShaderInfoLog(d)),l;return d};function Tf(a){this.c=a;this.Wg=[];this.Qb=[]}w("TextureManager",Tf);Tf.prototype.fj=function(a,b,c,d){var e=this.Wg[a];e?(this.Qb[a]+=1,b(e)):(e=new Q(this.c),R(e,a,b,c,d),this.Qb[a]=1,this.Wg[a]=e);return e};Tf.prototype.CreateTexture=Tf.prototype.fj;Tf.prototype.hj=function(a){this.Qb[a]-=1;this.Qb[a]==0&&(this.Wg[a].H(),delete this.Wg[a],delete this.Qb[a])};Tf.prototype.DestroyTexture=Tf.prototype.hj;var Uf=[14,28,14,14,14,14,14,14,14,96,0,14,14,0,14,14,14,14,14,14,14,14,14,14,14,14,14,14,0,0,0,0,8,8,10,16,16,25,19,5,9,9,11,16,8,9,8,8,16,16,16,16,16,16,16,16,16,16,8,8,16,16,16,16,28,19,19,20,20,19,17,22,20,8,14,19,16,23,20,22,19,22,20,19,16,20,19,28,19,18,17,8,8,8,14,16,9,15,16,14,16,15,7,16,16,6,6,14,6,24,16,15,16,16,9,14,8,16,13,19,13,13,14,9,6,9,16,8,16,0,6,16,9,28,16,16,9,29,19,9,28,0,17,0,0,6,6,9,9,10,16,28,8,28,14,9,26,0,14,19,8,8,16,16,16,16,6,16,9,21,10,16,16,9,21,15,11,15,9,9,9,16,15,
9,9,9,10,16,23,23,23,17,19,19,19,19,19,19,28,20,19,19,19,19,8,8,8,8,20,20,22,22,22,22,22,16,22,20,20,20,20,19,19,17,16,16,16,16,16,16,25,14,16,16,16,16,8,8,8,8,16,16,16,16,16,16,16,15,17,16,16,16,16,14,16,14];
function Vf(a){this.c=a;this.b=a.b;var b=0,c=0;this.Ig=new P(this.c);for(var a=[],d=[],e=0;e<16;e++)for(var f=0;f<16;f++){var b=e*0.0625,g=f*0.0625;a.push(0,31,0,g,b+0.001953125);a.push(0,0,0,g,b+0.0625);a.push(31,0,0,g+0.0625,b+0.0625);a.push(31,31,0,g+0.0625,b+0.001953125);b=c*4;d.push(b,b+1,b+2,b,b+2,b+3);c++}c=this.Ig;if(a.length%5==0)c.l=new Float32Array(a),c.mode="font",c.t=5;rc(this.Ig,d,"TRIANGLES");a=new Q(this.c);R(a,T+"font.png");this.Ig.vb(a);this.mn=new N;this.rm=0}
Vf.prototype.Hc=function(a,b,c,d,e){d==l&&(d=1);this.c.qc();this.c.yh();this.c.b.enable(this.c.b.BLEND);this.c.b.depthFunc(this.c.b.LEQUAL);this.c.b.blendFunc(this.c.b.SRC_ALPHA,this.c.b.ONE_MINUS_SRC_ALPHA);for(var f=new N,g=0,j=0,k=0;k<a.length;k++)g=a.charCodeAt(k),j+=Uf[g]/2*d,f.Jc(d,d,1),f.oj(f,b+j,c,0),this.c.sc(f),this.Ig.ha(!0,6,g*12,e),j+=Uf[g]/2*d;this.c.pc();this.c.b.disable(this.c.b.BLEND);this.rm=b-b};Vf.prototype.jj=function(a){for(var b=0,c=0;c<a.length;c++)b+=Uf[a.charCodeAt(c)];return b};
Vf.prototype.ml=p(32);w("Font",Vf);Vf.prototype.DrawText=Vf.prototype.Hc;Vf.prototype.GetStringHeight=Vf.prototype.ml;Vf.prototype.GetStringWidth=Vf.prototype.jj;function Wf(a){this.c=a;this.b=a.b;this.Id=!1;this.Qi=this.ob=this.k=l;this.j=this.g=0}
Wf.prototype.Ie=function(a,b){this.Rd=document.createElement("canvas");this.s=this.Rd.getContext("2d");this.pa=new Q(this.c);this.pa.e=this.b.createTexture();this.text=a;this.s.save();this.s.font=b.fontString;this.s.textAlign="left";this.s.textBaseline="top";this.s.lineWidth=b.lineWidth;this.s.strokeStyle=b.strokeStyle;var c=this.s.measureText(this.text),c=Math.round(c.width);this.s.restore();this.g=c+2*parseInt(b.lineWidth,10)+Math.abs(b.shadowOffsetX)+Math.abs(b.shadowOffsetY)+b.shadowBlur;this.j=
parseInt(b.fontString,10)+2*parseInt(b.lineWidth,10)+Math.abs(b.shadowOffsetY)+b.shadowBlur;this.Ib=Gb(this.g);this.Hb=Gb(this.j);this.pa.width=this.Ib;this.pa.height=this.Hb;this.s.canvas.width=this.Ib;this.s.canvas.height=this.Hb;this.s.fillStyle=b.backgroundColor;this.s.fillRect(0,0,this.g,this.j);this.s.shadowOffsetX=b.shadowOffsetX;this.s.shadowOffsetY=b.shadowOffsetY;this.s.shadowBlur=b.shadowBlur;this.s.shadowColor=b.shadowColor;this.s.fillStyle=b.fontColor;this.s.font=b.fontString;this.s.textAlign=
"left";this.s.textBaseline="middle";this.s.lineWidth=b.lineWidth;this.s.strokeStyle=b.strokeStyle;this.s.strokeText(a,b.lineWidth,this.j/2);this.s.fillText(a,b.lineWidth,this.j/2);this.We();this.k=new P(this.c);this.k.vb(this.pa);c=[];c.push(-this.g/2,this.j/2,0,0,0);c.push(-this.g/2,-this.j/2,0,0,1/this.Hb*this.j);c.push(this.g/2,-this.j/2,0,1/this.Ib*this.g,1/this.Hb*this.j);c.push(this.g/2,this.j/2,0,1/this.Ib*this.g,0);qc(this.k,c);rc(this.k,[0,1,2,0,2,3],"TRIANGLES");this.k.g=this.g;this.k.j=
this.j;return this.k};
Wf.prototype.Ge=function(a,b){this.Rd=document.createElement("canvas");this.s=this.Rd.getContext("2d");this.pa=new Q(this.c);this.pa.e=this.b.createTexture();Xf(this,a,b);this.k=new P(this.c);this.k.vb(this.pa);var c=[];c.push(-this.g/2,this.j/2,0,0,0);c.push(-this.g/2,-this.j/2,0,0,1/this.Hb*this.j);c.push(this.g/2,-this.j/2,0,1/this.Ib*this.g,1/this.Hb*this.j);c.push(this.g/2,this.j/2,0,1/this.Ib*this.g,0);qc(this.k,c);rc(this.k,[0,1,2,0,2,3],"TRIANGLES");this.k.J=[-this.g/2,-this.j/2,0];this.k.T=
[this.g/2,this.j/2,0];this.k.g=this.g;this.k.j=this.j;return this.k};
function Xf(a,b,c){a.g=c.iconWidth+2*c.border+Math.abs(c.shadowOffsetX)+Math.abs(c.shadowOffsetY)+c.shadowBlur;a.j=c.iconHeight+2*c.border+Math.abs(c.shadowOffsetX)+Math.abs(c.shadowOffsetY)+c.shadowBlur;a.Ib=Gb(a.g);a.Hb=Gb(a.j);a.pa.width=a.Ib;a.pa.height=a.Hb;a.s.canvas.width=a.Ib;a.s.canvas.height=a.Hb;a.s.fillStyle=c.backgroundColor;a.s.fillRect(0,0,a.g,a.j);a.s.shadowOffsetX=c.shadowOffsetX;a.s.shadowOffsetY=c.shadowOffsetY;a.s.shadowBlur=c.shadowBlur;a.s.shadowColor=c.shadowColor;var d=new Image;
d.onload=function(){a.s.drawImage(d,c.border,c.border,c.iconWidth,c.iconHeight);a.We()};d.src=b}
Wf.prototype.We=function(){this.b.enable(this.b.TEXTURE_2D);this.b.bindTexture(this.b.TEXTURE_2D,this.pa.e);this.b.pixelStorei(this.b.UNPACK_FLIP_Y_WEBGL,0);this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGBA,this.c.b.RGBA,this.b.UNSIGNED_BYTE,this.Rd);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.LINEAR);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.LINEAR);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,
this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);this.b.bindTexture(this.b.TEXTURE_2D,l);this.pa.ab=!0};Wf.prototype.H=function(){if(this.k)this.k.H(),this.k=l;if(this.ob)this.ob.H(),this.ob=l;if(this.Qi)this.Qi.H(),this.Qi=l;if(this.pa)this.pa.H(),this.pa=l;if(this.Rd)document.removeChild(this.Rd),this.Rd=l};function Z(a){this.c=a;this.b=a.b;this.$b=this.cc=this.bc=0;this.tn=l;this.Id=!1;this.ka=this.fa=this.ob=l;this.scale=20;this.text=this.ie="";this.df=new Wf(a);this.xf=this.Af=0;this.Gk=this.Hk=1;this.Fk=0;this.Ek=1;this.Si=0;this.Ri=Infinity;this.yi=new O(1,1,1,1);this.Kg={iconWidth:64,iconHeight:64,border:0,backgroundColor:"rgba(255, 255, 255, 0)",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)"};this.Jf={id:1,fontString:"48px bold Arial",backgroundColor:"rgba(0,0,0,0)",
fontColor:"rgba(255,255,255,1.0)",lineWidth:8,strokeStyle:"rgba(0,0,0,1.0)",fontSize:48,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 1.0)"}}t=Z.prototype;t.sl=function(a,b,c,d){this.ie=c?c:"";if(b)this.Jf=b;this.text=a;if(d)this.Kg=d;if(c)this.fa=this.df.Ge(this.ie,this.Kg);this.df=new Wf(this.c);if(a)this.ka=this.df.Ie(a,this.Jf)};
t.da=function(a,b,c,d){if(this.fa&&this.ka)this.Af=this.fa.g+this.ka.g,this.xf=this.fa.j;else if(this.fa)this.Af=this.fa.g,this.xf=this.fa.j;else if(this.ka)this.Af=this.ka.g,this.xf=this.ka.j;this.fa&&this.fa.Te(a,b,c,-(this.fa.g/2+(this.Af/2-this.fa.g))*K*this.scale,this.xf/2*K*this.scale,0);this.ka&&this.ka.Te(a,b,c,(this.ka.g/2+(this.Af/2-this.ka.g))*K*this.scale,this.xf/2*K*this.scale,0);this.Kd=a;this.Ld=b;this.Md=c;if(d!=l){this.Id=!0;var d=this.df,e=this.Hk,f=this.Gk,g=this.Fk,j=this.Ek;d.ob=
new P(d.c);var k=[];k.push(a,b,c,e,f,g,j);k.push(0,0,0,e,f,g,j);nc(d.ob,k);rc(d.ob,[0,1],"LINES");this.ob=d.ob}};t.ha=function(){this.c.b.enable(this.c.b.BLEND);this.c.b.depthFunc(this.c.b.LEQUAL);this.c.b.blendFunc(this.c.b.SRC_ALPHA,this.c.b.ONE_MINUS_SRC_ALPHA);this.Id&&this.ob.ha();this.fa&&uc(this.fa);this.ka&&uc(this.ka);this.c.qc();var a=new N;a.Jc(K*this.scale,K*this.scale,1);this.c.sc(a);this.fa&&this.fa.ha(!1,0,0,l,this.yi);this.ka&&this.ka.ha(!1,0,0,l,this.yi);this.c.pc();this.c.b.disable(this.c.b.BLEND)};
t.kg=function(a){this.scale=a;this.Id?this.da(this.Kd,this.Ld,this.Md,0):this.da(this.Kd,this.Ld,this.Md,l)};t.Pe=function(a,b){var c=!1,d=!1;if(this.fa)var e=this.c.ed(a,b,this.c.Da),c=this.fa.md(e.x,e.y,e.d,e.xc,e.yc,e.zc);this.ka&&(e=this.c.ed(a,b,this.c.Da),d=this.ka.md(e.x,e.y,e.d,e.xc,e.yc,e.zc));return c||d};t.H=function(){this.df=l;this.$b=this.cc=this.bc=0;this.fa&&this.fa.H();this.ka&&this.ka.H();this.ob&&this.ob.H();this.Id=!1;this.ob=l;this.scale=0};w("Poi",Z);Z.prototype.Draw=Z.prototype.ha;
Z.prototype.SetContent=Z.prototype.sl;Z.prototype.SetPosition=Z.prototype.da;Z.prototype.SetSize=Z.prototype.kg;Z.prototype.Destroy=Z.prototype.H;function Yf(a){this.c=a;this.yf=[];this.Qb=[];this.fe=l;this.zf=[];this.Df=[]}t=Yf.prototype;t.ej=function(a,b,c,d){var e=new Z(this.c);if(b)e.Jf=b;e.text=a;if(d)e.Kg=d;if(c)e.ie=c,e.fa=this.Ge(c,e.Kg);if(a)e.ka=this.Ie(a,e.Jf);return e};t.gj=function(a){a.fa&&Zf(this,a.ie);a.ka&&$f(this,a.text,a.Jf)};t.Ge=function(a,b){var c=this.yf[a];if(c){this.Qb[a]+=1;var d=new P(this.c);d.R(c);d.g=c.g;d.j=c.j;this.yf[a]=d}else this.fe=new Wf(this.c),d=this.fe.Ge(a,b),this.Qb[a]=1,this.yf[a]=d,this.fe=l;return d};
function Zf(a,b){a.Qb[b]-=1;a.Qb[b]==0&&(a.yf[b].e.H(),delete a.yf[b],delete a.Qb[b])}t.Ie=function(a,b){var c=this.zf[a+b.id];if(c){this.Df[a+b.id]+=1;var d=new P(this.c);d.R(c);d.g=c.g;d.j=c.j;this.zf[a+b.id]=d}else this.fe=new Wf(this.c),d=this.fe.Ie(a,b),this.Df[a+b.id]=1,this.zf[a+b.id]=d,this.fe=l;return d};function $f(a,b,c){a.Df[b+c.id]-=1;a.Df[b+c.id]==0&&(a.zf[b+c.id].e.H(),delete a.zf[b+c.id],delete a.Df[b+c.id])}
t.bj=function(a,b,c){a.fa=this.Ge(b,c);a.da(a.Kd,a.Ld,a.Md,l);Zf(this,a.ie);a.ie=b};t.cj=function(a,b,c){a.ka=this.Ie(b,c);a.da(a.Kd,a.Ld,a.Md,l);$f(this,a.text,c);a.text=b};w("PoiManager",Yf);Yf.prototype.CreatePoi=Yf.prototype.ej;Yf.prototype.DestroyPoi=Yf.prototype.gj;Yf.prototype.ChangePoiIcon=Yf.prototype.bj;Yf.prototype.ChangePoiText=Yf.prototype.cj;var ag=new Date,bg=new Date,cg=[],dg=0,eg=l,fg=l;function gg(){for(var a=0;a<cg.length;a++){var b=cg[a];if(b.Nj)b.aj>0&&b.ki>0?(b.N.width=window.innerWidth-b.aj,b.N.height=window.innerHeight-b.ki):(b.N.width=window.innerWidth-20,b.N.height=window.innerHeight-20);var c=b,d=b.N.width,b=b.N.height;c.width=d;c.height=b;c.Yb&&c.Yb(d,b,c)}}
function $(){this.Yb=this.Wm=this.Vm=this.Mc=this.Ym=this.Zm=this.Xm=this.wd=this.xd=this.sd=l;this.Tc=!1;this.Tm="";this.height=this.width=0;this.Nj=!1;this.Dc=this.N=this.b=l;this.Th=0.670588;this.Sh=0.921569;this.Qh=this.Rh=1;this.cl=this.dl=this.fl=this.el=0;this.Wf=this.Vf=20;this.Nb=new N;this.Ka=new N;this.dc=new N;this.Pg=new N;this.Da=new N;this.ni=new N;this.Yd=new Lb;this.zm=[];this.Am=[];cg[dg]=this;dg++;this.ui=this.f=this.Ff=l;this.bd=1;this.Ia=this.Oi=this.Bf=l;this.ki=this.aj=0}
function hg(a){function b(b){var c=a.parentNode;c&&(c.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+b+"</div></div></td></tr></table>")}if(!window.WebGLRenderingContext)return b('This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>'),l;var c=ig(a);c||b('It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>');
return c}function ig(a){for(var b=["webgl","experimental-webgl","webkit-3d","moz-webgl"],c=l,d=0;d<b.length;++d){try{c=a.getContext(b[d])}catch(e){}if(c)break}return c}t=$.prototype;
t.kj=function(a,b){var c=document.getElementById(a);if(this.b=hg(c)){this.N=c;if(b)this.Wf=this.Vf=20,c.width=window.innerWidth-this.Vf,c.height=window.innerHeight-this.Wf,this.Nj=!0;for(var d=["webgl","experimental-webgl","moz-webgl","webkit-3d"],e=0;d.length>e;e++)try{if(this.b=c.getContext(d[e]))break}catch(f){}if(this.b){c=this.N.width;d=this.N.height;this.width=c;this.height=d;this.Yb&&this.Yb(c,d,this);this.b.clearColor(0,0,0,1);this.b.enable(this.b.DEPTH_TEST);this.b.frontFace(this.b.CCW);
this.b.cullFace(this.b.BACK);c=this.Dc=new Sf(this.b);c.Tc=!0;c.Ui=Y(c,c.b.VERTEX_SHADER,"uniform mat4 matMVP;\nattribute vec3 aPosition;\n\nvoid main()\n{\n   gl_Position = matMVP * vec4(aPosition,1.0);\n}\n");c.ci=Y(c,c.b.FRAGMENT_SHADER,"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform vec4 uColor;\n\nvoid main()\n{\n   gl_FragColor = uColor;\n}");if(c.Ui&&c.ci)c.Nd=c.b.createProgram(),c.b.attachShader(c.Nd,c.Ui),c.b.attachShader(c.Nd,c.ci),c.b.bindAttribLocation(c.Nd,0,"aPosition"),c.b.linkProgram(c.Nd),
c.b.getProgramParameter(c.Nd,c.b.LINK_STATUS)||alert("Shader Link: "+c.b.getProgramInfoLog(c.Nd));c.Xi=Y(c,c.b.VERTEX_SHADER,"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 matModelView;\nuniform mat4 matProjection;\nuniform mat4 matNormal;\n\nvarying vec2 vTexCoord;\nvarying vec3 vNormal;\nvarying vec4 vPosition;\n\nvoid main(void)\n{\nvPosition = matModelView * vec4(aPosition, 1.0);\ngl_Position = matProjection * vPosition;\nvTexCoord = aTexCoord;\nvNormal = (matNormal * vec4(aNormal,1.0)).xyz;\n}\n");
c.fi=Y(c,c.b.FRAGMENT_SHADER,"#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec2 vTexCoord;\nvarying vec3 vNormal;\nvarying vec4 vPosition;\nuniform sampler2D uTexture;\nvoid main(void)\n{\nvec3 L = normalize(-vPosition.xyz);\nfloat lamb = 2.0*max(dot(normalize(vNormal), L), 0.0);\nvec3 diff = vec3(1.0,0.0,0.0) * lamb;\ngl_FragColor = vec4(diff.xyz, 1.0);\n}\n");if(c.Xi&&c.fi)c.Ya=c.b.createProgram(),c.b.attachShader(c.Ya,c.Xi),c.b.attachShader(c.Ya,c.fi),c.b.bindAttribLocation(c.Ya,0,"aPosition"),
c.b.bindAttribLocation(c.Ya,1,"aNormal"),c.b.bindAttribLocation(c.Ya,2,"aTexCoord"),c.b.linkProgram(c.Ya),c.b.getProgramParameter(c.Ya,c.b.LINK_STATUS)||alert(c.b.getProgramInfoLog(c.Ya));c.Vi=Y(c,c.b.VERTEX_SHADER,"uniform mat4 matMVP;\nattribute vec3 aPosition;\nattribute vec4 aColor;\nvarying vec4 vColor;\n\nvoid main()\n{\n   gl_Position = matMVP * vec4(aPosition, 1.0);\n   vColor = aColor;\n   gl_PointSize = 1.0;}\n");c.di=Y(c,c.b.FRAGMENT_SHADER,"#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main()\n{\n   gl_FragColor = vColor;\n}\n\n");
if(c.Vi&&c.di)c.Pb=c.b.createProgram(),c.b.attachShader(c.Pb,c.Vi),c.b.attachShader(c.Pb,c.di),c.b.bindAttribLocation(c.Pb,0,"aPosition"),c.b.bindAttribLocation(c.Pb,1,"aColor"),c.b.linkProgram(c.Pb),c.b.getProgramParameter(c.Pb,c.b.LINK_STATUS)||alert(c.b.getProgramInfoLog(c.Pb));c.$i=Y(c,c.b.VERTEX_SHADER,"uniform mat4 matMVP;\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main()\n{\n   gl_Position = matMVP * vec4(aPosition,1.0);\n   vTexCoord = aTexCoord;\n}\n");
c.ii=Y(c,c.b.FRAGMENT_SHADER,"#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\n\nvoid main()\n{\n   gl_FragColor = texture2D(uTexture, vTexCoord);\n}\n\n");if(c.$i&&c.ii)c.Eb=c.b.createProgram(),c.b.attachShader(c.Eb,c.$i),c.b.attachShader(c.Eb,c.ii),c.b.bindAttribLocation(c.Eb,0,"aPosition"),c.b.bindAttribLocation(c.Eb,1,"aTexCoord"),c.b.linkProgram(c.Eb),c.b.getProgramParameter(c.Eb,c.b.LINK_STATUS)||alert(c.b.getProgramInfoLog(c.Eb));c.Wi=Y(c,
c.b.VERTEX_SHADER,"uniform mat4 matMVP;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nattribute vec4 aColor;\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec4 vColor;\n\nvoid main()\n{\n   gl_Position = gl_Position = matMVP * vec4(aPosition,1.0);\n   vTexCoord = aTexCoord;\n   vNormal = aNormal;\n   vColor = aColor;\n}\n");c.ei=Y(c,c.b.FRAGMENT_SHADER,"#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec4 vColor;\nuniform sampler2D uTexture;\n\nvoid main()\n{\n   gl_FragColor = vColor * texture2D(uTexture, vTexCoord);\n}\n\n");
if(c.Wi&&c.ei)c.pb=c.b.createProgram(),c.b.attachShader(c.pb,c.Wi),c.b.attachShader(c.pb,c.ei),c.b.bindAttribLocation(c.pb,0,"aPosition"),c.b.bindAttribLocation(c.pb,1,"aNormal"),c.b.bindAttribLocation(c.pb,2,"aTexCoord"),c.b.bindAttribLocation(c.pb,3,"aColor"),c.b.linkProgram(c.pb),c.b.getProgramParameter(c.pb,c.b.LINK_STATUS)||alert(c.b.getProgramInfoLog(c.pb));c.Ti=Y(c,c.b.VERTEX_SHADER,"uniform mat4 matMVP;\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main()\n{\n   gl_Position = matMVP * vec4(aPosition,1.0);\n   vTexCoord = aTexCoord;\n}\n");
c.bi=Y(c,c.b.FRAGMENT_SHADER,"#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\n\n\nuniform vec4 uColor;\nvoid main()\n{\n   gl_FragColor = uColor*texture2D(uTexture, vTexCoord);\n}\n\n");if(c.Ti&&c.bi)c.Bb=c.b.createProgram(),c.b.attachShader(c.Bb,c.Ti),c.b.attachShader(c.Bb,c.bi),c.b.bindAttribLocation(c.Bb,0,"aPosition"),c.b.bindAttribLocation(c.Bb,1,"aTexCoord"),c.b.linkProgram(c.Bb),c.b.getProgramParameter(c.Bb,c.b.LINK_STATUS)||alert("font shader: "+
c.b.getProgramInfoLog(c.Bb));c.Yi=Y(c,c.b.VERTEX_SHADER,"uniform mat4 matMVP;\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main()\n{\n   gl_Position = matMVP * vec4(aPosition,1.0);\n   vTexCoord = aTexCoord;\n}\n");c.gi=Y(c,c.b.FRAGMENT_SHADER,"#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\n\n\nuniform vec4 uColor;\nvoid main()\n{\n   if(texture2D(uTexture, vTexCoord)[3]<0.1){discard;}\n gl_FragColor = uColor*texture2D(uTexture, vTexCoord);\n}\n\n");
if(c.Yi&&c.gi)c.Cb=c.b.createProgram(),c.b.attachShader(c.Cb,c.Yi),c.b.attachShader(c.Cb,c.gi),c.b.bindAttribLocation(c.Cb,0,"aPosition"),c.b.bindAttribLocation(c.Cb,1,"aTexCoord"),c.b.linkProgram(c.Cb),c.b.getProgramParameter(c.Cb,c.b.LINK_STATUS)||alert("poi shader: "+c.b.getProgramInfoLog(c.Cb));c.Zi=Y(c,c.b.VERTEX_SHADER,"uniform mat4 matMVP;\nuniform mat4 matInvMVP;\nattribute vec3 aPosition;\nattribute vec4 aColor;\nvarying vec4 vColor;\n\nvoid main()\n{\n   gl_Position = matMVP * vec4(aPosition, 1.0);\n   vColor = aColor;\n   gl_PointSize = clamp(100000000.0/abs((distance(matMVP*vec4(aPosition, 1.0),matInvMVP*vec4(0.0,0.0,0.0,1.0)))),0.0,5.0);}\n");
c.hi=Y(c,c.b.FRAGMENT_SHADER,"#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main()\n{\n   gl_FragColor = vColor;\n}\n\n");if(c.Zi&&c.hi)c.Db=c.b.createProgram(),c.b.attachShader(c.Db,c.Zi),c.b.attachShader(c.Db,c.hi),c.b.bindAttribLocation(c.Db,0,"aPosition"),c.b.bindAttribLocation(c.Db,1,"aColor"),c.b.linkProgram(c.Db),c.b.getProgramParameter(c.Db,c.b.LINK_STATUS)||alert(c.b.getProgramInfoLog(c.Db));this.Ff=new Vf(this);this.ui=new Q(this);R(this.ui,T+"nodata.png");
this.Bf=new Yf(this);this.Oi=new Tf(this);this.Ia=new jg(this);this.sd&&this.sd(this);V(window,"resize",gg,!1,this);bg=new Date;typeof window!="undefined"&&window.Lk(kg,this.N)}else alert("Can't find webgl context. It seems your browser is not compatible! For example, you can get the latest Firefox or Chrome")}};t.tj=function(a,b,c,d){if(a>=0&&a<=1&&b>=0&&b<=1&&c>=0&&c<=1&&d>=0&&d<=1)this.Th=a,this.Sh=b,this.Rh=c,this.Qh=d};t.ll=function(){return{qn:this.Th,cn:this.Sh,Sm:this.Rh,Rm:this.Qh}};
t.dj=function(){this.b.clearColor(this.Th,this.Sh,this.Rh,this.Qh);this.b.clear(this.b.COLOR_BUFFER_BIT|this.b.DEPTH_BUFFER_BIT)};t.Ej=function(a,b,c,d){this.el=a;this.fl=b;this.dl=c;this.cl=d;this.b.viewport(a,b,c,d)};t.nl=function(){return{x:this.el,y:this.fl,zn:this.dl,dn:this.cl}};t.Bj=function(a){this.dc.R(a);lg(this)};t.zh=function(a){this.Ka.R(a);lg(this)};t.sc=function(a){this.Nb.R(a);lg(this)};function lg(a){a.Pg.W(a.Ka,a.Nb);a.Da.W(a.dc,a.Pg);a.ni.Ud(a.Pg);a.ni.og()}
t.pl=function(a){var b=new Q(this);R(b,a);this.Am.push(b);return b};t.ol=function(a){var b=new P(this);sc(b,a);this.zm.push(b);return b};t.qc=function(){var a=this.Yd,b=this.Ka,c=new N;c.R(b);a.ag.push(c);a=this.Yd;b=this.Nb;c=new N;c.R(b);a.$f.push(c);a=this.Yd;b=this.dc;c=new N;c.R(b);a.Vd.push(c)};t.pc=function(){this.Nb.R(this.Yd.$f.pop());this.Ka.R(this.Yd.ag.pop());this.dc.R(this.Yd.Vd.pop());lg(this)};
t.yh=function(){var a=this.b.getParameter(this.b.VIEWPORT),b=a[2]-a[0],a=a[3]-a[1];this.Nb.nh();this.Ka.nh();this.dc.nj(0,b,0,a);lg(this)};t.He=function(){this.bd==0?I(J("owg.engine3d"),"** WARNING: not implemented"):this.bd==1?this.f=new Rf(this):this.bd==2?I(J("owg.engine3d"),"** WARNING: not implemented"):this.bd==3&&I(J("owg.engine3d"),"** WARNING: not implemented")};t.Hc=function(a,b,c,d,e){this.Ff&&this.Ff.Hc(a,b,c,d,e)};
t.lh=function(a){var b=Array(2);b[0]=0;b[1]=0;this.Ff&&(b[0]=this.Ff.jj(a),b[1]=32);return b};t.ed=function(a,b,c){var d=new N;d.Ud(c);var e=this.height-b-1,b=(a-0)*2/this.width-1,c=(e-0)*2/this.height-1,a=(a-0)*2/this.width-1,e=(e-0)*2/this.height-1,f=new M;f.n(b,c,-1);b=d.va(f);c=new M;c.n(a,e,1);c=d.va(c);d=c.a[0]-b.a[0];a=c.a[1]-b.a[1];c=c.a[2]-b.a[2];e=Math.sqrt(d*d+a*a+c*c);e=Math.abs(e);d/=e;a/=e;c/=e;b=b.a;e={};e.x=b[0];e.y=b[1];e.d=b[2];e.xc=d;e.yc=a;e.zc=c;return e};
if(typeof window!="undefined")window.Lk=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,30)};
function kg(){ag=new Date;var a=ag.valueOf()-bg.valueOf();bg=ag;for(var b=0;b<cg.length;b++){var c=cg[b];if(c.f){var d=c.f,e=a;d.Cc.oc(e);d.te.oc(e);d.se.oc(e);d.P.oc(e);d.we.oc(e);d.ue.oc(e);d.ve.oc(e)}c.xd&&c.xd(a,c);c.Ej(0,0,c.width,c.height);c.dj();if(c.f){var d=c.f,e=d.rb,f=d.Nb,g=new N;g.R(f);e.$f.push(g);e=d.rb;f=d.Ka;g=new N;g.R(f);e.ag.push(g);e=d.rb;f=d.am;g=new N;g.R(f);e.Vd.push(g);d.Cc.jb(d.rb);d.te.jb(d.rb);d.se.jb(d.rb);d.P.jb(d.rb);d.we.jb(d.rb);d.ue.jb(d.rb);d.ve.jb(d.rb);d.rb.$f.pop();
d.rb.ag.pop();d.rb.Vd.pop();c.f.Ma()}c.wd&&c.wd(c);typeof window!="undefined"&&window.Lk(kg,c.N)}}t=$.prototype;t.uj=aa("sd");t.lg=aa("xd");t.Cj=aa("wd");t.xj=function(a){if(this.td)Jd(this.td),this.td=l;if(a)this.td=V(this.N,Xc,function(b){a(b.button,b.clientX-this.Vf/2,b.clientY-this.Wf/2,this)},!1,this)};t.zj=function(a){if(this.vd)Jd(this.vd),this.vd=l;if(a)this.vd=V(this.N,Yc,function(b){a(b.button,b.clientX-this.Vf/2,b.clientY-this.Wf/2,this)},!1,this)};
t.yj=function(a){if(this.ud)Jd(this.ud),this.ud=l;if(a)this.ud=V(this.N,Zc,function(b){a(b.clientX-this.Vf/2,b.clientY-this.Wf/2,this)},!1,this)};t.Aj=function(a){if(this.Mc)Jd(this.Mc),this.Mc=l;if(a){var b=new sf(this.N);this.Mc=V(b,Zc,function(b){b.preventDefault();a(b.Cg,this)},!1,this)}};t.Dj=aa("Yb");t.vj=function(a){eg&&(Jd(eg),eg=l);a&&(eg=V(window,$c,function(b){a(b.keyCode,this)},!1,this))};t.wj=function(a){fg&&(Jd(fg),fg=l);a&&(fg=V(window,ad,function(b){a(b.keyCode,this)},!1,this))};
t.jd=function(a,b,c){this.f&&this.f.P.Ab.jd(a,b,c)};t.fg=function(a,b,c){this.f&&this.f.P.Ab.fg(a,b,c)};t.Re=function(a,b){if(this.f)return this.f.P.Ug.Re(a,b);return l};t.kd=function(a,b){if(this.f)return this.f.P.Jg.kd(a,b);return-1};t.Qe=function(a,b){if(this.f)return this.f.P.xg.Qe(a,b);return-1};t.Xf=function(){if(this.f)return this.f.P.Ab.Xf();return 0};t.hl=function(){if(this.f)return this.f.Cc.fd().elevation;return 0};t.kh=function(a,b,c,d,e,f,g){this.Ia.kh(a,b,c,d,e,f,g)};t.jg=function(a){this.Ia.jg(a)};
w("engine3d",$);$.prototype.AltitudeAboveEllipsoid=$.prototype.hl;$.prototype.AltitudeAboveGround=$.prototype.Xf;$.prototype.Clear=$.prototype.dj;$.prototype.CreateScene=$.prototype.He;$.prototype.DrawText=$.prototype.Hc;$.prototype.GetClearColor=$.prototype.ll;$.prototype.GetDirectionMousePos=$.prototype.ed;$.prototype.GetViewport=$.prototype.nl;$.prototype.InitEngine=$.prototype.kj;$.prototype.LoadMesh=$.prototype.ol;$.prototype.LoadTexture=$.prototype.pl;$.prototype.PickGlobe=$.prototype.jd;
$.prototype.PopMatrices=$.prototype.pc;$.prototype.PushMatrices=$.prototype.qc;$.prototype.SetClearColor=$.prototype.tj;$.prototype.SetInitCallback=$.prototype.uj;$.prototype.SetKeyDownCallback=$.prototype.vj;$.prototype.SetKeyUpCallback=$.prototype.wj;$.prototype.SetModelMatrix=$.prototype.sc;$.prototype.SetMouseDownCallback=$.prototype.xj;$.prototype.SetMouseMoveCallback=$.prototype.yj;$.prototype.SetMouseUpCallback=$.prototype.zj;$.prototype.SetMouseWheelCallback=$.prototype.Aj;
$.prototype.SetOrtho2D=$.prototype.yh;$.prototype.SetProjectionMatrix=$.prototype.Bj;$.prototype.SetRenderCallback=$.prototype.Cj;$.prototype.SetResizeCallback=$.prototype.Dj;$.prototype.SetTimerCallback=$.prototype.lg;$.prototype.SetViewMatrix=$.prototype.zh;$.prototype.SetViewport=$.prototype.Ej;function mg(a){a=a.fb;a.sd&&a.sd(a.id)}function ng(a,b){var c=b.fb;c.xd&&c.xd(c.id,a)}function og(a){a=a.fb;a.wd&&a.wd(a.id)}function pg(a,b,c,d){d=d.fb;d.td&&d.td(d.id,a,b,c)}function qg(a,b,c,d){a=d.fb;a.vd&&a.vd(a.id)}function rg(a,b,c){c=c.fb;c.ud&&c.ud(c.id,a,b)}function sg(a,b){var c=b.fb;c.Mc&&c.Mc(c.id,a)}function tg(a,b,c){c=c.fb;c.Yb&&c.Yb(c.id,a,b)}function ug(a,b){var c=b.fb;c.Uh&&c.Uh(c.id,a)}function vg(a,b){var c=b.fb;c.Vh&&c.Vh(c.id,a)}
function wg(a){var b=a.fb;b.qd&&b.qd(a.fb.id)}function xg(a){var b=a.fb;b.rd&&b.rd(a.fb.id)}function yg(){this.name="ogContext";this.type=x;this.bk=!1;this.f=this.c=l;this.fontcolor=new O(1,1,1,1);this.im=1;this.rd=this.qd=this.Nl=this.sd=this.Ml=this.Ll=this.$m=this.xd=this.wd=this.Yb=this.Vh=this.Uh=this.ud=this.Mc=this.vd=this.td=l}yg.prototype=new F;
yg.prototype.wa=function(a){this.sd=a.cbfInit;this.Nl=a.cbfExit;this.Yb=a.cbfResize;if(a.fullscreen)this.bk=!0;this.c=new $;this.c.fb=this;a.canvas?this.c.kj(a.canvas,this.bk):I(J("owg.ogContext"),"**ERROR: auto creating canvas is not supported yet!");this.c.uj(mg);this.c.lg(ng);this.c.Cj(og);this.c.xj(pg);this.c.zj(qg);this.c.yj(rg);this.c.Aj(sg);this.c.Dj(tg);this.c.vj(ug);this.c.wj(vg);this.c.Ia.qd=wg;this.c.Ia.rd=xg};yg.prototype.Hc=function(a,b,c){this.c&&this.c.Hc(a,b,c,1,this.fontcolor)};
yg.prototype.lh=function(a){if(this.c)return this.c.lh(a);return l};yg.prototype.Oa=o();function zg(){this.name="ogWorld";this.type=A}zg.prototype=new F;zg.prototype.wa=function(a){if(a==l)I(J("owg.ogTexture"),"** ERROR: no options for texture creation!");else if(a.scenetype){var b=this.parent.parent.c;if(a.scenetype==C){if(b.bd=1,b.He(),b.f)b.f.Ee=this}else if(a.scenetype==Ja){if(b.bd=2,b.He(),b.f)b.f.Ee=this}else if(a.scenetype==Ka){if(b.bd=3,b.He(),b.f)b.f.Ee=this}else if(a.scenetype==La&&(b.bd=0,b.He(),b.f))b.f.Ee=this}};function Ag(){this.name="ogScene";this.type=z;this.ee=this.Ee=l;this.zg=[];this.jc=C}Ag.prototype=new F;t=Ag.prototype;t.wa=function(a){if(a==l)I(J("owg.ogScene"),"** ERROR: no options for scene creation!");else if(a.type)this.jc=a.type};t.Pe=function(a,b){var c={};this.parent.c.jd(a,b,c);var d=Array(4);d[0]=c.hit;d[1]=c.lng;d[2]=c.lat;d[3]=c.elv;return d};t.Re=function(a,b){var c=this.parent.c.Re(a,b);if(c)return c.lm.id;return-1};t.kd=function(a,b){return this.parent.c.kd(a,b)};
t.Qe=function(a,b){return this.parent.c.Qe(a,b)};function Bg(a,b){var c=E(b);if(c&&c.type==ya){var d=Ib(c);d.da(c.cc,c.bc,c.$b);d.Ue(L(c.ua),L(c.pitch),L(c.Fb));d.Xa=c}a.ee=c};function Cg(){this.name="ogPOI";this.type=B;this.F=!1;this.i=this.ca=l}Cg.prototype=new F;
Cg.prototype.wa=function(a){var b="",c=40,d=l;a.text&&(b=a.text);if(a.position){var e=a.position,f=[];(new S(e[0],e[1],e[2])).ma(f)}a.size&&(c=a.size);a.icon&&(d=a.icon);if(a.textstyle)this.Sd=a.textstyle;if(a.iconstyle)this.Bd=a.iconstyle;this.ca=this.parent.parent.c.Bf.ej(b,this.Sd,d,this.Bd);this.ca.F=!1;if(a.flagpoleColor)b=this.ca,d=a.flagpoleColor,b.Hk=d[0],b.Gk=d[1],b.Fk=d[2],b.Ek=d[3];a.flagpole==!0?this.ca.da(f[0],f[1],f[2],0):this.ca.da(f[0],f[1],f[2],l);this.ca.kg(c);this.ca.lm=this;(c=
Dg(this))&&c.ja.push(this.ca);if(a.visibilityRange)c=this.ca,a=a.visibilityRange,c.Si=a[0]*1E3*K,c.Ri=a[1]*1E3*K};Cg.prototype.Oa=function(){var a=this.parent.parent,b=Dg(this);if(b)for(var c=this.ca,d=0;d<b.ja.length;d++)if(b.ja[d]==c){b.ja.splice(d,1);break}a.c.Bf.gj(this.ca)};Cg.prototype.V=function(){this.F=!0;this.ca.F=!0};Cg.prototype.X=function(){this.F=!1;this.ca.F=!1};function Dg(a){var b=l,a=a.parent.parent.c;if(a.f&&a.f.P)b=a.f.P.Ug;return b};function Eg(){this.name="ogPOILayer";this.type=pa;this.F=!1;this.ja=[];this.Ed="";this.Bd=this.Sd=l;this.Tl={fontString:"48px Arial",backgroundColor:"rgba(0, 0, 0, 0)",fontColor:"rgba(255, 255, 255, 1.0)",lineWidth:3,strokeStyle:"rgba(0, 0, 0, 1.0)",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.0)"};this.Sl={iconWidth:64,iconHeight:64,border:0,backgroundColor:"rgba(0, 0, 0, 0.0)",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(255, 0, 0, 0)"}}
Eg.prototype=new F;
function Fg(a){a.font&&a.fontSize&&(a.fontString=a.fontSize+"px "+a.font);if(a.backgroundColor){var b=a.backgroundColor;a.backgroundColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+b[3]+")"}if(a.fontColor)b=a.fontColor,a.fontColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+b[3]+")";if(a.strokeColor)b=a.strokeColor,a.strokeStyle="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+b[3]+")";if(a.shadowColor)b=a.shadowColor,a.shadowColor="rgba("+b[0]*255+","+b[1]*255+","+b[2]*255+","+b[3]+")";a.width&&
(a.iconWidth=a.width);a.height&&(a.iconHeight=a.height)}Eg.prototype.wa=function(a){if(a.name)this.Ed=a.name;a.textstyle?(Fg(a.textstyle),this.Sd=a.textstyle):this.Sd=this.Tl;a.iconstyle?(Fg(a.iconstyle),this.Bd=a.iconstyle):this.Bd=this.Sl};Eg.prototype.Oa=function(){for(var a=0;a<this.ja.length;a++)G(this.ja[a])};Eg.prototype.V=function(){this.F=!0;for(var a=0;a<this.ja.length;a++)this.ja[a].V()};Eg.prototype.X=function(){this.F=!1;for(var a=0;a<this.ja.length;a++)this.ja[a].X()};function Gg(){this.name="ogElevationLayer";this.type=na;this.of=-1}Gg.prototype=new F;Gg.prototype.Yf=function(){var a=l,b=this.parent.parent.parent.c;if(b.f&&b.f.P)a=b.f.P.Ab;return a};Gg.prototype.eh=function(a){var b=this.Yf();if(b)this.of=b.eh(a)};Gg.prototype.wa=function(a){this.eh(a)};function jg(a){this.c=a;this.b=a.b;this.Gd=l;this.gk=this.Cd=!1;this.bg=[];this.cg=[];this.dg=[];this.eg=[];this.Yk=2E3;this.Yl=new S;this.rd=this.qd=l}function Hg(a,b,c,d){var e=a.Gd.fd(),f=[e.longitude,e.latitude,e.elevation],g=[b,c,d];a.Dg=Cb*Math.acos(Math.sin(L(f[1]))*Math.sin(L(g[1]))+Math.cos(L(f[1]))*Math.cos(L(g[1]))*Math.cos(L(g[0]-f[0])));if(isNaN(a.Dg))a.Dg=0;e=[e.longitude,e.latitude,e.elevation+a.Dg/4];b=[b,c,d+a.Dg/4];a.bg=f;a.cg=e;a.dg=b;a.eg=g;a.gk=!0}
function le(a,b,c,d,e,f,g){a.Gd=a.c.f.Cc;var j=a.Gd.Le();a.Bi=j.ua;a.zi=j.pitch;a.Ai=j.Fb;e!=l&&f!=l&&g!=l?(a.Rk=L(e),a.Pk=L(f),a.Qk=L(g)):(a.Rk=a.Bi,a.Pk=a.zi,a.Qk=a.Ai);a.hf=a.Rk-a.Bi;Math.abs(a.hf)>Math.PI&&(a.hf>0?a.hf-=2*Math.PI:a.hf+=2*Math.PI);a.ff=a.Pk-a.zi;Math.abs(a.ff)>Math.PI&&(a.ff>0?a.ff-=2*Math.PI:a.ff+=2*Math.PI);a.gf=a.Qk-a.Ai;Math.abs(a.gf)>Math.PI&&(a.gf>0?a.gf-=2*Math.PI:a.gf+=2*Math.PI);Hg(a,b,c,d);a.qd&&a.qd(a.c);a.c.lg(function(b){if(a.gk){a.nk+=b;b=a.nk/a.Yk;a.r=0.5*Math.sin(Math.PI*
b-Math.PI/2)+0.5;if(b>1)a.r=1,Ig(a);var b=Math.pow(1-a.r,3)*a.bg[0]+3*a.r*Math.pow(1-a.r,2)*a.cg[0]+3*a.r*a.r*(1-a.r)*a.dg[0]+Math.pow(a.r,3)*a.eg[0],c=Math.pow(1-a.r,3)*a.bg[1]+3*a.r*Math.pow(1-a.r,2)*a.cg[1]+3*a.r*a.r*(1-a.r)*a.dg[1]+Math.pow(a.r,3)*a.eg[1],d=Math.pow(1-a.r,3)*a.bg[2]+3*a.r*Math.pow(1-a.r,2)*a.cg[2]+3*a.r*a.r*(1-a.r)*a.dg[2]+Math.pow(a.r,3)*a.eg[2];a.Yl.nc(b,c,d);a.Gd.da(b,c,d);a.Gd.Ue(a.Bi+a.r*a.hf,a.zi+a.r*a.ff,a.Ai+a.r*a.gf);a.r==1&&Ig(a)}});a.r=0;a.nk=0;a.Cd=!0}
function Ig(a){a.c.lg(l);a.Cd=!1;a.rd&&a.rd(a.c)}
jg.prototype.kh=function(a,b,c,d,e,f,g){this.Gd=this.c.f.Cc;d*=K;var j=new S(a,b,c),k=[];j.ma(k);var m=new N;m.mc(a,b);a=new N;a.Kb(k[0],k[1],k[2]);k=new N;k.W(a,m);m={};e!=l&&f!=l&&g!=l?(m.ua=L(e),m.pitch=L(f),m.Fb=L(g)):m=this.Gd.Le();a=m.pitch-Math.PI/2;d=new M(d*Math.sin(a)*Math.cos(m.ua),d*Math.sin(a)*Math.sin(m.ua),d*Math.cos(a));d=k.va(d).a;j.nc(d[0],d[1],d[2]);d=j.B[1];k=j.B[0];j=j.B[2];j>c?le(this,k,d,j,e,f,g):le(this,k,d,-j,m.ua,-Fb(m.pitch),m.Fb)};jg.prototype.jg=aa("Yk");function Jg(a){this.c=a;this.b=a.b;this.$b=this.cc=this.bc=0;this.canvas=l;this.j=this.g=0;this.s=this.k=l;this.Dk=-1}t=Jg.prototype;
t.We=function(){this.b.enable(this.b.TEXTURE_2D);this.b.bindTexture(this.b.TEXTURE_2D,this.pa.e);this.b.pixelStorei(this.b.UNPACK_FLIP_Y_WEBGL,0);this.b.texImage2D(this.b.TEXTURE_2D,0,this.b.RGBA,this.c.b.RGBA,this.b.UNSIGNED_BYTE,this.canvas);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MAG_FILTER,this.b.LINEAR);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_MIN_FILTER,this.b.LINEAR);this.b.texParameteri(this.b.TEXTURE_2D,this.b.TEXTURE_WRAP_S,this.b.CLAMP_TO_EDGE);this.b.texParameteri(this.b.TEXTURE_2D,
this.b.TEXTURE_WRAP_T,this.b.CLAMP_TO_EDGE);this.b.bindTexture(this.b.TEXTURE_2D,l);this.pa.ab=!0};t.da=function(a,b,c){var d=[];(new S(a,b,c)).ma(d);this.k.Te(d[0],d[1],d[2],0,0,0)};t.ha=function(){this.scale=20;this.c.b.enable(this.c.b.BLEND);this.c.b.depthFunc(this.c.b.LEQUAL);this.c.b.blendFunc(this.c.b.SRC_ALPHA,this.c.b.ONE_MINUS_SRC_ALPHA);this.k&&uc(this.k);this.c.qc();var a=new N;a.Jc(K*this.scale,K*this.scale,1);this.c.sc(a);this.k&&this.k.ha(!1,0,0,l,l);this.c.pc();this.c.b.disable(this.c.b.BLEND)};
t.kg=aa("scale");t.Pe=function(a,b){if(this.k)var c=this.c.ed(a,b,this.c.Da),d=this.k.md(c.x,c.y,c.d,c.xc,c.yc,c.zc);if(d){var e=c=0,f=d.Jb,g=d.lc,j=1-f-g;d.Zk==0?(c=f*-this.g/2+g*this.g/2+j*-this.g/2/(f+g+j)+this.g/2,e=f*this.j/2+g*this.j/2+j*-this.j/2/(f+g+j)+this.j/2):d.Zk==1&&(c=f*this.g/2+g*this.g/2+j*-this.g/2/(f+g+j)+this.g/2,e=f*this.j/2+g*-this.j/2+j*-this.j/2/(f+g+j)+this.j/2);c/=this.g;e/=this.j;d={};d.id=this.Dk;d.x=c;d.y=e;return d}return l};t.H=function(){this.k&&(this.k.H(),this.pa.H())};function Kg(){this.name="ogBillboard";this.type=Da;this.status=Na;this.i=-1;this.F=!1}Kg.prototype=new F;t=Kg.prototype;
t.wa=function(a){if(a==l)I(J("owg.ogBillboard"),"** ERROR: no options for billboard creation!");else if(this.parent==l)I(J("owg.ogBillboard"),"** ERROR: no parent!");else if(this.parent.type!=z)I(J("owg.ogBillboard"),"** ERROR: parent is not scene!");else if(a.canvas){this.xb=new Jg(this.parent.parent.c);this.xb.Dk=this.id;var b=this.xb,c=a.canvas;b.canvas=c;switch(c.constructor.toString()){case "[object HTMLCanvasElement]":b.s=b.canvas.getContext("2d");b.g=b.s.canvas.width;b.j=b.s.canvas.height;
break;case "[object HTMLVideoElement]":b.g=c.videoWidth,b.j=c.videoHeight}b.pa=new Q(b.c);b.pa.e=b.b.createTexture();b.k=new P(b.c);b.k.vb(b.pa);b.Ib=b.g;b.Hb=b.j;c=[];c.push(-b.g/2,b.j/2,0,0,0);c.push(-b.g/2,-b.j/2,0,0,1/b.Hb*b.j);c.push(b.g/2,-b.j/2,0,1/b.Ib*b.g,1/b.Hb*b.j);c.push(b.g/2,b.j/2,0,1/b.Ib*b.g,0);qc(b.k,c);rc(b.k,[0,1,2,0,2,3],"TRIANGLES");b.k.J=[-b.g/2,-b.j/2,0];b.k.T=[b.g/2,b.j/2,0];b.k.g=b.g;b.k.j=b.j;b.We();a=a.position;this.xb.da(a[0],a[1],a[2]);Lg(this).dh(this.xb)}};
t.Oa=function(){if(this.xb)Lg(this).wh(this.xb),this.xb.H(),this.status=3};t.ha=function(){this.xb.ha()};function Lg(a){var b=l,a=a.parent.parent.c;if(a.f&&a.f.P)b=a.f.P.xg;return b}t.V=function(){this.F=!0;this.xb.F=!0};t.X=function(){this.F=!1;this.xb.F=!1};function Mg(){this.name="ogMeshObject";this.type=wa;this.qb=[];this.Ci=[]}Mg.prototype=new F;t=Mg.prototype;t.wa=function(a){this.options=a;if(this.options.jsonobject)for(var a=this.options.jsonobject,b=0;b<a.length;b++){this.options.jsonobject=a[b];var c=X(xa,this,this.options);this.qb.push(c);this.Ci.push(c.k)}};t.Oa=function(){for(var a=0;a<this.qb.length;a++)G(this.qb[a]);this.Ci=this.qb=l};t.V=function(){for(var a=0;a<this.qb.length;a++)this.qb[a].V()};
t.ld=function(a,b,c,d,e,f){for(var g=0;g<this.qb.length;g++)this.qb[g].ld(a,b,c,d,e,f)};t.Ve=function(a,b,c,d){for(var e=0;e<this.qb.length;e++)this.qb[e].Ve(a,b,c,d)};t.X=function(){for(var a=0;a<this.qb.length;a++)this.qb[a].X()};function Ng(){this.name="ogAoeImageLayer";this.type=Fa;this.F=!1;this.Wa=[];this.Ed=""}Ng.prototype=new F;t=Ng.prototype;t.wa=function(a){if(a.name)this.Ed=a.name};t.Oa=function(){for(var a=0;a<this.Wa.length;a++){for(var b=a;b<this.Wa.length;b++)this.Wa[a].ac-=1;G(this.Wa[a])}};t.V=function(){this.F=!0;for(var a=0;a<this.Wa.length;a++)this.Wa[a].V()};t.X=function(){this.F=!1;for(var a=0;a<this.Wa.length;a++)this.Wa[a].X()};t.bh=function(a){this.Wa.push(a);a.nf=this.id};
t.vh=function(a){for(var b=0;b<this.Wa.length;b++)if(this.Wa[b]==a){for(var c=b+1;c<this.Wa.length;c++)this.Wa[c].ac-=1;G(this.Wa[b]);this.Wa.splice(b,1)}};function Og(){this.name="ogImageLayer";this.type=ma;this.of=-1}Og.prototype=new F;Og.prototype.Yf=function(){var a=l,b=this.parent.parent.parent.c;if(b.f&&b.f.P)a=b.f.P.Ab;return a};Og.prototype.fh=function(a){var b=this.Yf();if(b)this.of=b.fh(a)};Og.prototype.gg=function(){var a=this.Yf();a&&this.of!=-1&&a.gg(this.of)};Og.prototype.wa=function(a){this.fh(a)};function Pg(){this.name="ogBillboardLayer";this.type=Ea;this.F=!1;this.na=[];this.Ed=""}Pg.prototype=new F;t=Pg.prototype;t.wa=function(a){if(a.name)this.Ed=a.name};t.Oa=function(){for(var a=0;a<this.na.length;a++)G(this.na[a])};t.V=function(){this.F=!0;for(var a=0;a<this.na.length;a++)this.na[a].V()};t.X=function(){this.F=!1;for(var a=0;a<this.na.length;a++)this.na[a].X()};t.wh=function(a){for(var b=0;b<this.na.length;b++)this.na[b]==a&&(G(this.na[b]),this.na.splice(b,1))};t.dh=function(a){this.na.push(a)};function Qg(){this.name="ogPointSpriteObject";this.type=Ha;this.Yc=this.options=this.Ob=l;this.Sg=this.Bg=0}Qg.prototype=new F;t=Qg.prototype;t.wa=function(a){this.options=a;this.Ob=new vc(this.parent.parent.parent.c);a.Vertices&&wc(this.Ob,a.Vertices);if(a.PointUrl)Rg(this,a.PointUrl),this.jm=a.NumberOfPoints,this.Ob.Xg=this.jm;this.Ob.ig(a.Center[0],a.Center[1],a.Center[2])};t.Oa=function(){if(this.Ob)this.Ob.H(),this.Ob=l,this.status=3};t.V=function(){this.Ob.F=!0};t.ld=o();
t.X=function(){this.Ob.F=!1};function Rg(a,b){b==l?alert("invalid xyzurl"):(a.Bm=b,a.O=new window.XMLHttpRequest,a.O.open("GET",a.Bm,!0),a.O.onreadystatechange=function(){a.O.readyState==4&&(a.O.status==404?alert("xyz-file not found..."):Sg(a))},a.O.onprogress=function(){Sg(a)},a.O.send(),a.Bg=0,a.Sg=0)}
function Sg(a){var b=a.O.responseText;a.Bg=b.lastIndexOf("\n");for(var b=b.substr(a.Sg,a.Bg-a.Sg-1),c=[],b=b.split(","),d=0;d<b.length;d++){var e=parseFloat(b[d]);isNaN(e)||c.push(e)}wc(a.Ob,c);a.Sg=a.Bg};function Tg(){this.name="ogGeometryLayer";this.type=qa;this.F=!1;this.U=[];this.Ed=""}Tg.prototype=new F;t=Tg.prototype;t.wa=function(a){if(a.name)this.Ed=a.name};t.Oa=function(){for(var a=0;a<this.U.length;a++){for(var b=a;b<this.U.length;b++)this.U[a].ac-=1;G(this.U[a])}};t.V=function(){this.F=!0;for(var a=0;a<this.U.length;a++)this.U[a].V()};t.X=function(){this.F=!1;for(var a=0;a<this.U.length;a++)this.U[a].X()};t.Fe=function(a){this.U.push(a);a.nf=this.id};
t.xh=function(a){for(var b=0;b<this.U.length;b++)if(this.U[b]==a){for(var c=b+1;c<this.U.length;c++)this.U[c].ac-=1;G(this.U[b]);this.U.splice(b,1)}};function Ug(){this.name="ogSurface";this.type=xa;this.vn=this.kn=!1;this.elevation=this.latitude=this.longitude=0;this.status=Na;this.k=l}Ug.prototype=new F;t=Ug.prototype;t.ld=function(a,b,c,d,e,f){this.k.ig(a,b,c,d,e,f)};
t.Ve=function(a,b,c,d){var e=this.k,f=new S(a,b,c),c=Array(3);f.ma(c);(new N).Kb(c[0],c[1],c[2]);f=new N;f.mc(a,b);a=new Float32Array(16);b=f.a;a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;b=new N;b.n(a);a=new N;a.Jc(K,K,K);c=new N;c.W(b,a);var a=new N,b=d[0],f=d[1],g=d[2],d=d[3];a.a[0]=1-2*(f*f+g*g);a.a[4]=2*(b*f-d*g);a.a[8]=2*(b*g+d*f);a.a[12]=0;a.a[1]=2*(b*f+d*g);a.a[5]=1-2*(b*
b+g*g);a.a[9]=2*(f*g-d*b);a.a[13]=0;a.a[2]=2*(b*g-d*f);a.a[6]=2*(f*g+d*b);a.a[10]=1-2*(b*b+f*f);a.a[14]=0;a.a[3]=0;a.a[7]=0;a.a[11]=0;a.a[15]=1;d=new N;d.W(c,a);e.aa=d;tc(e)};
t.wa=function(a){if(a==l)I(J("owg.ogTexture"),"** ERROR: no options for surface creation!");else if(this.parent==l)I(J("owg.ogTexture"),"** ERROR: no parent!");else if(this.parent.type!=wa)I(J("owg.ogTexture"),"** ERROR: parent is not scene!");else{if(a.jsonobject){this.k=new P(this.parent.parent.parent.parent.c);this.k.F=!1;this.k.km=this.id;var b=this;this.k.dd(a.jsonobject,function(){b.longitude!=0&&b.latitude!=0&&b.ld(b.longitude,b.latitude,b.elevation);b.status=Ma;b.D&&b.D(b.id)},function(){b.status=
3;b.C&&b.C(b.id)});this.je=a.url;this.k.bl=a.jsonobject.VisibilityDistance?a.jsonobject.VisibilityDistance*K:5E4*K}if(a.longitude&&a.latitude&&a.elevation)this.longitude=a.longitude,this.latitude=a.latitude,this.elevation=a.elevation}};t.Oa=function(){if(this.k)this.k.H(),this.k=l,this.status=3};t.X=function(){if(this.k)this.k.F=!1};t.V=function(){if(this.k)this.k.F=!0};var Vg=-1;function X(a,b,c){var d=l;a==x?d=new yg:a==z?d=new Ag:a==A?d=new zg:a==ma?d=new Og:a==na?d=new Gg:a!=oa&&(a==pa?d=new Eg:a==qa?d=new Tg:a!=ra&&a!=sa&&(a==ta?d=new Bb:a==B?d=new Cg:a!=ua&&(a==va?d=new nf:a==wa?d=new Mg:a==xa?d=new Ug:a==ya?d=new Hb:a!=za&&a!=Aa&&a!=Ba&&a!=Ca&&(a==Da?d=new Kg:a==Ea?d=new Pg:a==Fa?d=new Ng:a==Ga?d=new me:a==Ha&&(d=new Qg)))));if(d!=l)Vg++,d.id=Vg,d.parent=b,D.push(d),d.wa(c);return d}w("_CreateObject",X);
w("ogGetObjectType",function(a){return(a=E(a))?a.type:Ia});w("ogGetObjectName",function(a){return(a=E(a))?a.name:""});w("ogGetNumObjects",function(){return D.length});w("ogGetObjectAt",function(a){a=a<0||a>D.length-1?l:D[a];return a==l?-1:a.id});w("ogGetParentObject",function(a){if((a=E(a))&&a.parent)return a.parent.id;return-1});w("ogSetObjectName",function(a,b){var c=E(a);if(c)c.name=b});
w("ogGetObjectByName",function(a){a:{for(var b=0;b<D.length;b++)if(D[b].name==a){a=D[b];break a}a=l}if(a)return a.id;return-1});w("ogGetObjectStatus",function(a){if(a=E(a))return a.status;return 3});w("ogOnLoad",function(a,b){var c=E(a);if(c)c.status==Ma?b(a):c.D=b});w("ogOnFailure",function(a,b){var c=E(a);if(c)c.status==3?b(a):c.C=b});function Wg(a,b,c,d){a.cbfInit=b;a.cbfExit=c;a.cbfResize=d;a=X(x,l,a);if(a!=l)return a.id;return-1}w("ogCreateContext",Wg);
w("ogCreateContextFromCanvas",function(a,b,c,d,e){var f={};f.fullscreen=b?!0:!1;f.canvas=a;return Wg(f,c,d,e)});w("ogGetWidth",function(a){if((a=E(a))&&a.type==x)return a=a.c?a.c.width:0,a;return 0});w("ogGetHeight",function(a){if((a=E(a))&&a.type==x)return a=a.c?a.c.height:0,a;return 0});w("ogGetScene",function(a){if((a=E(a))&&a.type==x&&a.f)return a.f.id;return-1});w("ogSetBackgroundColor",function(a,b,c,d,e){(a=E(a))&&a.type==x&&a.c&&a.c.tj(b,c,d,e)});
w("ogSetTextColor",function(a,b,c,d){(a=E(a))&&a.type==x&&a.fontcolor.n(b,c,d,1)});w("ogDrawText",function(a,b,c,d){(a=E(a))&&a.type==x&&a.Hc(b,c,d)});w("ogGetTextSize",function(a,b){var c=E(a);if(c&&c.type==x&&(c=c.lh(b)))return c;c=Array(2);c[0]=0;c[1]=0;return c});w("ogSetMouseDownFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.td=b});w("ogSetMouseUpFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.vd=b});w("ogSetMouseMoveFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.ud=b});
w("ogSetMouseWheelFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.Mc=b});w("ogSetKeyDownFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.Uh=b});w("ogSetKeyUpFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.Vh=b});w("ogSetResizeFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.Yb=b});w("ogSetRenderFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.wd=b});w("ogSetTimerFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.xd=b});
w("ogSetRenderGeometryFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.Um=b});w("ogSetBeginRenderFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.Ll=b});w("ogSetEndRenderFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.Ml=b});w("ogSetFlyToStartedFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.qd=b});w("ogSetInPositionFunction",function(a,b){var c=E(a);if(c&&c.type==x)c.rd=b});w("ogSetNumRenderPasses",function(a,b){var c=E(a);if(c&&c.type==x)c.im=b});w("ogExec",o());
w("ogSetArtworkDirectory",function(a){T=a});function Xg(a,b){var c=E(a);if(c&&c.type==x){var d={};d.type=b;return b==C||b==Ja||b==Ka||b==La?(d=X(z,c,d),c.f=d,d.id):(I(J("owg.og"),"** WARNING: wrong scene type"),-1)}I(J("owg.og"),"** WARNING: context is not valid");return-1}w("ogCreateScene",Xg);w("ogGetContext",function(a){if((a=E(a))&&a.type==z)if(a=a.parent)return a.id;return-1});w("ogGetWorld",function(a){if((a=E(a))&&a.type==z)if(a=a.Ee)return a.id;return-1});
w("ogPickGlobe",function(a,b,c){if((a=E(a))&&a.type==z&&a.jc==C)return a.Pe(b,c);return[!1,0,0,0]});w("ogToCartesian",function(a,b,c,d){if((a=E(a))&&a.type==z&&a.jc==C){var e=[];(new S(b,c,d)).ma(e)}return e||l});w("ogToWGS84",function(a,b,c,d){if((a=E(a))&&a.type==z&&a.jc==C){var e=new S;e.nc(b,c,d);e=[e.B[0],e.B[1],e.B[2]]}return e||l});w("ogCreateCamera",function(a){if((a=E(a))&&a.type==z){var b=X(ya,a,l);a.zg.push(b);return b.id}return-1});
w("ogDestroyCamera",function(a){(a=E(a))&&a.type==ya&&G(a)});w("ogSetPosition",function(a,b,c,d){(a=E(a))&&a.type==ya&&a.da(b,c,d)});function Yg(a){if((a=E(a))&&a.type==z)return a.ee.fd();return l}w("ogGetPosition",Yg);function Zg(a,b,c,d){if((a=E(a))&&a.type==ya)return b>360&&(b-=360),b<0&&(b=360+b),a.Ue(b,c,d);return l}w("ogSetOrientation",Zg);function $g(a){if((a=E(a))&&a.type==z)return a.ee.Le();return l}w("ogGetOrientation",$g);function ah(a){if((a=E(a))&&a.type==z)return a.ee.id;return-1}
w("ogGetActiveCamera",ah);w("ogSetActiveCamera",function(a){(a=E(a))&&a.type==ya&&Bg(a.parent,a.id)});w("ogGetNumCameras",function(a){if((a=E(a))&&a.type==z)return a.zg.length});w("ogGetCameraAt",function(a,b){var c=E(a);if(c&&c.type==z)return c.zg[b].id;return-1});
w("ogLookAt",function(a,b,c,d){var e=ah(a);Jb(E(e));var f=Yg(a),g=[];(new S(f.longitude,f.latitude,f.elevation)).ma(g);var j=new M(g[0],g[1],g[2]),k=[];(new S(b,c,d)).ma(k);b=(new M(k[0],k[1],k[2])).Td();b.mg(j);j=new N;j.mc(f.longitude,f.latitude);f=new N;f.Kb(g[0],g[1],g[2]);g=new N;g.W(f,j);g.og();g=g.va(b);g.tb();j=g.a;g=j[0];f=j[1];j=j[2];b=Math.acos(g/Math.sqrt(1-j*j))*57.29577951308232;f<0&&g>0&&(b=360-b);f<0&&g<0&&(b=360-b);g=-(90-Math.acos(j)*57.29577951308232);j<-0.9&&(b=180+b,g=-g);Zg(e,
b,g,$g(a).roll)});function bh(a){if((a=E(a))&&a.type==z){var b={};b.scenetype=a.jc;b=X(A,a,b);a.Ee=b;return b.id}return-1}w("ogCreateWorld",bh);w("ogCreateGlobe",function(a){var b=Xg(a,C),a=bh(b),b=E(b),c=X(ya,b,l);Jb(c);Bg(b,c.id);b.zg.push(c);return a});w("ogSetNorthpoleColor",function(a,b,c,d){if((a=E(a))&&a.type==A)a.parent.parent.c.f.P.Ab.Hd=[b,c,d]});w("ogSetSouthpoleColor",function(a,b,c,d){if((a=E(a))&&a.type==A)a.parent.parent.c.f.P.Ab.Qd=[b,c,d]});
w("ogSetRenderQuality",function(a,b){var c=E(a);if(c&&c.type==A&&(c=c.parent.parent.c.f.P.Ab,b>0&&b<=3))c.Kk=b});w("ogLoadTextureAsync",function(a,b){var c=E(a);if(c&&c.type==z){var d={};d.url=b;return X(ta,c,d).id}return-1});w("ogDestroyTexture",function(a){(a=E(a))&&a.type==ta&&G(a)});w("ogBlitTexture",function(a,b,c,d){(a=E(a))&&a.type==ta&&a.v(b,c,d)});w("ogAddImageLayer",function(a,b){var c=E(a);if(c&&c.type==A)return X(ma,c,b).id;return-1});
w("ogRemoveImageLayer",function(a){if((a=E(a))&&a.type==ma)a.gg(),G(a)});w("ogAddElevationLayer",function(a,b){var c=E(a);if(c&&c.type==A)return X(na,c,b).id;return-1});w("ogRemoveElevationLayer",function(a){if((a=E(a))&&a.type==na)a.gg(),G(a)});w("ogCreatePOILayer",function(a,b,c,d){var e={};e.name=b;e.textstyle=c;e.iconstyle=d;if((a=E(a))&&a.type==A)return X(pa,a,e).id;return-1});w("ogRemovePOILayer",function(a){(a=E(a))&&a.type==pa&&G(a)});w("ogHidePOILayer",function(a){(a=E(a))&&a.type==pa&&a.V()});
w("ogShowPOILayer",function(a){(a=E(a))&&a.type==pa&&a.X()});w("ogCreatePOI",function(a,b){var c=E(a);if(c&&c.type==pa){b.textstyle=c.Sd;b.iconstyle=c.Bd;var d=X(B,c.parent.parent,b);c.ja.push(d);d.on=c;return d.id}return-1});w("ogDestroyPOI",function(a){if((a=E(a))&&a.type==B)if(a.i){var b=E(a.i);if(b&&b.type==pa)for(var c=0;c<b.ja.length;c++)b.ja[c]==a&&(G(b.ja[c]),b.ja.splice(c,1))}else G(a);return-1});
w("ogChangePOIText",function(a,b){var c=E(a);if(c&&c.type==B){var d=c.parent.parent;c.Sd&&d.c.Bf.cj(c.ca,b,c.Sd)}});w("ogChangePOIIcon",function(a,b){var c=E(a);if(c&&c.type==B){var d=c.parent.parent;c.Bd&&d.c.Bf.bj(c.ca,b,c.Bd)}});w("ogChangePOISize",function(a,b){var c=E(a);c&&c.type==B&&c.ca.kg(b)});w("ogChangePOIPositionWGS84",function(a,b,c,d){if((a=E(a))&&a.type==B){var e=[];(new S(b,c,d)).ma(e);b=e[0];c=e[1];e=e[2];a.ca.Id?a.ca.da(b,c,e,0):a.ca.da(b,c,e,l)}});
w("ogChangePOIPosition",function(a,b,c,d){(a=E(a))&&a.type==B&&(a.ca.Id?a.ca.da(b,c,d,0):a.ca.da(b,c,d,l))});w("ogHidePOI",function(a){(a=E(a))&&a.type==B&&a.V()});w("ogShowPOI",function(a){(a=E(a))&&a.type==B&&a.X()});w("ogSetPOIActiveColor",function(a,b,c,d,e){if((a=E(a))&&a.type==B)a.ca.yi=new O(b,c,d,e)});w("ogPickPOI",function(a,b,c){if((a=E(a))&&a.type==z&&a.jc==C)return a.Re(b,c);return-1});
w("ogCreateGeometryLayer",function(a,b){var c={};c.name=b;var d=E(a);if(d&&d.type==A)return X(qa,d,c).id;return-1});w("ogCreateAoeImageLayer",function(a,b){var c={};c.name=b;var d=E(a);if(d&&d.type==A)return X(Fa,d,c).id;return-1});w("ogCreateAoeImage",function(a,b){var c=E(a);if(c&&c.type==Fa){var d=X(Ga,c.parent.parent,b);c.bh(d);return d.id}return-1});w("ogDestroyAoeImage",function(a){if((a=E(a))&&a.type==Ga){var b=E(a.nf);b&&b.type==Fa&&b.vh(a)}return-1});
w("ogHideGeometryLayer",function(a){(a=E(a))&&a.type==qa&&a.V()});w("ogShowGeometryLayer",function(a){(a=E(a))&&a.type==qa&&a.X()});w("ogRemoveGeometryLayer",function(a){(a=E(a))&&a.type==qa&&G(a);return-1});w("ogCreateGeometry",function(a,b){var c={};c.jsonobject=b;var d=E(a);if(d&&d.type==qa)return c=X(va,d.parent.parent,c),d.Fe(c),c.id;return-1});w("ogLoadGeometryAsync",function(a,b){var c={};c.url=b;var d=E(a);if(d&&d.type==qa)return c=X(va,d.parent.parent,c),d.Fe(c),c.id;return-1});
w("ogDestroyGeometry",function(a){if((a=E(a))&&a.type==va){var b=E(a.nf);b&&b.type==qa&&b.xh(a)}return-1});w("ogSetGeometryPositionWGS84",function(a,b,c,d,e,f,g){if((a=E(a))&&a.type==va)return a.ld(b,c,d,e,f,g);return-1});w("ogSetGeometryPositionWGS84Quat",function(a,b,c,d,e){if((a=E(a))&&a.type==va)return a.Ve(b,c,d,e);return-1});w("ogGetNumMeshes",function(a){if((a=E(a))&&a.type==va)return a.lb.length;return-1});w("ogGetMeshAt",function(a,b){var c=E(a);if(c&&c.type==va)return c.lb[b].id;return-1});
w("ogHideGeometry",function(a){(a=E(a))&&a.type==va&&a.V()});w("ogShowGeometry",function(a){(a=E(a))&&a.type==va&&a.X()});w("ogPickGeometry",function(a,b,c){if((a=E(a))&&a.type==z&&a.jc==C)if(b=a.kd(b,c),b=E(b))return b.parent.parent.id;return-1});w("ogGetSurfaceAt",function(a,b){var c=E(a);if(c&&c.type==wa)return c.qb[b].id;return-1});w("ogHideMesh",function(a){(a=E(a))&&a.type==wa&&a.V()});w("ogShowMesh",function(a){(a=E(a))&&a.type==wa&&a.X()});
w("ogPickMesh",function(a,b,c){if((a=E(a))&&a.type==z&&a.jc==C)if(b=a.kd(b,c),b=E(b))return b.parent.id;return-1});w("ogHideSurface",function(a){(a=E(a))&&a.type==xa&&a.V()});w("ogShowSurface",function(a){(a=E(a))&&a.type==xa&&a.X()});w("ogPickSurface",function(a,b,c){if((a=E(a))&&a.type==z&&a.jc==C)return a.kd(b,c);return-1});w("ogCreateBillboardLayer",function(a,b){var c={};c.name=b;var d=E(a);if(d&&d.type==A)return X(Ea,d,c).id;return-1});
w("ogRemoveBillboardLayer",function(a){(a=E(a))&&a.type==Ea&&G(a)});w("ogHideBillboardLayer",function(a){(a=E(a))&&a.type==Ea&&a.V()});w("ogShowBillboardLayer",function(a){(a=E(a))&&a.type==Ea&&a.X()});w("ogCreateBillboardFromCanvas",function(a,b,c,d,e){if((a=E(a))&&a.type==Ea){var f={};f.canvas=b;f.position=[c,d,e];b=X(Da,a.parent.parent,f);a.dh(b);b.i=a.id;return b.id}return-1});w("ogDestroyBillboard",function(a){if((a=E(a))&&a.type==Da)if(a.i){var b=E(a.i);b&&b.type==Ea&&b.wh(a)}else G(a);return-1});
w("ogHideBillboard",function(a){(a=E(a))&&a.type==Da&&a.V();return-1});w("ogShowBillboard",function(a){(a=E(a))&&a.type==Da&&a.X();return-1});w("ogPickBillboard",function(a,b,c){if((a=E(a))&&a.type==z&&a.jc==C)return a.Qe(b,c);return-1});w("ogUpdateBillboard",function(a,b){var c=E(a);if(c&&c.type==Da)c.xb.canvas=b,c.xb.We();else return-1});w("ogFlyTo",function(a,b,c,d,e,f,g){(a=E(a).parent.c)&&le(a.Ia,b,c,d,e,f,g)});
w("ogFlyToLookAtPosition",function(a,b,c,d,e,f,g,j){(a=E(a).parent.c)&&a.kh(b,c,d,e,f,g,j)});w("ogSetFlightDuration",function(a,b){var c=E(a).parent.c;c&&c.jg(b)});w("ogSetCanvasSizeOffset",function(a,b,c){a=E(a).parent.c;a.aj=b;a.ki=c;gg()});
